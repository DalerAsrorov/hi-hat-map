(function () {
'use strict';

// Initializing the map
// let mainMap = L.map('mapWrapper').setView([51.505, -0.09], 13);

// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     maxZoom: 19,
//     attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
// }).addTo(mainMap);

var mapLayer = MQ.mapLayer();
var mainMap = void 0;

mainMap = L.map('mapWrapper', {
  layers: mapLayer,
  center: [40.731701, -73.993411],
  zoom: 12
});

L.control.layers({
  'Map': mapLayer,
  'Hybrid': MQ.hybridLayer(),
  'Satellite': MQ.satelliteLayer(),
  'Dark': MQ.darkLayer(),
  'Light': MQ.lightLayer()
}).addTo(mainMap);

var Map = mainMap;

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var StorageSystem = function () {
    function StorageSystem(localStorage) {
        classCallCheck(this, StorageSystem);

        this._localStorage = localStorage;
    }

    createClass(StorageSystem, [{
        key: "getItem",
        value: function getItem(key) {
            return this._localStorage.getItem(key);
        }
    }, {
        key: "setItem",
        value: function setItem(key, value) {
            this._localStorage.setItem(key, value);
        }
    }]);
    return StorageSystem;
}();

// UI Utils set
function slideToggleCp(targetID, map) {
    var heightSetterID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'arrowPointerWrapper';
    var cpDefaultHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "35%";

    var cpNavHeight = document.getElementById(heightSetterID).offsetHeight.toString();
    var cpWrapperHeight = document.getElementById(targetID).offsetHeight.toString();
    var slidingTime = 270;
    var defaultTop = "-15px";
    var $querySearchForm = $('#querySearchForm');
    var $target = $('#' + targetID);
    var $body = $('body');
    var $slideSwitchIcon = $('#slideSwitchIcon');

    var storageSystem = new StorageSystem(window.localStorage);

    //
    if (cpWrapperHeight === cpNavHeight) {
        $body.css({ "overflowY": "auto" });
        $target.animate({ height: cpDefaultHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-15px"
        }, slidingTime);
        $slideSwitchIcon.addClass('fa-caret-down').removeClass('fa-caret-up');
        storageSystem.setItem("cpOpen", true);
    } else {
        $body.css({ "overflowY": "hidden" });
        $target.animate({ height: cpNavHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-37px"
        }, slidingTime);
        map.invalidateSize();
        $slideSwitchIcon.addClass('fa-caret-up').removeClass('fa-caret-down');
        storageSystem.setItem("cpOpen", false);
    }
}

/**
*  Helper UI method that will keep the
*  control panel closed faster.
*/


/**
*   Based on the given target (div) and data (list of
*   available options), place a table (or list) of
*   widgets.
*/














// export function fadeOut(target, type, callbackHandler = function(){}) {
//     $(target).fadeOut(type, callbackHandler);
// }

function removeElement(target) {
    $(target).remove();
}



function fadeOut(target, timer, callback) {
    $(target).fadeOut(timer, function () {
        // $('#initLoader').remove();
        // $('#mainWrapper').css({opacity: 0.0, visibility: "visible"}).animate({opacity: 1}, 1000);
        callback();
    });
}

function makeVisible(target, timer) {
    $(target).css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1 }, timer);
}

function appendDropDownTo(target, dropdownName, dropdownID, dataList) {
    var $targetRef = $(target).append('<div class="dropdown" id=' + dropdownID + '></div>');
    var $dropdown = $(target).find('#' + dropdownID);
    console.log("Dropdown", $dropdown);
    $dropdown.append('<button class=\'btn btn-secondary dropdown-toggle\' type=\'button\' data-toggle="dropdown">' + dropdownName + '</button>');
    var $dropdownRef = $dropdown.append('<div class=\'dropdown-menu\' </div>');
    var $listDiv = $dropdownRef.find('.dropdown-menu');

    dataList.map(function (action, index) {
        $listDiv.append('\n            <a class =\'dropdown-item\' href=\'#\'> ' + action.name + ' </a>\n        ');
    });
    $dropdown.append($listDiv);
    $(target).append($dropdown);
}

function getRequest(url) {
    return new Promise(function (res, rej) {
        $.get(url, function (data, status) {

            if (status === 'success') {
                console.log("Success");
                res(data);
            } else {
                rej("Couldn't get the file.");
            }
        });
    });
}

function getGeoTrends(latLongString) {
    return window.location.origin + "/api/twitter/geotrends/" + latLongString;
}

// Action
$(window).load(function () {
    var storageSystem = new StorageSystem(window.localStorage);
    var socket = io.connect('http://localhost:8000/');
    var cpOpen = void 0;

    console.log(storageSystem.getItem('firstVisit'));

    /* INTRO LOADER CODE */
    $(function () {
        if (!storageSystem.getItem('firstVisit')) {
            fadeOut('#initLoader', 3000, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        } else {
            fadeOut('#initLoader', 550, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        }
    });

    storageSystem.setItem('firstVisit', true);

    cpOpen = storageSystem.getItem('cpOpen');
    console.log('cpOpen:::', cpOpen);
    if (cpOpen == 'false') {
        console.log("Should slide: cpOpen", cpOpen);
        slideToggleCp('controlPanelWrapper', Map);
    }

    

    $('#toggleSliderBtn').on('click', function (event) {
        console.log('CLICKED');
        slideToggleCp('controlPanelWrapper', Map);
    });

    // let input = document.getElementById('pac-input')
    new L.Control.GPlaceAutocomplete({
        position: 'topright',
        callback: function callback(location) {
            // object of google place is given
            console.log('Location given:', location);
            Map.panTo(location);
        }
    }).addTo(Map);

    socket.on('tweet', function (tweet) {
        console.log('Tweet: ', tweet);
    });

    // generation
    // ui.generateCpRightPanel('#panelWrapper', {});

    // Testing area
    var testGeo = '-25.2744,-133.7751'; // Australia
    // console.log('Path:', Paths.getGeoTrends(testGeo));
    console.log(getGeoTrends(testGeo));
    getRequest(getGeoTrends(testGeo)).then(function (data) {
        if (data.data) {
            var listOfTrends = data.data.trends;
            var geoData = data.geo;

            $("#querySearch").easyAutocomplete({
                data: listOfTrends,
                getValue: 'name',
                list: {
                    match: {
                        enabled: true
                    },
                    onShowListEvent: function onShowListEvent() {
                        switch (storageSystem.getItem('cpOpen')) {
                            case 'false':
                                $('.easy-autocomplete-container').addClass('autocomplete-top');
                                break;
                            case 'true':
                                $('.easy-autocomplete-container').removeClass('autocomplete-top');
                                break;
                            default:
                                $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        }
                    }
                }
                // template: {
                //     type: "custom"
                //     // method: function(value, item) {
                //     //     return "<img src='" + item.icon + "' /> | " + item.type + " | " + value;
                //     // }
                // }
            });
        } else {
            console.log("no data", data);
        }

        // (function() {
        //     // for(let i = 0; i < 10; i++) {
        //     //     ui.addElementToPanel
        //     //     (
        //     //         '#panelCompRightWrapper',
        //     //         {},
        //     //         "Button " + i,
        //     //         $('<a></a>'),
        //     //         'menu btn btn-secondary',
        //     //         'col-lg-4'
        //     //     );
        //     // }

        //     // undefined by default will place 'div' element

        //     // ui.addElementTo('')

        // }());

        // console.log('Should reach here...');
        // let dropdown = ui.addContainerToContainer('#panelCompRightWrapper', 'favorites', undefined, 'dropdown show');
        // let $a = ui.addContainerToContainer(dropdown.attr('id'), undefined, $('<a>'), 'btn btn-secondary dropdown-toggle');
        // ui.addTextTo($a, $a.attr('id'));

        //target, dropdownName, dropdownID, dataList
        var listOfActions = [{
            id: '#topTen',
            name: 'Top 10 Tweets'
        }, {
            id: '#topTen',
            name: 'Top 10 Retweets'
        }];
        appendDropDownTo('#panelCompRightWrapper', 'Top', 'twitterTop', listOfActions);
        appendDropDownTo('#panelCompRightWrapper', 'Not Top', 'yelpTop', listOfActions);

        console.log('$a', $a);
    }).catch(function (err) {
        console.log("Error request", err);
    });

    // Request.getRequest(Utils.getTrendsPlaces(lat, long))
    //     .then((data) => {
    //         console.log("Trends Data");
    //     })
});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL2pzL21hcC5qcyIsIi4uL2pzL3N0b3JhZ2VzeXN0ZW0uanMiLCIuLi9qcy91aS5qcyIsIi4uL2pzL3JlcXVlc3QuanMiLCIuLi9qcy9wYXRocy5qcyIsIi4uL2pzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBJbml0aWFsaXppbmcgdGhlIG1hcFxuLy8gbGV0IG1haW5NYXAgPSBMLm1hcCgnbWFwV3JhcHBlcicpLnNldFZpZXcoWzUxLjUwNSwgLTAuMDldLCAxMyk7XG5cbi8vIEwudGlsZUxheWVyKCdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywge1xuLy8gICAgIG1heFpvb206IDE5LFxuLy8gICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+J1xuLy8gfSkuYWRkVG8obWFpbk1hcCk7XG5cbmxldCBtYXBMYXllciA9IE1RLm1hcExheWVyKCksIG1haW5NYXA7XG5cbm1haW5NYXAgPSBMLm1hcCgnbWFwV3JhcHBlcicsIHtcbiAgICBsYXllcnM6IG1hcExheWVyLFxuICAgIGNlbnRlcjogWyA0MC43MzE3MDEsIC03My45OTM0MTEgXSxcbiAgICB6b29tOiAxMlxufSk7XG5cbkwuY29udHJvbC5sYXllcnMoe1xuICAnTWFwJzogbWFwTGF5ZXIsXG4gICdIeWJyaWQnOiBNUS5oeWJyaWRMYXllcigpLFxuICAnU2F0ZWxsaXRlJzogTVEuc2F0ZWxsaXRlTGF5ZXIoKSxcbiAgJ0RhcmsnOiBNUS5kYXJrTGF5ZXIoKSxcbiAgJ0xpZ2h0JzogTVEubGlnaHRMYXllcigpXG59KS5hZGRUbyhtYWluTWFwKTtcblxuZXhwb3J0IGRlZmF1bHQgbWFpbk1hcDsiLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2VTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKGxvY2FsU3RvcmFnZSwgLi4ucmVzdCkge1xuICAgICAgICB0aGlzLl9sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gICAgfVxuXG4gICAgZ2V0SXRlbShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfVxuXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH1cbn0iLCIvLyBVSSBVdGlscyBzZXRcbmltcG9ydCBTdG9yYWdlU3lzdGVtIGZyb20gJy4vc3RvcmFnZXN5c3RlbS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGlkZVRvZ2dsZUNwKHRhcmdldElELCBtYXAsIGhlaWdodFNldHRlcklEID0gJ2Fycm93UG9pbnRlcldyYXBwZXInLCBjcERlZmF1bHRIZWlnaHQgPSBcIjM1JVwiLCAuLi5yZXN0KSB7XG4gICAgY29uc3QgY3BOYXZIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWlnaHRTZXR0ZXJJRCkub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgY3BXcmFwcGVySGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SUQpLm9mZnNldEhlaWdodC50b1N0cmluZygpO1xuICAgIGNvbnN0IHNsaWRpbmdUaW1lID0gMjcwO1xuICAgIGNvbnN0IGRlZmF1bHRUb3AgPSBcIi0xNXB4XCI7XG4gICAgY29uc3QgJHF1ZXJ5U2VhcmNoRm9ybSA9ICQoJyNxdWVyeVNlYXJjaEZvcm0nKTtcbiAgICBjb25zdCAkdGFyZ2V0ID0gJChgIyR7dGFyZ2V0SUR9YCk7XG4gICAgY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgY29uc3QgJHNsaWRlU3dpdGNoSWNvbiA9ICQoJyNzbGlkZVN3aXRjaEljb24nKTtcblxuICAgIGNvbnN0IHN0b3JhZ2VTeXN0ZW0gPSBuZXcgU3RvcmFnZVN5c3RlbSh3aW5kb3cubG9jYWxTdG9yYWdlKTtcblxuICAgIC8vXG4gICAgaWYoY3BXcmFwcGVySGVpZ2h0ID09PSBjcE5hdkhlaWdodCkge1xuICAgICAgICAkYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcERlZmF1bHRIZWlnaHR9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRxdWVyeVNlYXJjaEZvcm0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0b3A6IFwiLTE1cHhcIlxuICAgICAgICB9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKS5yZW1vdmVDbGFzcygnZmEtY2FyZXQtdXAnKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJGJvZHkuY3NzKHtcIm92ZXJmbG93WVwiOiBcImhpZGRlblwifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcE5hdkhlaWdodH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHF1ZXJ5U2VhcmNoRm9ybS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogXCItMzdweFwiXG4gICAgICAgIH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgbWFwLmludmFsaWRhdGVTaXplKCk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LXVwJykucmVtb3ZlQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIGZhbHNlKTtcbiAgICB9XG59XG5cbi8qKlxuKiAgSGVscGVyIFVJIG1ldGhvZCB0aGF0IHdpbGwga2VlcCB0aGVcbiogIGNvbnRyb2wgcGFuZWwgY2xvc2VkIGZhc3Rlci5cbiovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3BDc3ModGFyZ2V0LCBoZWlnaHQsIGJvZHk9JCgnYm9keScpKSB7XG4gICAgYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgJHRhcmdldC5jc3Moe2hlaWdodDogY3BEZWZhdWx0SGVpZ2h0fSk7XG59XG5cbi8qKlxuKiAgIEJhc2VkIG9uIHRoZSBnaXZlbiB0YXJnZXQgKGRpdikgYW5kIGRhdGEgKGxpc3Qgb2ZcbiogICBhdmFpbGFibGUgb3B0aW9ucyksIHBsYWNlIGEgdGFibGUgKG9yIGxpc3QpIG9mXG4qICAgd2lkZ2V0cy5cbiovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDcFJpZ2h0UGFuZWwodGFyZ2V0LCBkYXRhKSB7XG4gICAgbGV0ICR0YXJnZXQgPSAkKHRhcmdldCk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAkdGFyZ2V0LmFwcGVuZFxuICAgICAgICAoXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1sZy00XCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgIFwiU29tZXRoaW5nXCIgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFRvUGFuZWwoXG4gICAgcGFuZWwsXG4gICAgZXZlbnRMaXN0ZW5lcixcbiAgICBodG1sSXRlbU5hbWUgPSAnJyxcbiAgICBodG1sSXRlbSA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicpLFxuICAgIGh0bWxJdGVtQ2xhc3MgPSAnbWVudScsXG4gICAgY29sdW1uU2l6ZSA9ICdjb2wtbGctNCcpIHtcblxuICAgIGxldCAkcGFuZWwgPSAkKHBhbmVsKTtcbiAgICBsZXQgJGh0bWxJdGVtID0gaHRtbEl0ZW07XG4gICAgbGV0ICRkaXZDb2wgPSAkKCc8ZGl2PjwvZGl2PicpO1xuXG4gICAgJGh0bWxJdGVtLmFkZENsYXNzKGh0bWxJdGVtQ2xhc3MpO1xuICAgICRodG1sSXRlbS5odG1sKCc8c3BhbiBjbGFzcz1cInJpZ2h0LWNwLW5hbWVcIj4nXG4gICAgICAgICAgICAgICAgICAgKyBodG1sSXRlbU5hbWUgKyAnPC9zcGFuPicpXG4gICAgJGRpdkNvbC5hZGRDbGFzcyhjb2x1bW5TaXplKTtcblxuICAgICRkaXZDb2wuYXBwZW5kKCRodG1sSXRlbSk7XG4gICAgJHBhbmVsLmFwcGVuZCgkZGl2Q29sKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVsZW1lbnRUbyh0YXJnZXQsIGVsZW1lbnQ9JCgnPGRpdj48L2Rpdj4nKSkge1xuICAgIGlmKHR5cGVvZiB0YXJnZXQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gJChgJHt0YXJnZXR9YCkuYXBwZW5kKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29udGFpbmVyVG9Db250YWluZXIocGFuZWwsIGlkPScnLCBjb250YWluZXI9JChgPGRpdiBpZD0ke2lkfT48L2Rpdj5gKSwgY2xhc3Nlcz0nJykge1xuICAgIGxldCBhZGRJZCA9IGNvbnRhaW5lci5hdHRyKCdpZCcpID8gY29udGFpbmVyLmF0dHIoJ2lkJykgOiBjb250YWluZXIuYXR0cignaWQnLCBgIyR7aWR9YCk7XG4gICAgYWRkQ2xhc3MoY29udGFpbmVyLCBjbGFzc2VzKTtcbiAgICAkKHBhbmVsKS5hcHBlbmQoY29udGFpbmVyKTtcbiAgICBjb25zb2xlLmxvZygnY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRleHRUbyh0YXJnZXQsIHRleHQpIHtcbiAgICBpZih0eXBlb2YgdGFyZ2V0ID09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnF1ZXJ5IHNob3VsZCBiZSBhcHBsaWVkIGRpcmVjdGx5XCIpO1xuICAgICAgICB0YXJnZXQuaHRtbCh0ZXh0KTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIHRhcmdldCA9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkl0J3MgaWRcIiwgdGFyZ2V0KTtcbiAgICAgICAgJCh0YXJnZXQpLmh0bWwodGV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQodGFyZ2V0LCB0eXBlLCBjYWxsYmFja0hhbmRsZXIgPSBmdW5jdGlvbigpe30pIHtcbi8vICAgICAkKHRhcmdldCkuZmFkZU91dCh0eXBlLCBjYWxsYmFja0hhbmRsZXIpO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCh0YXJnZXQpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZSh0YXJnZXQsIHN0eWxlT2JqZWN0LCAuLi5yZXN0KSB7XG4gICAgY29uc29sZS5sb2coXCJzdHlsZSgpIHJlc3Q6XCIsIHJlc3QpO1xuICAgIHJldHVybiAkKHRhcmdldCkuY3NzKHN0eWxlT2JqZWN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQodGFyZ2V0LCB0aW1lciwgY2FsbGJhY2spIHtcbiAgICAkKHRhcmdldCkuZmFkZU91dCh0aW1lciwgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICQoJyNpbml0TG9hZGVyJykucmVtb3ZlKCk7XG4gICAgICAgIC8vICQoJyNtYWluV3JhcHBlcicpLmNzcyh7b3BhY2l0eTogMC4wLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAxMDAwKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VWaXNpYmxlKHRhcmdldCwgdGltZXIpIHtcbiAgICAkKHRhcmdldCkuY3NzKHtvcGFjaXR5OiAwLjAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwifSkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIHRpbWVyKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kRHJvcERvd25Ubyh0YXJnZXQsIGRyb3Bkb3duTmFtZSwgZHJvcGRvd25JRCwgZGF0YUxpc3QpIHtcbiAgICBsZXQgJHRhcmdldFJlZiA9ICQodGFyZ2V0KS5hcHBlbmQoYDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPSR7ZHJvcGRvd25JRH0+PC9kaXY+YCk7XG4gICAgbGV0ICRkcm9wZG93biA9ICQodGFyZ2V0KS5maW5kKGAjJHtkcm9wZG93bklEfWApO1xuICAgIGNvbnNvbGUubG9nKFwiRHJvcGRvd25cIiwgJGRyb3Bkb3duKTtcbiAgICAkZHJvcGRvd24uYXBwZW5kKGA8YnV0dG9uIGNsYXNzPSdidG4gYnRuLXNlY29uZGFyeSBkcm9wZG93bi10b2dnbGUnIHR5cGU9J2J1dHRvbicgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPmAgKyBkcm9wZG93bk5hbWUgKyBgPC9idXR0b24+YCk7XG4gICAgbGV0ICRkcm9wZG93blJlZiA9ICRkcm9wZG93bi5hcHBlbmQoYDxkaXYgY2xhc3M9J2Ryb3Bkb3duLW1lbnUnIDwvZGl2PmApO1xuICAgIGxldCAkbGlzdERpdiA9ICRkcm9wZG93blJlZi5maW5kKCcuZHJvcGRvd24tbWVudScpO1xuXG4gICAgZGF0YUxpc3QubWFwKChhY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICRsaXN0RGl2LmFwcGVuZFxuICAgICAgICAoYFxuICAgICAgICAgICAgPGEgY2xhc3MgPSdkcm9wZG93bi1pdGVtJyBocmVmPScjJz4gJHthY3Rpb24ubmFtZX0gPC9hPlxuICAgICAgICBgKVxuICAgIH0pO1xuICAgICRkcm9wZG93bi5hcHBlbmQoJGxpc3REaXYpO1xuICAgICQodGFyZ2V0KS5hcHBlbmQoJGRyb3Bkb3duKTtcbn1cblxuXG5cblxuXG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgJC5nZXQodXJsLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiQ291bGRuJ3QgZ2V0IHRoZSBmaWxlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59OyIsIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlbmRzUGF0aCh3ZWlkKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL3RyZW5kcy8ke3dlaWR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb1RyZW5kcyhsYXRMb25nU3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL2dlb3RyZW5kcy8ke2xhdExvbmdTdHJpbmd9YDtcbn0iLCJpbXBvcnQgTWFwIGZyb20gJy4vbWFwLmpzJztcbmltcG9ydCAqIGFzIHVpIGZyb20gJy4vdWkuanMnO1xuaW1wb3J0ICogYXMgUmVxdWVzdCBmcm9tICcuL3JlcXVlc3QuanMnO1xuaW1wb3J0ICogYXMgUGF0aHMgZnJvbSAnLi9wYXRocy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBTdG9yYWdlU3lzdGVtIGZyb20gJy4vc3RvcmFnZXN5c3RlbS5qcyc7XG5cbi8vIEFjdGlvblxuJCh3aW5kb3cpLmxvYWQoKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JhZ2VTeXN0ZW0gPSBuZXcgU3RvcmFnZVN5c3RlbSh3aW5kb3cubG9jYWxTdG9yYWdlKTtcbiAgICBsZXQgc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwLycpO1xuICAgIGxldCBjcE9wZW47XG5cbiAgICBjb25zb2xlLmxvZyhzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2ZpcnN0VmlzaXQnKSk7XG5cbiAgICAvKiBJTlRSTyBMT0FERVIgQ09ERSAqL1xuICAgICQoKCkgPT4ge1xuICAgICAgICBpZighc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdmaXJzdFZpc2l0JykpIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgMzAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpLnJlbW92ZUVsZW1lbnQoJyNpbml0TG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgdWkubWFrZVZpc2libGUoJyNtYWluV3JhcHBlcicsIDUwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgNTUwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdWkucmVtb3ZlRWxlbWVudCgnI2luaXRMb2FkZXInKTtcbiAgICAgICAgICAgICAgICB1aS5tYWtlVmlzaWJsZSgnI21haW5XcmFwcGVyJywgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oJ2ZpcnN0VmlzaXQnLCB0cnVlKTtcblxuICAgIGNwT3BlbiA9IHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJyk7XG4gICAgY29uc29sZS5sb2coJ2NwT3Blbjo6OicsIGNwT3Blbik7XG4gICAgaWYoY3BPcGVuID09ICdmYWxzZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaG91bGQgc2xpZGU6IGNwT3BlblwiLCBjcE9wZW4pO1xuICAgICAgICB1aS5zbGlkZVRvZ2dsZUNwKCdjb250cm9sUGFuZWxXcmFwcGVyJywgTWFwKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGdldFR3ZWV0cyhldmVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgUmVhZHk6ICR7ZXZlbnR9YCk7XG4gICAgICAgIHNvY2tldC5lbWl0KCd0b3BpYycsIFwidHJ1bXBcIik7XG4gICAgfTtcblxuICAgICQoYCN0b2dnbGVTbGlkZXJCdG5gKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NMSUNLRUQnKTtcbiAgICAgICAgdWkuc2xpZGVUb2dnbGVDcCgnY29udHJvbFBhbmVsV3JhcHBlcicsIE1hcCk7XG4gICAgfSk7XG5cbiAgICAvLyBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFjLWlucHV0JylcbiAgICBuZXcgTC5Db250cm9sLkdQbGFjZUF1dG9jb21wbGV0ZSh7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICAgICAgICBjYWxsYmFjazogKGxvY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAvLyBvYmplY3Qgb2YgZ29vZ2xlIHBsYWNlIGlzIGdpdmVuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gZ2l2ZW46JywgbG9jYXRpb24pO1xuICAgICAgICAgICAgTWFwLnBhblRvKGxvY2F0aW9uKTtcblxuICAgICAgICB9XG4gICAgfSkuYWRkVG8oTWFwKTtcblxuICAgIHNvY2tldC5vbigndHdlZXQnLCAodHdlZXQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1R3ZWV0OiAnLCB0d2VldCk7XG4gICAgfSk7XG5cblxuICAgIC8vIGdlbmVyYXRpb25cbiAgICAvLyB1aS5nZW5lcmF0ZUNwUmlnaHRQYW5lbCgnI3BhbmVsV3JhcHBlcicsIHt9KTtcblxuICAgIC8vIFRlc3RpbmcgYXJlYVxuICAgIGxldCB0ZXN0R2VvID0gJy0yNS4yNzQ0LC0xMzMuNzc1MSc7IC8vIEF1c3RyYWxpYVxuICAgIC8vIGNvbnNvbGUubG9nKCdQYXRoOicsIFBhdGhzLmdldEdlb1RyZW5kcyh0ZXN0R2VvKSk7XG4gICAgY29uc29sZS5sb2coUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKTtcbiAgICBSZXF1ZXN0LmdldFJlcXVlc3QoUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmKGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgbGV0IGxpc3RPZlRyZW5kcyA9IGRhdGEuZGF0YS50cmVuZHM7XG4gICAgICAgICAgICBsZXQgZ2VvRGF0YSA9IGRhdGEuZ2VvO1xuXG4gICAgICAgICAgICAkKFwiI3F1ZXJ5U2VhcmNoXCIpLmVhc3lBdXRvY29tcGxldGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGxpc3RPZlRyZW5kcyxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgIGxpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TaG93TGlzdEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2NwT3BlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInKS5hZGRDbGFzcygnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RydWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0ZW1wbGF0ZToge1xuICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImN1c3RvbVwiXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIG1ldGhvZDogZnVuY3Rpb24odmFsdWUsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIHJldHVybiBcIjxpbWcgc3JjPSdcIiArIGl0ZW0uaWNvbiArIFwiJyAvPiB8IFwiICsgaXRlbS50eXBlICsgXCIgfCBcIiArIHZhbHVlO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgIC8vIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIC8vICAgICAvLyAgICAgdWkuYWRkRWxlbWVudFRvUGFuZWxcbiAgICAgICAgLy8gICAgIC8vICAgICAoXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgICcjcGFuZWxDb21wUmlnaHRXcmFwcGVyJyxcbiAgICAgICAgLy8gICAgIC8vICAgICAgICAge30sXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgIFwiQnV0dG9uIFwiICsgaSxcbiAgICAgICAgLy8gICAgIC8vICAgICAgICAgJCgnPGE+PC9hPicpLFxuICAgICAgICAvLyAgICAgLy8gICAgICAgICAnbWVudSBidG4gYnRuLXNlY29uZGFyeScsXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgICdjb2wtbGctNCdcbiAgICAgICAgLy8gICAgIC8vICAgICApO1xuICAgICAgICAvLyAgICAgLy8gfVxuXG4gICAgICAgIC8vICAgICAvLyB1bmRlZmluZWQgYnkgZGVmYXVsdCB3aWxsIHBsYWNlICdkaXYnIGVsZW1lbnRcblxuICAgICAgICAvLyAgICAgLy8gdWkuYWRkRWxlbWVudFRvKCcnKVxuXG4gICAgICAgIC8vIH0oKSk7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ1Nob3VsZCByZWFjaCBoZXJlLi4uJyk7XG4gICAgICAgIC8vIGxldCBkcm9wZG93biA9IHVpLmFkZENvbnRhaW5lclRvQ29udGFpbmVyKCcjcGFuZWxDb21wUmlnaHRXcmFwcGVyJywgJ2Zhdm9yaXRlcycsIHVuZGVmaW5lZCwgJ2Ryb3Bkb3duIHNob3cnKTtcbiAgICAgICAgLy8gbGV0ICRhID0gdWkuYWRkQ29udGFpbmVyVG9Db250YWluZXIoZHJvcGRvd24uYXR0cignaWQnKSwgdW5kZWZpbmVkLCAkKCc8YT4nKSwgJ2J0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZScpO1xuICAgICAgICAvLyB1aS5hZGRUZXh0VG8oJGEsICRhLmF0dHIoJ2lkJykpO1xuXG4gICAgICAgIC8vdGFyZ2V0LCBkcm9wZG93bk5hbWUsIGRyb3Bkb3duSUQsIGRhdGFMaXN0XG4gICAgICAgIGNvbnN0IGxpc3RPZkFjdGlvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICcjdG9wVGVuJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnVG9wIDEwIFR3ZWV0cydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICcjdG9wVGVuJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnVG9wIDEwIFJldHdlZXRzJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICB1aS5hcHBlbmREcm9wRG93blRvKCcjcGFuZWxDb21wUmlnaHRXcmFwcGVyJywgJ1RvcCcsICd0d2l0dGVyVG9wJywgbGlzdE9mQWN0aW9ucyk7XG4gICAgICAgIHVpLmFwcGVuZERyb3BEb3duVG8oJyNwYW5lbENvbXBSaWdodFdyYXBwZXInLCAnTm90IFRvcCcsICd5ZWxwVG9wJywgbGlzdE9mQWN0aW9ucyk7XG5cblxuICAgICAgICBjb25zb2xlLmxvZygnJGEnLCAkYSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIHJlcXVlc3RcIiwgZXJyKTtcbiAgICB9KTtcblxuICAgIC8vIFJlcXVlc3QuZ2V0UmVxdWVzdChVdGlscy5nZXRUcmVuZHNQbGFjZXMobGF0LCBsb25nKSlcbiAgICAvLyAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJlbmRzIERhdGFcIik7XG4gICAgLy8gICAgIH0pXG59KTtcblxuXG5cbiJdLCJuYW1lcyI6WyJtYXBMYXllciIsIk1RIiwibWFpbk1hcCIsIkwiLCJtYXAiLCJjb250cm9sIiwibGF5ZXJzIiwiaHlicmlkTGF5ZXIiLCJzYXRlbGxpdGVMYXllciIsImRhcmtMYXllciIsImxpZ2h0TGF5ZXIiLCJhZGRUbyIsIlN0b3JhZ2VTeXN0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJfbG9jYWxTdG9yYWdlIiwia2V5IiwiZ2V0SXRlbSIsInZhbHVlIiwic2V0SXRlbSIsInNsaWRlVG9nZ2xlQ3AiLCJ0YXJnZXRJRCIsImhlaWdodFNldHRlcklEIiwiY3BEZWZhdWx0SGVpZ2h0IiwiY3BOYXZIZWlnaHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib2Zmc2V0SGVpZ2h0IiwidG9TdHJpbmciLCJjcFdyYXBwZXJIZWlnaHQiLCJzbGlkaW5nVGltZSIsImRlZmF1bHRUb3AiLCIkcXVlcnlTZWFyY2hGb3JtIiwiJCIsIiR0YXJnZXQiLCIkYm9keSIsIiRzbGlkZVN3aXRjaEljb24iLCJzdG9yYWdlU3lzdGVtIiwid2luZG93IiwiY3NzIiwiYW5pbWF0ZSIsImhlaWdodCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJpbnZhbGlkYXRlU2l6ZSIsInJlbW92ZUVsZW1lbnQiLCJ0YXJnZXQiLCJyZW1vdmUiLCJmYWRlT3V0IiwidGltZXIiLCJjYWxsYmFjayIsIm1ha2VWaXNpYmxlIiwib3BhY2l0eSIsInZpc2liaWxpdHkiLCJhcHBlbmREcm9wRG93blRvIiwiZHJvcGRvd25OYW1lIiwiZHJvcGRvd25JRCIsImRhdGFMaXN0IiwiJHRhcmdldFJlZiIsImFwcGVuZCIsIiRkcm9wZG93biIsImZpbmQiLCJsb2ciLCIkZHJvcGRvd25SZWYiLCIkbGlzdERpdiIsImFjdGlvbiIsImluZGV4IiwibmFtZSIsImdldFJlcXVlc3QiLCJ1cmwiLCJQcm9taXNlIiwicmVzIiwicmVqIiwiZ2V0IiwiZGF0YSIsInN0YXR1cyIsImdldEdlb1RyZW5kcyIsImxhdExvbmdTdHJpbmciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImxvYWQiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJjcE9wZW4iLCJNYXAiLCJvbiIsImV2ZW50IiwiQ29udHJvbCIsIkdQbGFjZUF1dG9jb21wbGV0ZSIsInBhblRvIiwidHdlZXQiLCJ0ZXN0R2VvIiwiUGF0aHMiLCJ0aGVuIiwibGlzdE9mVHJlbmRzIiwidHJlbmRzIiwiZ2VvRGF0YSIsImdlbyIsImVhc3lBdXRvY29tcGxldGUiLCJsaXN0T2ZBY3Rpb25zIiwiJGEiLCJjYXRjaCIsImVyciJdLCJtYXBwaW5ncyI6Ijs7O0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBSUEsV0FBV0MsR0FBR0QsUUFBSCxFQUFmO0lBQThCRSxnQkFBOUI7O0FBRUFBLFVBQVVDLEVBQUVDLEdBQUYsQ0FBTSxZQUFOLEVBQW9CO1VBQ2xCSixRQURrQjtVQUVsQixDQUFFLFNBQUYsRUFBYSxDQUFDLFNBQWQsQ0FGa0I7UUFHcEI7Q0FIQSxDQUFWOztBQU1BRyxFQUFFRSxPQUFGLENBQVVDLE1BQVYsQ0FBaUI7U0FDUk4sUUFEUTtZQUVMQyxHQUFHTSxXQUFILEVBRks7ZUFHRk4sR0FBR08sY0FBSCxFQUhFO1VBSVBQLEdBQUdRLFNBQUgsRUFKTztXQUtOUixHQUFHUyxVQUFIO0NBTFgsRUFNR0MsS0FOSCxDQU1TVCxPQU5UOztBQVFBLFVBQWVBLE9BQWY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDeEJxQlU7MkJBQ0xDLFlBQVosRUFBbUM7OzthQUMxQkMsYUFBTCxHQUFxQkQsWUFBckI7Ozs7O2dDQUdJRSxLQUFLO21CQUNGLEtBQUtELGFBQUwsQ0FBbUJFLE9BQW5CLENBQTJCRCxHQUEzQixDQUFQOzs7O2dDQUdJQSxLQUFLRSxPQUFPO2lCQUNYSCxhQUFMLENBQW1CSSxPQUFuQixDQUEyQkgsR0FBM0IsRUFBZ0NFLEtBQWhDOzs7Ozs7QUNYUjtBQUNBLEFBRUEsQUFBTyxTQUFTRSxhQUFULENBQXVCQyxRQUF2QixFQUFpQ2hCLEdBQWpDLEVBQWdIO1FBQTFFaUIsY0FBMEUsdUVBQXpELHFCQUF5RDtRQUFsQ0MsZUFBa0MsdUVBQWhCLEtBQWdCOztRQUM3R0MsY0FBY0MsU0FBU0MsY0FBVCxDQUF3QkosY0FBeEIsRUFBd0NLLFlBQXhDLENBQXFEQyxRQUFyRCxFQUFwQjtRQUNNQyxrQkFBa0JKLFNBQVNDLGNBQVQsQ0FBd0JM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
