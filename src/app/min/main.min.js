(function () {
'use strict';

// Initializing the map
// let mainMap = L.map('mapWrapper').setView([51.505, -0.09], 13);

// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     maxZoom: 19,
//     attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
// }).addTo(mainMap);

var mapLayer = MQ.mapLayer();
var mainMap = void 0;

mainMap = L.map('mapWrapper', {
  layers: mapLayer,
  center: [40.731701, -73.993411],
  zoom: 12
});

L.control.layers({
  'Map': mapLayer,
  'Hybrid': MQ.hybridLayer(),
  'Satellite': MQ.satelliteLayer(),
  'Dark': MQ.darkLayer(),
  'Light': MQ.lightLayer()
}).addTo(mainMap);

var Map = mainMap;

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

/**
 *
 * Storage Base class
 *
 */

var Storage = function () {
   function Storage() {
      classCallCheck(this, Storage);
   }

   createClass(Storage, [{
      key: "getItem",
      value: function getItem(key) {}
   }, {
      key: "getRawItem",
      value: function getRawItem(key) {}
   }, {
      key: "setItem",
      value: function setItem(key, value) {}
   }, {
      key: "setRawItem",
      value: function setRawItem(key, value) {}
   }]);
   return Storage;
}();

var StorageSystem = function (_Storage) {
    inherits(StorageSystem, _Storage);

    function StorageSystem(localStorage) {
        classCallCheck(this, StorageSystem);

        var _this = possibleConstructorReturn(this, (StorageSystem.__proto__ || Object.getPrototypeOf(StorageSystem)).call(this));

        _this._localStorage = localStorage;
        return _this;
    }

    createClass(StorageSystem, [{
        key: 'getItem',
        value: function getItem(key) {
            return this._localStorage.getItem(key);
        }
    }, {
        key: 'getRawItem',
        value: function getRawItem(key) {
            return JSON.parse(this.getItem(key));
        }
    }, {
        key: 'setItem',
        value: function setItem(key, value) {
            this._localStorage.setItem(key, value);
        }
    }, {
        key: 'setRawItem',
        value: function setRawItem(key, value) {
            this.setItem(key, JSON.stringify(value));
        }
    }]);
    return StorageSystem;
}(Storage);

// UI Utils set
function slideToggleCp(targetID, map) {
    var heightSetterID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'arrowPointerWrapper';
    var cpDefaultHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "35%";

    var cpNavHeight = document.getElementById(heightSetterID).offsetHeight.toString();
    var cpWrapperHeight = document.getElementById(targetID).offsetHeight.toString();
    var slidingTime = 270;
    var defaultTop = "-15px";
    var $querySearchForm = $('#querySearchForm');
    var $target = $('#' + targetID);
    var $body = $('body');
    var $slideSwitchIcon = $('#slideSwitchIcon');

    var storageSystem = new StorageSystem(window.localStorage);

    //
    if (cpWrapperHeight === cpNavHeight) {
        $body.css({ "overflowY": "auto" });
        $target.animate({ height: cpDefaultHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-15px"
        }, slidingTime);
        $slideSwitchIcon.addClass('fa-caret-down').removeClass('fa-caret-up');
        storageSystem.setItem("cpOpen", true);
    } else {
        $body.css({ "overflowY": "hidden" });
        $target.animate({ height: cpNavHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-37px"
        }, slidingTime);
        map.invalidateSize();
        $slideSwitchIcon.addClass('fa-caret-up').removeClass('fa-caret-down');
        storageSystem.setItem("cpOpen", false);
    }
}

/**
*  Helper UI method that will keep the
*  control panel closed faster.
*/


/**
*   Based on the given target (div) and data (list of
*   available options), place a table (or list) of
*   widgets.
*/








function addClass(target, className) {
    $(target).addClass(className);
}



function removeClass(target, className) {
    $(target).removeClass(className);
}

// export function fadeOut(target, type, callbackHandler = function(){}) {
//     $(target).fadeOut(type, callbackHandler);
// }

function addEventListenerTo(target, type, fn) {
    document.getElementById(target).addEventListener(type, fn);
}

function removeElement(target) {
    $(target).remove();
}



function fadeOut(target, timer, callback) {
    $(target).fadeOut(timer, function () {
        // $('#initLoader').remove();
        // $('#mainWrapper').css({opacity: 0.0, visibility: "visible"}).animate({opacity: 1}, 1000);
        callback();
    });
}

function makeVisible(target, timer) {
    $(target).css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1 }, timer);
}

function appendDropDownTo(target, dropdownName, dropdownID, actionsList) {
    // console.log("HERE", dropdownName, " HERE ", dropdownID, " HERE ", actionsList);
    var $targetRef = $(target).append('<div class="dropdown" id=' + dropdownID + '></div>');
    var $dropdown = $(target).find('#' + dropdownID);
    $dropdown.append('<button class=\'btn btn-secondary dropdown-toggle\' type=\'button\' data-toggle="dropdown">' + dropdownName + '</button>');
    var $dropdownRef = $dropdown.append('<div class=\'dropdown-menu\' </div>');
    var $listDiv = $dropdownRef.find('.dropdown-menu');

    actionsList.map(function (action, index) {
        $listDiv.append('\n            <a class =\'dropdown-item\' id=\'' + action.id + '\' href=\'#\'> ' + action.name + ' </a>\n        ');
    });
    $dropdown.append($listDiv);
    $(target).append($dropdown);
}



function appendDropDownToPanel(target, componentsClass) {
    console.log("componentsClass.list:", componentsClass.list);
    appendDropDownTo(target, componentsClass.name, componentsClass.id, componentsClass.list);
}

function onSubmit(target, callback) {
    $(target).submit(callback);
}

function getInputValue(target) {
    return $(target).val();
}

function getRequest(url) {
    return new Promise(function (res, rej) {
        $.get(url, function (data, status) {

            if (status === 'success') {
                console.log("Success");
                res(data);
            } else {
                rej("Couldn't get the file.");
            }
        });
    });
}

function postRequest(url, info) {
    return new Promise(function (res, rej) {
        $.post(url, info, function (data, status) {
            if (status === 'success') {
                res(data);
            } else {
                rej("Unsuccessful POST request.");
            }
        });
    });
}

function getGeoTrends(latLongString) {
    return window.location.origin + "/api/twitter/geotrends/" + latLongString;
}

function getTwitData() {
    return window.location.origin + "/api/twitter/twitdata";
}

/**
 *
 * Control class for handing control panel events
 *
 */

var PanelComponent = function () {
    function PanelComponent(id, name, actionHandler) {
        var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
        classCallCheck(this, PanelComponent);

        this.id = id;
        this.name = name;
        this.actionHandler = actionHandler;
        this.data = data;
    }

    createClass(PanelComponent, [{
        key: "getSotedDataBy",
        value: function getSotedDataBy(key) {
            var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var sortedData = void 0;
            var descComparator = R.comparator(function (a, b) {
                return R.gt(R.prop(key, a), R.prop(key, b));
            });

            sortedData = ascending ? R.sortBy(R.prop(key), this.data) : R.sort(descComparator, this.data);
            return data;
        }
    }, {
        key: "getTopN",
        value: function getTopN(limit, key) {
            var ascending = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            var formatted = getSortedDataBy(key, ascending);
            return R.slice(0, limit + 1, formatted);
        }
    }, {
        key: "getActionHandler",
        value: function getActionHandler() {
            return this.actionHandler;
        }
    }, {
        key: "getData",
        value: function getData() {
            return this.data;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName(name) {
            this.name = name;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(actionHandler) {
            this.actionHandler = actionHandler;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(fn) {
            this.actionHandler = fn;
        }
    }, {
        key: "setData",
        value: function setData(data) {
            this.data = data;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                "id": this.id,
                "name": this.name,
                "actionHandler": this.actionHandler,
                "data": this.data
            };
        }
    }]);
    return PanelComponent;
}();

var Components = function () {
    function Components() {
        var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
        var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        classCallCheck(this, Components);

        this.id = id;
        this.name = name;
        this.list = list;
    }

    createClass(Components, [{
        key: "add",
        value: function add(panelComponent) {
            this.list.push(panelComponent);
        }
    }, {
        key: "remove",
        value: function remove(panelComponent) {
            for (var i = 0; i < this.list.length; i++) {
                if (this.list[i].id === panelComponent.id) {
                    this.list.splice(i, 1);
                }
            }
        }
    }, {
        key: "get",
        value: function get$$1() {
            return this;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName() {
            return this.name;
        }
    }, {
        key: "getList",
        value: function getList() {
            return this.list;
        }
    }, {
        key: "set",
        value: function set$$1(id, name, list) {
            this.id = id;
            this.name = name;
            this.list = list;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "setId",
        value: function setId(id) {
            this.id = id;
        }
    }, {
        key: "setList",
        value: function setList(list) {
            this.list = list;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                id: this.id,
                name: this.name,
                list: this.list
            };
        }
    }]);
    return Components;
}();

var IMAGES = {

    SOC_MEDIA_ICONS: {
        TWITTER: '../../img/icons/twitter_i.png',
        YELP: '',
        FOURSQARE: ''
    }
};

function createIcon(iconUrl) {
    var shadowUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var iconSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [38, 95];
    var shadowSize = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [50, 64];
    var iconAnchor = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [22, 94];
    var shadowIcon = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [4, 62];
    var popupAnchor = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [-3, -76];

    var twitterIcon = L.icon({
        iconUrl: iconUrl,
        // shadowUrl: IMAGES.SOC_MEDIA_ICONS.TWITTER,

        iconSize: iconSize, // size of the icon
        shadowSize: shadowSize, // size of the shadow
        iconAnchor: iconAnchor, // point of the icon which will correspond to marker's location
        shadowAnchor: shadowIcon, // the same for the shadow
        popupAnchor: popupAnchor // point from which the popup should open relative to the iconAnchor
    });

    console.log('Icon Object: ', twitterIcon);

    return twitterIcon;
}

// export function generateResults(data) {
//     console.log('Data', data);
// }

// export function animateTransition(data) {
//     console.log("")
// }

var generateResults = R.curry(function (data, geo) {
    R.pipe(R.map(drawMarker))(data);
});

var drawMarker = R.curry(function (pointData) {
    var twitterIcon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);

    L.marker([51.5, -0.09], { icon: twitterIcon }).addTo(Map);
});

var drawObject = R.curry(function (data, geolocation, iconType) {
    var icon = void 0;
    switch (iconType) {
        case 'twitter':
            console.log('data, geo, icon:', data, geolocation, iconType);
            icon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);
            L.marker([geolocation[1], geolocation[0]], { icon: icon }).addTo(Map);
            break;
        case 'yelp':
            console.log('Yelp data, geo, icon', data, geolocation, iconType);
            break;
        default:
            console.log('No soc media was selected.');
    }

    console.log('after switch');
});

// Action
$(window).load(function () {
    var storageSystem = new StorageSystem(window.localStorage);

    var socket = io.connect('http://localhost:8000/');

    var cpOpen = void 0,
        tracker = void 0,
        cpRightList = [];

    var rightComponents = new Components();

    /* INTRO LOADER CODE */
    $(function () {
        if (!storageSystem.getItem('firstVisit')) {
            fadeOut('#initLoader', 3000, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        } else {
            fadeOut('#initLoader', 550, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        }
    });

    storageSystem.setItem('firstVisit', true);

    cpOpen = storageSystem.getItem('cpOpen');
    console.log('cpOpen:::', cpOpen);
    if (cpOpen == 'false') {
        console.log("Should slide: cpOpen", cpOpen);
        slideToggleCp('controlPanelWrapper', Map);
    }

    // function getTweets(event) {
    //     // console.log(`Ready: ${event}`);

    // };


    addEventListenerTo('toggleSliderBtn', 'click', function (event) {
        return slideToggleCp('controlPanelWrapper', Map);
    });

    // let input = document.getElementById('pac-input')
    new L.Control.GPlaceAutocomplete({
        position: 'topright',
        callback: function callback(location) {
            console.log('Location given:', location);
            var lat = location.geometry.location.lat();
            var lng = location.geometry.location.lng();

            // const sanFrancisco = [ '-122.75, 36.8, -121.75, 37.8' ];
            var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

            storageSystem.setRawItem('lastLocation', lastLocation);
            Map.setView([lat, lng], 8, { animate: true, duration: 2.0 });
        }
    }).addTo(Map);

    socket.on('tweet', function (tweet) {
        // GraphOps.drawTweet();
        var coordinates = tweet.place.bounding_box.coordinates[0][1];
        var user = tweet.user;
        var text = tweet.text;
        var id = tweet.id;
        var created_at = tweet.created_at;
        var mlsTime = tweet.timestamp_ms;

        var data = {
            user: user,
            text: text,
            created_at: created_at,
            id: id,
            mlsTime: mlsTime
        };

        drawObject(data, coordinates, 'twitter');

        console.log('Tweet: ', tweet, coordinates);
        // [-121.906598, 36.975477]
    });

    function getInfoBasedOnChosenMode(mode, query, lastLocation, twitData) {
        switch (mode) {
            case 'real_time':
                socket.emit('topic', { topic: query, location: lastLocation });
                break;
            case 'specified_time':
                postRequest(getTwitData(), twitData).then(function (data) {
                    console.log('Data returned from API', data);
                }).catch(function (err) {
                    console.log('Error post request', err);
                });
                break;
            default:
                console.log('none of the modes selected');

        }
    }

    onSubmit('#querySearchForm', function (e) {
        e.preventDefault();
        var query = getInputValue('#querySearch');
        var lat = Map.getCenter().lat;
        var lng = Map.getCenter().lng;
        var twitData = { q: query, geocode: [lat, lng], radius: '25mi' };

        var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

        if (R.isNil(storageSystem.getItem('lastLocation'))) {
            console.log('Not selected. twitData:', twitData);
            // const testTwitDataItemTest = {q: 'trump', geocode: [37.7749, -122.4194], radius: '25mi'};

            getInfoBasedOnChosenMode('real_time', query, lastLocation, twitData);
            storageSystem.setRawItem('lastLocation', lastLocation);
        } else {
            console.log('Exists', storageSystem.getItem('lastLocation'));
            lastLocation = storageSystem.getRawItem('lastLocation');

            /**
                 TODO:
                - This is for General and Selective timing
                - Get data points and draw them on the map
              */
            // const first = GraphOps.generateResults([1, 2, 3, 4]);
            // first(lastLocation);

            /**
                 TODO:
                - This portion of code is for Socket.io/real time tweet streaming
                - Get location and query and start connecting to the socket
              */

            socket.emit('topic', { topic: query, location: lastLocation });
        }

        // once query selected:
        // check if location is already selected
        // if yes, then go to that location
        //          and show the results
        // if no, then get the center of the current
        //        location of the screen and show the results.
        //
    });

    // generation
    // ui.generateCpRightPanel('#panelWrapper', {});

    // Testing area
    var testGeo = '-25.2744,-133.7751'; // Australia
    // console.log('Path:', Paths.getGeoTrends(testGeo));
    console.log(getGeoTrends(testGeo));
    getRequest(getGeoTrends(testGeo)).then(function (data) {
        if (data.data) {
            var listOfTrends = data.data.trends;
            var geoData = data.geo;

            $("#querySearch").easyAutocomplete({
                data: listOfTrends,
                getValue: 'name',
                list: {
                    match: {
                        enabled: true
                    },
                    onShowListEvent: function onShowListEvent() {
                        // switch(storageSystem.getItem('cpOpen')) {
                        //     case 'false':
                        //        $('.easy-autocomplete-container').addClass('autocomplete-top');
                        //        break;
                        //     case 'true':
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        //        break;
                        //     default:
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        // };
                        switch (storageSystem.getItem('cpOpen')) {
                            case 'false':
                                addClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            case 'true':
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            default:
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                        }
                    },
                    onKeyEnterEvent: function onKeyEnterEvent() {}
                }
                // template: {
                //     type: "custom"
                //     // method: function(value, item) {
                //     //     return "<img src='" + item.icon + "' /> | " + item.type + " | " + value;
                //     // }
                // }
            });
        } else {
            console.log("no data", data);
        }

        // (function() {
        //     // for(let i = 0; i < 10; i++) {
        //     //     ui.addElementToPanel
        //     //     (
        //     //         '#panelCompRightWrapper',
        //     //         {},
        //     //         "Button " + i,
        //     //         $('<a></a>'),
        //     //         'menu btn btn-secondary',
        //     //         'col-lg-4'
        //     //     );
        //     // }

        //     // undefined by default will place 'div' element

        //     // ui.addElementTo('')

        // }());

        // console.log('Should reach here...');
        // let dropdown = ui.addContainerToContainer('#panelCompRightWrapper', 'favorites', undefined, 'dropdown show');
        // let $a = ui.addContainerToContainer(dropdown.attr('id'), undefined, $('<a>'), 'btn btn-secondary dropdown-toggle');
        // ui.addTextTo($a, $a.attr('id'));

        //target, dropdownName, dropdownID, dataList


        var panelComp1 = new PanelComponent('#topTen', 'Top 10 Tweets', function () {
            console.log('hi');
        }, [{ "name": "daler" }, { "name": "michael" }]);
        var panelComp2 = new PanelComponent('#topTwenty', 'Top 10 Retweets', function () {
            console.log('hi');
        }, [{ "lastname": "asrorov" }, { "lastname": "jojo" }]);
        var panelComp3 = new PanelComponent('#topThirty', 'Top 30 Retweets', function () {
            console.log('hi');
        }, [{ "jorge": "quero" }, { "sandro": "bolo" }]);

        rightComponents.add(panelComp1);
        rightComponents.add(panelComp2);
        rightComponents.add(panelComp3);
        rightComponents.setName('Social Media');
        rightComponents.setId('socMedia');

        console.log("panelComp object:", rightComponents);
        appendDropDownToPanel('#panelCompRightWrapper', rightComponents);
    }).catch(function (err) {
        console.log("Error request", err);
    });

    // Request.getRequest(Utils.getTrendsPlaces(lat, long))Ã¥
    //     .then((data) => {
    //         console.log("Trends Data");
    //     })

    // post request testing

});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL2pzL21vZHVsZXMvbWFwLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzIiwiLi4vanMvbW9kdWxlcy91aS5qcyIsIi4uL2pzL21vZHVsZXMvcmVxdWVzdC5qcyIsIi4uL2pzL21vZHVsZXMvcGF0aHMuanMiLCIuLi9qcy9jbGFzc2VzL3BhbmVsY29tcG9uZW50LmpzIiwiLi4vanMvY2xhc3Nlcy9jb21wb25lbnRzLmpzIiwiLi4vanMvbW9kdWxlcy9jb25zdGFudHMuanMiLCIuLi9qcy9tb2R1bGVzL21hcGVsZW1lbnRzLmpzIiwiLi4vanMvbW9kdWxlcy9tYXBvcHMuanMiLCIuLi9qcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gSW5pdGlhbGl6aW5nIHRoZSBtYXBcbi8vIGxldCBtYWluTWFwID0gTC5tYXAoJ21hcFdyYXBwZXInKS5zZXRWaWV3KFs1MS41MDUsIC0wLjA5XSwgMTMpO1xuXG4vLyBMLnRpbGVMYXllcignaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHtcbi8vICAgICBtYXhab29tOiAxOSxcbi8vICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPidcbi8vIH0pLmFkZFRvKG1haW5NYXApO1xuXG5sZXQgbWFwTGF5ZXIgPSBNUS5tYXBMYXllcigpLCBtYWluTWFwO1xuXG5tYWluTWFwID0gTC5tYXAoJ21hcFdyYXBwZXInLCB7XG4gICAgbGF5ZXJzOiBtYXBMYXllcixcbiAgICBjZW50ZXI6IFsgNDAuNzMxNzAxLCAtNzMuOTkzNDExIF0sXG4gICAgem9vbTogMTJcbn0pO1xuXG5MLmNvbnRyb2wubGF5ZXJzKHtcbiAgJ01hcCc6IG1hcExheWVyLFxuICAnSHlicmlkJzogTVEuaHlicmlkTGF5ZXIoKSxcbiAgJ1NhdGVsbGl0ZSc6IE1RLnNhdGVsbGl0ZUxheWVyKCksXG4gICdEYXJrJzogTVEuZGFya0xheWVyKCksXG4gICdMaWdodCc6IE1RLmxpZ2h0TGF5ZXIoKVxufSkuYWRkVG8obWFpbk1hcCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1haW5NYXA7XG4iLCIvKipcbiAqXG4gKiBTdG9yYWdlIEJhc2UgY2xhc3NcbiAqXG4gKi9cblxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgZ2V0SXRlbShrZXkpIHt9XG4gICAgZ2V0UmF3SXRlbShrZXkpIHt9XG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7fVxuICAgIHNldFJhd0l0ZW0oa2V5LCB2YWx1ZSkge31cbiB9XG4iLCJpbXBvcnQgU3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlU3lzdGVtIGV4dGVuZHMgU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IobG9jYWxTdG9yYWdlLCAuLi5yZXN0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZTtcbiAgICB9XG5cbiAgICBnZXRJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9XG5cbiAgICBnZXRSYXdJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEl0ZW0oa2V5KSk7XG4gICAgfVxuXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHNldFJhd0l0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbn0iLCIvLyBVSSBVdGlscyBzZXRcbmltcG9ydCBTdG9yYWdlU3lzdGVtIGZyb20gJy4vLi4vY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNsaWRlVG9nZ2xlQ3AodGFyZ2V0SUQsIG1hcCwgaGVpZ2h0U2V0dGVySUQgPSAnYXJyb3dQb2ludGVyV3JhcHBlcicsIGNwRGVmYXVsdEhlaWdodCA9IFwiMzUlXCIsIC4uLnJlc3QpIHtcbiAgICBjb25zdCBjcE5hdkhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlaWdodFNldHRlcklEKS5vZmZzZXRIZWlnaHQudG9TdHJpbmcoKTtcbiAgICBjb25zdCBjcFdyYXBwZXJIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRJRCkub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc2xpZGluZ1RpbWUgPSAyNzA7XG4gICAgY29uc3QgZGVmYXVsdFRvcCA9IFwiLTE1cHhcIjtcbiAgICBjb25zdCAkcXVlcnlTZWFyY2hGb3JtID0gJCgnI3F1ZXJ5U2VhcmNoRm9ybScpO1xuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGAjJHt0YXJnZXRJRH1gKTtcbiAgICBjb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcbiAgICBjb25zdCAkc2xpZGVTd2l0Y2hJY29uID0gJCgnI3NsaWRlU3dpdGNoSWNvbicpO1xuXG4gICAgY29uc3Qgc3RvcmFnZVN5c3RlbSA9IG5ldyBTdG9yYWdlU3lzdGVtKHdpbmRvdy5sb2NhbFN0b3JhZ2UpO1xuXG4gICAgLy9cbiAgICBpZihjcFdyYXBwZXJIZWlnaHQgPT09IGNwTmF2SGVpZ2h0KSB7XG4gICAgICAgICRib2R5LmNzcyh7XCJvdmVyZmxvd1lcIjogXCJhdXRvXCJ9KTtcbiAgICAgICAgJHRhcmdldC5hbmltYXRlKHtoZWlnaHQ6IGNwRGVmYXVsdEhlaWdodH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHF1ZXJ5U2VhcmNoRm9ybS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogXCItMTVweFwiXG4gICAgICAgIH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHNsaWRlU3dpdGNoSWNvbi5hZGRDbGFzcygnZmEtY2FyZXQtZG93bicpLnJlbW92ZUNsYXNzKCdmYS1jYXJldC11cCcpO1xuICAgICAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oXCJjcE9wZW5cIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAkYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiaGlkZGVuXCJ9KTtcbiAgICAgICAgJHRhcmdldC5hbmltYXRlKHtoZWlnaHQ6IGNwTmF2SGVpZ2h0fSwgc2xpZGluZ1RpbWUpO1xuICAgICAgICAkcXVlcnlTZWFyY2hGb3JtLmFuaW1hdGUoe1xuICAgICAgICAgICAgdG9wOiBcIi0zN3B4XCJcbiAgICAgICAgfSwgc2xpZGluZ1RpbWUpO1xuICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICAgICAgJHNsaWRlU3dpdGNoSWNvbi5hZGRDbGFzcygnZmEtY2FyZXQtdXAnKS5yZW1vdmVDbGFzcygnZmEtY2FyZXQtZG93bicpO1xuICAgICAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oXCJjcE9wZW5cIiwgZmFsc2UpO1xuICAgIH1cbn1cblxuLyoqXG4qICBIZWxwZXIgVUkgbWV0aG9kIHRoYXQgd2lsbCBrZWVwIHRoZVxuKiAgY29udHJvbCBwYW5lbCBjbG9zZWQgZmFzdGVyLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDcENzcyh0YXJnZXQsIGhlaWdodCwgYm9keT0kKCdib2R5JykpIHtcbiAgICBib2R5LmNzcyh7XCJvdmVyZmxvd1lcIjogXCJhdXRvXCJ9KTtcbiAgICAkdGFyZ2V0LmNzcyh7aGVpZ2h0OiBjcERlZmF1bHRIZWlnaHR9KTtcbn1cblxuLyoqXG4qICAgQmFzZWQgb24gdGhlIGdpdmVuIHRhcmdldCAoZGl2KSBhbmQgZGF0YSAobGlzdCBvZlxuKiAgIGF2YWlsYWJsZSBvcHRpb25zKSwgcGxhY2UgYSB0YWJsZSAob3IgbGlzdCkgb2ZcbiogICB3aWRnZXRzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNwUmlnaHRQYW5lbCh0YXJnZXQsIGRhdGEpIHtcbiAgICBsZXQgJHRhcmdldCA9ICQodGFyZ2V0KTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICR0YXJnZXQuYXBwZW5kXG4gICAgICAgIChcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLWxnLTRcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1lbnVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgXCJTb21ldGhpbmdcIiArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFbGVtZW50VG9QYW5lbChcbiAgICBwYW5lbCxcbiAgICBldmVudExpc3RlbmVyLFxuICAgIGh0bWxJdGVtTmFtZSA9ICcnLFxuICAgIGh0bWxJdGVtID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+JyksXG4gICAgaHRtbEl0ZW1DbGFzcyA9ICdtZW51JyxcbiAgICBjb2x1bW5TaXplID0gJ2NvbC1sZy00Jykge1xuXG4gICAgbGV0ICRwYW5lbCA9ICQocGFuZWwpO1xuICAgIGxldCAkaHRtbEl0ZW0gPSBodG1sSXRlbTtcbiAgICBsZXQgJGRpdkNvbCA9ICQoJzxkaXY+PC9kaXY+Jyk7XG5cbiAgICAkaHRtbEl0ZW0uYWRkQ2xhc3MoaHRtbEl0ZW1DbGFzcyk7XG4gICAgJGh0bWxJdGVtLmh0bWwoJzxzcGFuIGNsYXNzPVwicmlnaHQtY3AtbmFtZVwiPidcbiAgICAgICAgICAgICAgICAgICArIGh0bWxJdGVtTmFtZSArICc8L3NwYW4+JylcbiAgICAkZGl2Q29sLmFkZENsYXNzKGNvbHVtblNpemUpO1xuXG4gICAgJGRpdkNvbC5hcHBlbmQoJGh0bWxJdGVtKTtcbiAgICAkcGFuZWwuYXBwZW5kKCRkaXZDb2wpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFRvKHRhcmdldCwgZWxlbWVudD0kKCc8ZGl2PjwvZGl2PicpKSB7XG4gICAgaWYodHlwZW9mIHRhcmdldCA9PSAnb2JqZWN0Jykge1xuICAgICAgICB0YXJnZXQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiAkKGAke3RhcmdldH1gKS5hcHBlbmQoZWxlbWVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250YWluZXJUb0NvbnRhaW5lcihwYW5lbCwgaWQ9JycsIGNvbnRhaW5lcj0kKGA8ZGl2IGlkPSR7aWR9PjwvZGl2PmApLCBjbGFzc2VzPScnKSB7XG4gICAgbGV0IGFkZElkID0gY29udGFpbmVyLmF0dHIoJ2lkJykgPyBjb250YWluZXIuYXR0cignaWQnKSA6IGNvbnRhaW5lci5hdHRyKCdpZCcsIGAjJHtpZH1gKTtcbiAgICBhZGRDbGFzcyhjb250YWluZXIsIGNsYXNzZXMpO1xuICAgICQocGFuZWwpLmFwcGVuZChjb250YWluZXIpO1xuICAgIGNvbnNvbGUubG9nKCdjb250YWluZXInLCBjb250YWluZXIpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkge1xuICAgICQodGFyZ2V0KS5hZGRDbGFzcyhjbGFzc05hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVGV4dFRvKHRhcmdldCwgdGV4dCkge1xuICAgIGlmKHR5cGVvZiB0YXJnZXQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKcXVlcnkgc2hvdWxkIGJlIGFwcGxpZWQgZGlyZWN0bHlcIik7XG4gICAgICAgIHRhcmdldC5odG1sKHRleHQpO1xuICAgIH0gZWxzZSBpZih0eXBlb2YgdGFyZ2V0ID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSXQncyBpZFwiLCB0YXJnZXQpO1xuICAgICAgICAkKHRhcmdldCkuaHRtbCh0ZXh0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkge1xuICAgICQodGFyZ2V0KS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gZmFkZU91dCh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrSGFuZGxlciA9IGZ1bmN0aW9uKCl7fSkge1xuLy8gICAgICQodGFyZ2V0KS5mYWRlT3V0KHR5cGUsIGNhbGxiYWNrSGFuZGxlcik7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyVG8odGFyZ2V0LCB0eXBlLCBmbikge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbGVtZW50KHRhcmdldCkge1xuICAgICQodGFyZ2V0KS5yZW1vdmUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlKHRhcmdldCwgc3R5bGVPYmplY3QsIC4uLnJlc3QpIHtcbiAgICByZXR1cm4gJCh0YXJnZXQpLmNzcyhzdHlsZU9iamVjdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWRlT3V0KHRhcmdldCwgdGltZXIsIGNhbGxiYWNrKSB7XG4gICAgJCh0YXJnZXQpLmZhZGVPdXQodGltZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAkKCcjaW5pdExvYWRlcicpLnJlbW92ZSgpO1xuICAgICAgICAvLyAkKCcjbWFpbldyYXBwZXInKS5jc3Moe29wYWNpdHk6IDAuMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgMTAwMCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVmlzaWJsZSh0YXJnZXQsIHRpbWVyKSB7XG4gICAgJCh0YXJnZXQpLmNzcyh7b3BhY2l0eTogMC4wLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pLmFuaW1hdGUoe29wYWNpdHk6IDF9LCB0aW1lcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZERyb3BEb3duVG8odGFyZ2V0LCBkcm9wZG93bk5hbWUsIGRyb3Bkb3duSUQsIGFjdGlvbnNMaXN0KSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJIRVJFXCIsIGRyb3Bkb3duTmFtZSwgXCIgSEVSRSBcIiwgZHJvcGRvd25JRCwgXCIgSEVSRSBcIiwgYWN0aW9uc0xpc3QpO1xuICAgIGxldCAkdGFyZ2V0UmVmID0gJCh0YXJnZXQpLmFwcGVuZChgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCIgaWQ9JHtkcm9wZG93bklEfT48L2Rpdj5gKTtcbiAgICBsZXQgJGRyb3Bkb3duID0gJCh0YXJnZXQpLmZpbmQoYCMke2Ryb3Bkb3duSUR9YCk7XG4gICAgJGRyb3Bkb3duLmFwcGVuZChgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlJyB0eXBlPSdidXR0b24nIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj5gICsgZHJvcGRvd25OYW1lICsgYDwvYnV0dG9uPmApO1xuICAgIGxldCAkZHJvcGRvd25SZWYgPSAkZHJvcGRvd24uYXBwZW5kKGA8ZGl2IGNsYXNzPSdkcm9wZG93bi1tZW51JyA8L2Rpdj5gKTtcbiAgICBsZXQgJGxpc3REaXYgPSAkZHJvcGRvd25SZWYuZmluZCgnLmRyb3Bkb3duLW1lbnUnKTtcblxuICAgIGFjdGlvbnNMaXN0Lm1hcCgoYWN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAkbGlzdERpdi5hcHBlbmRcbiAgICAgICAgKGBcbiAgICAgICAgICAgIDxhIGNsYXNzID0nZHJvcGRvd24taXRlbScgaWQ9JyR7YWN0aW9uLmlkfScgaHJlZj0nIyc+ICR7YWN0aW9uLm5hbWV9IDwvYT5cbiAgICAgICAgYClcbiAgICB9KTtcbiAgICAkZHJvcGRvd24uYXBwZW5kKCRsaXN0RGl2KTtcbiAgICAkKHRhcmdldCkuYXBwZW5kKCRkcm9wZG93bik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlwcmVzcyh0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgJCh0YXJnZXQpLmtleXByZXNzKGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZERyb3BEb3duVG9QYW5lbCh0YXJnZXQsIGNvbXBvbmVudHNDbGFzcykge1xuICAgIGNvbnNvbGUubG9nKFwiY29tcG9uZW50c0NsYXNzLmxpc3Q6XCIsIGNvbXBvbmVudHNDbGFzcy5saXN0KTtcbiAgICBhcHBlbmREcm9wRG93blRvKHRhcmdldCwgY29tcG9uZW50c0NsYXNzLm5hbWUsIGNvbXBvbmVudHNDbGFzcy5pZCwgY29tcG9uZW50c0NsYXNzLmxpc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25TdWJtaXQodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgICQodGFyZ2V0KS5zdWJtaXQoY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5wdXRWYWx1ZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gJCh0YXJnZXQpLnZhbCgpO1xufVxuXG5cblxuXG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgJC5nZXQodXJsLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiQ291bGRuJ3QgZ2V0IHRoZSBmaWxlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBpbmZvKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAkLnBvc3QodXJsLCBpbmZvLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZihzdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiVW5zdWNjZXNzZnVsIFBPU1QgcmVxdWVzdC5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59OyIsIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlbmRzUGF0aCh3ZWlkKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL3RyZW5kcy8ke3dlaWR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb1RyZW5kcyhsYXRMb25nU3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL2dlb3RyZW5kcy8ke2xhdExvbmdTdHJpbmd9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR3aXREYXRhKCkge1xuICAgIHJldHVybiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9hcGkvdHdpdHRlci90d2l0ZGF0YWA7XG59XG5cbiIsIi8qKlxuICpcbiAqIENvbnRyb2wgY2xhc3MgZm9yIGhhbmRpbmcgY29udHJvbCBwYW5lbCBldmVudHNcbiAqXG4gKi9cblxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgYWN0aW9uSGFuZGxlciwgZGF0YT1bXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGFjdGlvbkhhbmRsZXI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0U290ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmc9dHJ1ZSkge1xuICAgICAgICBsZXQgc29ydGVkRGF0YTtcbiAgICAgICAgY29uc3QgZGVzY0NvbXBhcmF0b3IgPSBSLmNvbXBhcmF0b3IoKGEsIGIpID0+IFIuZ3QoUi5wcm9wKGtleSwgYSksIFIucHJvcChrZXksIGIpKSk7XG5cbiAgICAgICAgc29ydGVkRGF0YSA9IGFzY2VuZGluZyA/IFIuc29ydEJ5KFIucHJvcChrZXkpLCB0aGlzLmRhdGEpIDogUi5zb3J0KGRlc2NDb21wYXJhdG9yLCB0aGlzLmRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBnZXRUb3BOKGxpbWl0LCBrZXksIGFzY2VuZGluZz10cnVlKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBnZXRTb3J0ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmcpO1xuICAgICAgICByZXR1cm4gUi5zbGljZSgwLCBsaW1pdCArIDEsIGZvcm1hdHRlZCk7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBnZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25IYW5kbGVyID0gYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGZuKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGZuO1xuICAgIH1cblxuICAgIHNldERhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJpZFwiOiB0aGlzLmlkLFxuICAgICAgICAgICAgXCJuYW1lXCI6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIFwiYWN0aW9uSGFuZGxlclwiOiB0aGlzLmFjdGlvbkhhbmRsZXIsXG4gICAgICAgICAgICBcImRhdGFcIjogdGhpcy5kYXRhXG4gICAgICAgIH07XG4gICAgfVxuIH1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50cyB7XG4gICAgY29uc3RydWN0b3IoaWQ9XCJcIiwgbmFtZT1cIlwiLCBsaXN0PVtdKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICBhZGQocGFuZWxDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5saXN0LnB1c2gocGFuZWxDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJlbW92ZShwYW5lbENvbXBvbmVudCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0aGlzLmxpc3RbaV0uaWQgPT09IHBhbmVsQ29tcG9uZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgZ2V0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdDtcbiAgICB9XG5cbiAgICBzZXQoaWQsIG5hbWUsIGxpc3QpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHNldElkKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBzZXRMaXN0KGxpc3QpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgbGlzdDogdGhpcy5saXN0XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjb25zdCBJTUFHRVMgPSB7XG5cbiAgICBTT0NfTUVESUFfSUNPTlM6IHtcbiAgICAgICAgVFdJVFRFUjogJy4uLy4uL2ltZy9pY29ucy90d2l0dGVyX2kucG5nJyxcbiAgICAgICAgWUVMUDogJycsXG4gICAgICAgIEZPVVJTUUFSRTogJydcbiAgICB9XG59XG4iLCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvblVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1VybD1cIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU9WzM4LCA5NV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dTaXplPVs1MCwgNjRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcj1bMjIsIDk0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0ljb249IFs0LCA2Ml0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcj1bLTMsIC03Nl0pIHtcbiAgICBsZXQgdHdpdHRlckljb24gPSBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiBpY29uVXJsLFxuICAgICAgICAvLyBzaGFkb3dVcmw6IElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUixcblxuICAgICAgICBpY29uU2l6ZTogICAgIGljb25TaXplLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICAgIHNoYWRvd1NpemU6ICAgc2hhZG93U2l6ZSwgLy8gc2l6ZSBvZiB0aGUgc2hhZG93XG4gICAgICAgIGljb25BbmNob3I6ICAgaWNvbkFuY2hvciwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgIHNoYWRvd0FuY2hvcjogc2hhZG93SWNvbiwgIC8vIHRoZSBzYW1lIGZvciB0aGUgc2hhZG93XG4gICAgICAgIHBvcHVwQW5jaG9yOiAgcG9wdXBBbmNob3IgLy8gcG9pbnQgZnJvbSB3aGljaCB0aGUgcG9wdXAgc2hvdWxkIG9wZW4gcmVsYXRpdmUgdG8gdGhlIGljb25BbmNob3JcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdJY29uIE9iamVjdDogJywgdHdpdHRlckljb24pO1xuXG4gICAgcmV0dXJuIHR3aXR0ZXJJY29uO1xufSIsImltcG9ydCBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHsgSU1BR0VTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgTWFwRWxlbWVudHMgZnJvbSAnLi9tYXBlbGVtZW50cy5qcyc7XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlc3VsdHMoZGF0YSkge1xuLy8gICAgIGNvbnNvbGUubG9nKCdEYXRhJywgZGF0YSk7XG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBhbmltYXRlVHJhbnNpdGlvbihkYXRhKSB7XG4vLyAgICAgY29uc29sZS5sb2coXCJcIilcbi8vIH1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmVzdWx0cyA9IFIuY3VycnkoKGRhdGEsIGdlbykgPT4ge1xuICAgIFIucGlwZShcbiAgICAgICAgUi5tYXAoZHJhd01hcmtlciksIC8vIHJlbmRlciBwb2ludHMgd2l0aCBhbmltYXRpb25zXG4gICAgKShkYXRhKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd01hcmtlciA9IFIuY3VycnkoKHBvaW50RGF0YSkgPT4ge1xuICAgIGNvbnN0IHR3aXR0ZXJJY29uID0gTWFwRWxlbWVudHMuY3JlYXRlSWNvbihJTUFHRVMuU09DX01FRElBX0lDT05TLlRXSVRURVIpO1xuXG4gICAgTC5tYXJrZXIoWzUxLjUsIC0wLjA5XSwge2ljb246IHR3aXR0ZXJJY29ufSkuYWRkVG8oTWFwKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd09iamVjdCA9IFIuY3VycnkoKGRhdGEsIGdlb2xvY2F0aW9uLCBpY29uVHlwZSkgPT4ge1xuICAgIGxldCBpY29uO1xuICAgIHN3aXRjaChpY29uVHlwZSkge1xuICAgICAgICBjYXNlICd0d2l0dGVyJzpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhLCBnZW8sIGljb246JywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGljb24gPSBNYXBFbGVtZW50cy5jcmVhdGVJY29uKElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUik7XG4gICAgICAgICAgICBMLm1hcmtlcihbZ2VvbG9jYXRpb25bMV0sIGdlb2xvY2F0aW9uWzBdXSwge2ljb246IGljb259KS5hZGRUbyhNYXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3llbHAnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1llbHAgZGF0YSwgZ2VvLCBpY29uJywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHNvYyBtZWRpYSB3YXMgc2VsZWN0ZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ2FmdGVyIHN3aXRjaCcpO1xufSk7IiwiaW1wb3J0IE1hcCBmcm9tICcuL21vZHVsZXMvbWFwLmpzJztcbmltcG9ydCAqIGFzIHVpIGZyb20gJy4vbW9kdWxlcy91aS5qcyc7XG5pbXBvcnQgKiBhcyBSZXF1ZXN0IGZyb20gJy4vbW9kdWxlcy9yZXF1ZXN0LmpzJztcbmltcG9ydCAqIGFzIFBhdGhzIGZyb20gJy4vbW9kdWxlcy9wYXRocy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL21vZHVsZXMvdXRpbHMuanMnO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2UuanMnO1xuaW1wb3J0IFN0b3JhZ2VTeXN0ZW0gZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2VzeXN0ZW0uanMnO1xuaW1wb3J0IFBhbmVsQ29tcG9uZW50IGZyb20gJy4vY2xhc3Nlcy9wYW5lbGNvbXBvbmVudC5qcyc7XG5pbXBvcnQgQ29tcG9uZW50cyBmcm9tICcuL2NsYXNzZXMvY29tcG9uZW50cy5qcyc7XG5pbXBvcnQgKiBhcyBHcmFwaE9wcyBmcm9tICcuL21vZHVsZXMvbWFwb3BzLmpzJztcblxuLy8gQWN0aW9uXG4kKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlU3lzdGVtID0gbmV3IFN0b3JhZ2VTeXN0ZW0od2luZG93LmxvY2FsU3RvcmFnZSk7XG5cbiAgICBsZXQgc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwLycpO1xuXG4gICAgbGV0IGNwT3BlbixcbiAgICAgICAgdHJhY2tlcixcbiAgICAgICAgY3BSaWdodExpc3QgPVtdO1xuXG4gICAgbGV0IHJpZ2h0Q29tcG9uZW50cyA9IG5ldyBDb21wb25lbnRzKCk7XG5cbiAgICAvKiBJTlRSTyBMT0FERVIgQ09ERSAqL1xuICAgICQoKCkgPT4ge1xuICAgICAgICBpZighc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdmaXJzdFZpc2l0JykpIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgMzAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpLnJlbW92ZUVsZW1lbnQoJyNpbml0TG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgdWkubWFrZVZpc2libGUoJyNtYWluV3JhcHBlcicsIDUwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgNTUwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdWkucmVtb3ZlRWxlbWVudCgnI2luaXRMb2FkZXInKTtcbiAgICAgICAgICAgICAgICB1aS5tYWtlVmlzaWJsZSgnI21haW5XcmFwcGVyJywgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oJ2ZpcnN0VmlzaXQnLCB0cnVlKTtcblxuICAgIGNwT3BlbiA9IHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJyk7XG4gICAgY29uc29sZS5sb2coJ2NwT3Blbjo6OicsIGNwT3Blbik7XG4gICAgaWYoY3BPcGVuID09ICdmYWxzZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaG91bGQgc2xpZGU6IGNwT3BlblwiLCBjcE9wZW4pO1xuICAgICAgICB1aS5zbGlkZVRvZ2dsZUNwKCdjb250cm9sUGFuZWxXcmFwcGVyJywgTWFwKTtcbiAgICB9XG5cblxuICAgIC8vIGZ1bmN0aW9uIGdldFR3ZWV0cyhldmVudCkge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhgUmVhZHk6ICR7ZXZlbnR9YCk7XG5cbiAgICAvLyB9O1xuXG5cbiAgICB1aS5hZGRFdmVudExpc3RlbmVyVG8oJ3RvZ2dsZVNsaWRlckJ0bicsICdjbGljaycsIChldmVudCkgPT4gdWkuc2xpZGVUb2dnbGVDcCgnY29udHJvbFBhbmVsV3JhcHBlcicsIE1hcCkpO1xuXG4gICAgLy8gbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhYy1pbnB1dCcpXG4gICAgbmV3IEwuQ29udHJvbC5HUGxhY2VBdXRvY29tcGxldGUoe1xuICAgICAgICBwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gZ2l2ZW46JywgbG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgbGF0ID0gbG9jYXRpb24uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCk7XG4gICAgICAgICAgICBjb25zdCBsbmcgPSBsb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKTtcblxuICAgICAgICAgICAgLy8gY29uc3Qgc2FuRnJhbmNpc2NvID0gWyAnLTEyMi43NSwgMzYuOCwgLTEyMS43NSwgMzcuOCcgXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RMb2NhdGlvbiA9IFtgJHtsbmd9LCAke2xhdH0sICR7bG5nKzF9LCAke2xhdCsxfWBdO1xuXG4gICAgICAgICAgICBzdG9yYWdlU3lzdGVtLnNldFJhd0l0ZW0oJ2xhc3RMb2NhdGlvbicsIGxhc3RMb2NhdGlvbik7XG4gICAgICAgICAgICBNYXAuc2V0VmlldyhbbGF0LCBsbmddLCA4LCB7YW5pbWF0ZTogdHJ1ZSwgZHVyYXRpb246IDIuMH0pO1xuICAgICAgICB9XG4gICAgfSkuYWRkVG8oTWFwKTtcblxuXG4gICAgc29ja2V0Lm9uKCd0d2VldCcsICh0d2VldCkgPT4ge1xuICAgICAgICAvLyBHcmFwaE9wcy5kcmF3VHdlZXQoKTtcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0d2VldC5wbGFjZS5ib3VuZGluZ19ib3guY29vcmRpbmF0ZXNbMF1bMV07XG4gICAgICAgIGNvbnN0IHVzZXIgPSB0d2VldC51c2VyO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdHdlZXQudGV4dDtcbiAgICAgICAgY29uc3QgaWQgPSB0d2VldC5pZDtcbiAgICAgICAgY29uc3QgY3JlYXRlZF9hdCA9IHR3ZWV0LmNyZWF0ZWRfYXQ7XG4gICAgICAgIGNvbnN0IG1sc1RpbWUgPSB0d2VldC50aW1lc3RhbXBfbXM7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIG1sc1RpbWU6IG1sc1RpbWVcbiAgICAgICAgfTtcblxuICAgICAgICBHcmFwaE9wcy5kcmF3T2JqZWN0KGRhdGEsIGNvb3JkaW5hdGVzLCAndHdpdHRlcicpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdUd2VldDogJywgdHdlZXQsIGNvb3JkaW5hdGVzKTtcbiAgICAgICAgLy8gWy0xMjEuOTA2NTk4LCAzNi45NzU0NzddXG5cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZShtb2RlLCBxdWVyeSwgbGFzdExvY2F0aW9uLCB0d2l0RGF0YSkge1xuICAgICAgICBzd2l0Y2gobW9kZSkge1xuICAgICAgICAgICAgY2FzZSAncmVhbF90aW1lJzpcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgndG9waWMnLCB7dG9waWM6IHF1ZXJ5LCBsb2NhdGlvbjogbGFzdExvY2F0aW9ufSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzcGVjaWZpZWRfdGltZSc6XG4gICAgICAgICAgICAgICAgUmVxdWVzdC5wb3N0UmVxdWVzdChQYXRocy5nZXRUd2l0RGF0YSgpLCB0d2l0RGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YSByZXR1cm5lZCBmcm9tIEFQSScsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHBvc3QgcmVxdWVzdCcsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub25lIG9mIHRoZSBtb2RlcyBzZWxlY3RlZCcpO1xuXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHVpLm9uU3VibWl0KCcjcXVlcnlTZWFyY2hGb3JtJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdWkuZ2V0SW5wdXRWYWx1ZSgnI3F1ZXJ5U2VhcmNoJyk7XG4gICAgICAgIGNvbnN0IGxhdCA9IE1hcC5nZXRDZW50ZXIoKS5sYXQ7XG4gICAgICAgIGNvbnN0IGxuZyA9IE1hcC5nZXRDZW50ZXIoKS5sbmc7XG4gICAgICAgIGNvbnN0IHR3aXREYXRhID0ge3E6IHF1ZXJ5LCBnZW9jb2RlOiBbbGF0LCBsbmddLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgbGV0IGxhc3RMb2NhdGlvbiA9IFtgJHtsbmd9LCAke2xhdH0sICR7bG5nKzF9LCAke2xhdCsxfWBdO1xuXG4gICAgICAgIGlmKFIuaXNOaWwoc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdsYXN0TG9jYXRpb24nKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc2VsZWN0ZWQuIHR3aXREYXRhOicsIHR3aXREYXRhKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHRlc3RUd2l0RGF0YUl0ZW1UZXN0ID0ge3E6ICd0cnVtcCcsIGdlb2NvZGU6IFszNy43NzQ5LCAtMTIyLjQxOTRdLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgICAgIGdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZSgncmVhbF90aW1lJywgcXVlcnksIGxhc3RMb2NhdGlvbiwgdHdpdERhdGEpO1xuICAgICAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRSYXdJdGVtKCdsYXN0TG9jYXRpb24nLCBsYXN0TG9jYXRpb24pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXhpc3RzJywgc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdsYXN0TG9jYXRpb24nKSk7XG4gICAgICAgICAgICBsYXN0TG9jYXRpb24gPSBzdG9yYWdlU3lzdGVtLmdldFJhd0l0ZW0oJ2xhc3RMb2NhdGlvbicpO1xuXG4gICAgICAgICAgICAvKipcblxuICAgICAgICAgICAgICAgIFRPRE86XG4gICAgICAgICAgICAgICAgLSBUaGlzIGlzIGZvciBHZW5lcmFsIGFuZCBTZWxlY3RpdmUgdGltaW5nXG4gICAgICAgICAgICAgICAgLSBHZXQgZGF0YSBwb2ludHMgYW5kIGRyYXcgdGhlbSBvbiB0aGUgbWFwXG5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gY29uc3QgZmlyc3QgPSBHcmFwaE9wcy5nZW5lcmF0ZVJlc3VsdHMoWzEsIDIsIDMsIDRdKTtcbiAgICAgICAgICAgIC8vIGZpcnN0KGxhc3RMb2NhdGlvbik7XG5cbiAgICAgICAgICAgIC8qKlxuXG4gICAgICAgICAgICAgICAgVE9ETzpcbiAgICAgICAgICAgICAgICAtIFRoaXMgcG9ydGlvbiBvZiBjb2RlIGlzIGZvciBTb2NrZXQuaW8vcmVhbCB0aW1lIHR3ZWV0IHN0cmVhbWluZ1xuICAgICAgICAgICAgICAgIC0gR2V0IGxvY2F0aW9uIGFuZCBxdWVyeSBhbmQgc3RhcnQgY29ubmVjdGluZyB0byB0aGUgc29ja2V0XG5cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgndG9waWMnLCB7dG9waWM6IHF1ZXJ5LCBsb2NhdGlvbjogbGFzdExvY2F0aW9ufSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvbmNlIHF1ZXJ5IHNlbGVjdGVkOlxuICAgICAgICAvLyBjaGVjayBpZiBsb2NhdGlvbiBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIC8vIGlmIHllcywgdGhlbiBnbyB0byB0aGF0IGxvY2F0aW9uXG4gICAgICAgIC8vICAgICAgICAgIGFuZCBzaG93IHRoZSByZXN1bHRzXG4gICAgICAgIC8vIGlmIG5vLCB0aGVuIGdldCB0aGUgY2VudGVyIG9mIHRoZSBjdXJyZW50XG4gICAgICAgIC8vICAgICAgICBsb2NhdGlvbiBvZiB0aGUgc2NyZWVuIGFuZCBzaG93IHRoZSByZXN1bHRzLlxuICAgICAgICAvL1xuICAgIH0pO1xuXG4gICAgLy8gZ2VuZXJhdGlvblxuICAgIC8vIHVpLmdlbmVyYXRlQ3BSaWdodFBhbmVsKCcjcGFuZWxXcmFwcGVyJywge30pO1xuXG4gICAgLy8gVGVzdGluZyBhcmVhXG4gICAgbGV0IHRlc3RHZW8gPSAnLTI1LjI3NDQsLTEzMy43NzUxJzsgLy8gQXVzdHJhbGlhXG4gICAgLy8gY29uc29sZS5sb2coJ1BhdGg6JywgUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKTtcbiAgICBjb25zb2xlLmxvZyhQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpO1xuICAgIFJlcXVlc3QuZ2V0UmVxdWVzdChQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYoZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICBsZXQgbGlzdE9mVHJlbmRzID0gZGF0YS5kYXRhLnRyZW5kcztcbiAgICAgICAgICAgIGxldCBnZW9EYXRhID0gZGF0YS5nZW87XG5cbiAgICAgICAgICAgICQoXCIjcXVlcnlTZWFyY2hcIikuZWFzeUF1dG9jb21wbGV0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbGlzdE9mVHJlbmRzLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblNob3dMaXN0RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoKHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLmFkZENsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAkKCcuZWFzeS1hdXRvY29tcGxldGUtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2F1dG9jb21wbGV0ZS10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdjcE9wZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuYWRkQ2xhc3MoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInLCAnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkucmVtb3ZlQ2xhc3MoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInLCAnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aS5yZW1vdmVDbGFzcygnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicsICdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25LZXlFbnRlckV2ZW50OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRlbXBsYXRlOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiY3VzdG9tXCJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gbWV0aG9kOiBmdW5jdGlvbih2YWx1ZSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgcmV0dXJuIFwiPGltZyBzcmM9J1wiICsgaXRlbS5pY29uICsgXCInIC8+IHwgXCIgKyBpdGVtLnR5cGUgKyBcIiB8IFwiICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBkYXRhXCIsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgIC8vICAgICB1aS5hZGRFbGVtZW50VG9QYW5lbFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAoXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICB7fSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgIFwiQnV0dG9uIFwiICsgaSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICQoJzxhPjwvYT4nKSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICdtZW51IGJ0biBidG4tc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICdjb2wtbGctNCdcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgKTtcbiAgICAgICAgICAgIC8vICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vICAgICAvLyB1bmRlZmluZWQgYnkgZGVmYXVsdCB3aWxsIHBsYWNlICdkaXYnIGVsZW1lbnRcblxuICAgICAgICAgICAgLy8gICAgIC8vIHVpLmFkZEVsZW1lbnRUbygnJylcblxuICAgICAgICAgICAgLy8gfSgpKTtcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1Nob3VsZCByZWFjaCBoZXJlLi4uJyk7XG4gICAgICAgICAgICAvLyBsZXQgZHJvcGRvd24gPSB1aS5hZGRDb250YWluZXJUb0NvbnRhaW5lcignI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsICdmYXZvcml0ZXMnLCB1bmRlZmluZWQsICdkcm9wZG93biBzaG93Jyk7XG4gICAgICAgICAgICAvLyBsZXQgJGEgPSB1aS5hZGRDb250YWluZXJUb0NvbnRhaW5lcihkcm9wZG93bi5hdHRyKCdpZCcpLCB1bmRlZmluZWQsICQoJzxhPicpLCAnYnRuIGJ0bi1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlJyk7XG4gICAgICAgICAgICAvLyB1aS5hZGRUZXh0VG8oJGEsICRhLmF0dHIoJ2lkJykpO1xuXG4gICAgICAgICAgICAvL3RhcmdldCwgZHJvcGRvd25OYW1lLCBkcm9wZG93bklELCBkYXRhTGlzdFxuXG5cbiAgICAgICAgICAgIGxldCBwYW5lbENvbXAxID0gbmV3IFBhbmVsQ29tcG9uZW50KCcjdG9wVGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAxMCBUd2VldHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe2NvbnNvbGUubG9nKCdoaScpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcIm5hbWVcIjpcImRhbGVyXCJ9LCB7XCJuYW1lXCI6XCJtaWNoYWVsXCJ9XSk7XG4gICAgICAgICAgICBsZXQgcGFuZWxDb21wMiA9IG5ldyBQYW5lbENvbXBvbmVudCgnI3RvcFR3ZW50eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVG9wIDEwIFJldHdlZXRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ2hpJyl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcImxhc3RuYW1lXCI6XCJhc3Jvcm92XCJ9LCB7XCJsYXN0bmFtZVwiOlwiam9qb1wifV0pO1xuICAgICAgICAgICAgbGV0IHBhbmVsQ29tcDMgPSBuZXcgUGFuZWxDb21wb25lbnQoJyN0b3BUaGlydHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAzMCBSZXR3ZWV0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnaGknKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcImpvcmdlXCI6XCJxdWVyb1wifSwge1wic2FuZHJvXCI6XCJib2xvXCJ9XSk7XG5cbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5hZGQocGFuZWxDb21wMSk7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuYWRkKHBhbmVsQ29tcDIpO1xuICAgICAgICAgICAgcmlnaHRDb21wb25lbnRzLmFkZChwYW5lbENvbXAzKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5zZXROYW1lKCdTb2NpYWwgTWVkaWEnKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5zZXRJZCgnc29jTWVkaWEnKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYW5lbENvbXAgb2JqZWN0OlwiLCByaWdodENvbXBvbmVudHMpO1xuICAgICAgICAgICAgdWkuYXBwZW5kRHJvcERvd25Ub1BhbmVsKCcjcGFuZWxDb21wUmlnaHRXcmFwcGVyJywgcmlnaHRDb21wb25lbnRzKTtcblxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciByZXF1ZXN0XCIsIGVycik7XG4gICAgfSk7XG5cbiAgICAvLyBSZXF1ZXN0LmdldFJlcXVlc3QoVXRpbHMuZ2V0VHJlbmRzUGxhY2VzKGxhdCwgbG9uZykpw6VcbiAgICAvLyAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJlbmRzIERhdGFcIik7XG4gICAgLy8gICAgIH0pXG5cbiAgICAvLyBwb3N0IHJlcXVlc3QgdGVzdGluZ1xuXG5cbn0pO1xuIl0sIm5hbWVzIjpbIm1hcExheWVyIiwiTVEiLCJtYWluTWFwIiwiTCIsIm1hcCIsImNvbnRyb2wiLCJsYXllcnMiLCJoeWJyaWRMYXllciIsInNhdGVsbGl0ZUxheWVyIiwiZGFya0xheWVyIiwibGlnaHRMYXllciIsImFkZFRvIiwiU3RvcmFnZSIsImtleSIsInZhbHVlIiwiU3RvcmFnZVN5c3RlbSIsImxvY2FsU3RvcmFnZSIsIl9sb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInNsaWRlVG9nZ2xlQ3AiLCJ0YXJnZXRJRCIsImhlaWdodFNldHRlcklEIiwiY3BEZWZhdWx0SGVpZ2h0IiwiY3BOYXZIZWlnaHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib2Zmc2V0SGVpZ2h0IiwidG9TdHJpbmciLCJjcFdyYXBwZXJIZWlnaHQiLCJzbGlkaW5nVGltZSIsImRlZmF1bHRUb3AiLCIkcXVlcnlTZWFyY2hGb3JtIiwiJCIsIiR0YXJnZXQiLCIkYm9keSIsIiRzbGlkZVN3aXRjaEljb24iLCJzdG9yYWdlU3lzdGVtIiwid2luZG93IiwiY3NzIiwiYW5pbWF0ZSIsImhlaWdodCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJpbnZhbGlkYXRlU2l6ZSIsInRhcmdldCIsImNsYXNzTmFtZSIsImFkZEV2ZW50TGlzdGVuZXJUbyIsInR5cGUiLCJmbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFbGVtZW50IiwicmVtb3ZlIiwiZmFkZU91dCIsInRpbWVyIiwiY2FsbGJhY2siLCJtYWtlVmlzaWJsZSIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwiYXBwZW5kRHJvcERvd25UbyIsImRyb3Bkb3duTmFtZSIsImRyb3Bkb3duSUQiLCJhY3Rpb25zTGlzdCIsIiR0YXJnZXRSZWYiLCJhcHBlbmQiLCIkZHJvcGRvd24iLCJmaW5kIiwiJGRyb3Bkb3duUmVmIiwiJGxpc3REaXYiLCJhY3Rpb24iLCJpbmRleCIsImlkIiwibmFtZSIsImFwcGVuZERyb3BEb3duVG9QYW5lbCIsImNvbXBvbmVudHNDbGFzcyIsImxvZyIsImxpc3QiLCJvblN1Ym1pdCIsInN1Ym1pdCIsImdldElucHV0VmFsdWUiLCJ2YWwiLCJnZXRSZXF1ZXN0IiwidXJsIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsImdldCIsImRhdGEiLCJzdGF0dXMiLCJwb3N0UmVxdWVzdCIsImluZm8iLCJwb3N0IiwiZ2V0R2VvVHJlbmRzIiwibGF0TG9uZ1N0cmluZyIsImxvY2F0aW9uIiwib3JpZ2luIiwiZ2V0VHdpdERhdGEiLCJQYW5lbENvbXBvbmVudCIsImFjdGlvbkhhbmRsZXIiLCJhc2NlbmRpbmciLCJzb3J0ZWREYXRhIiwiZGVzY0NvbXBhcmF0b3IiLCJSIiwiY29tcGFyYXRvciIsImEiLCJiIiwiZ3QiLCJwcm9wIiwic29ydEJ5Iiwic29ydCIsImxpbWl0IiwiZm9ybWF0dGVkIiwiZ2V0U29ydGVkRGF0YUJ5Iiwic2xpY2UiLCJDb21wb25lbnRzIiwicGFuZWxDb21wb25lbnQiLCJwdXNoIiwiaSIsImxlbmd0aCIsInNwbGljZSIsIklNQUdFUyIsImNyZWF0ZUljb24iLCJpY29uVXJsIiwic2hhZG93VXJsIiwiaWNvblNpemUiLCJzaGFkb3dTaXplIiwiaWNvbkFuY2hvciIsInNoYWRvd0ljb24iLCJwb3B1cEFuY2hvciIsInR3aXR0ZXJJY29uIiwiaWNvbiIsImdlbmVyYXRlUmVzdWx0cyIsImN1cnJ5IiwiZ2VvIiwicGlwZSIsImRyYXdNYXJrZXIiLCJwb2ludERhdGEiLCJNYXBFbGVtZW50cyIsIlNPQ19NRURJQV9JQ09OUyIsIlRXSVRURVIiLCJtYXJrZXIiLCJNYXAiLCJkcmF3T2JqZWN0IiwiZ2VvbG9jYXRpb24iLCJpY29uVHlwZSIsImxvYWQiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJjcE9wZW4iLCJ0cmFja2VyIiwiY3BSaWdodExpc3QiLCJyaWdodENvbXBvbmVudHMiLCJldmVudCIsInVpIiwiQ29udHJvbCIsIkdQbGFjZUF1dG9jb21wbGV0ZSIsImxhdCIsImdlb21ldHJ5IiwibG5nIiwibGFzdExvY2F0aW9uIiwic2V0UmF3SXRlbSIsInNldFZpZXciLCJkdXJhdGlvbiIsIm9uIiwidHdlZXQiLCJjb29yZGluYXRlcyIsInBsYWNlIiwiYm91bmRpbmdfYm94IiwidXNlciIsInRleHQiLCJjcmVhdGVkX2F0IiwibWxzVGltZSIsInRpbWVzdGFtcF9tcyIsImdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZSIsIm1vZGUiLCJxdWVyeSIsInR3aXREYXRhIiwiZW1pdCIsInRvcGljIiwiUGF0aHMiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJlIiwicHJldmVudERlZmF1bHQiLCJnZXRDZW50ZXIiLCJxIiwiZ2VvY29kZSIsInJhZGl1cyIsImlzTmlsIiwiZ2V0UmF3SXRlbSIsInRlc3RHZW8iLCJsaXN0T2ZUcmVuZHMiLCJ0cmVuZHMiLCJnZW9EYXRhIiwiZWFzeUF1dG9jb21wbGV0ZSIsInBhbmVsQ29tcDEiLCJwYW5lbENvbXAyIiwicGFuZWxDb21wMyIsImFkZCIsInNldE5hbWUiLCJzZXRJZCJdLCJtYXBwaW5ncyI6Ijs7O0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBSUEsV0FBV0MsR0FBR0QsUUFBSCxFQUFmO0lBQThCRSxnQkFBOUI7O0FBRUFBLFVBQVVDLEVBQUVDLEdBQUYsQ0FBTSxZQUFOLEVBQW9CO1VBQ2xCSixRQURrQjtVQUVsQixDQUFFLFNBQUYsRUFBYSxDQUFDLFNBQWQsQ0FGa0I7UUFHcEI7Q0FIQSxDQUFWOztBQU1BRyxFQUFFRSxPQUFGLENBQVVDLE1BQVYsQ0FBaUI7U0FDUk4sUUFEUTtZQUVMQyxHQUFHTSxXQUFILEVBRks7ZUFHRk4sR0FBR08sY0FBSCxFQUhFO1VBSVBQLEdBQUdR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
