(function () {
'use strict';

// Initializing the map
// let mainMap = L.map('mapWrapper').setView([51.505, -0.09], 13);

// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     maxZoom: 19,
//     attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
// }).addTo(mainMap);

var mapLayer = MQ.mapLayer();
var mainMap = void 0;

mainMap = L.map('mapWrapper', {
  layers: mapLayer,
  center: [40.731701, -73.993411],
  zoom: 12
});

L.control.layers({
  'Map': mapLayer,
  'Hybrid': MQ.hybridLayer(),
  'Satellite': MQ.satelliteLayer(),
  'Dark': MQ.darkLayer(),
  'Light': MQ.lightLayer()
}).addTo(mainMap);

var Map = mainMap;

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

/**
 *
 * Storage Base class
 *
 */

var Storage = function () {
   function Storage() {
      classCallCheck(this, Storage);
   }

   createClass(Storage, [{
      key: "getItem",
      value: function getItem(key) {}
   }, {
      key: "getRawItem",
      value: function getRawItem(key) {}
   }, {
      key: "setItem",
      value: function setItem(key, value) {}
   }, {
      key: "setRawItem",
      value: function setRawItem(key, value) {}
   }]);
   return Storage;
}();

var StorageSystem = function (_Storage) {
    inherits(StorageSystem, _Storage);

    function StorageSystem(localStorage) {
        classCallCheck(this, StorageSystem);

        var _this = possibleConstructorReturn(this, (StorageSystem.__proto__ || Object.getPrototypeOf(StorageSystem)).call(this));

        _this._localStorage = localStorage;
        return _this;
    }

    createClass(StorageSystem, [{
        key: 'getItem',
        value: function getItem(key) {
            return this._localStorage.getItem(key);
        }
    }, {
        key: 'getRawItem',
        value: function getRawItem(key) {
            return JSON.parse(this.getItem(key));
        }
    }, {
        key: 'setItem',
        value: function setItem(key, value) {
            this._localStorage.setItem(key, value);
        }
    }, {
        key: 'setRawItem',
        value: function setRawItem(key, value) {
            this.setItem(key, JSON.stringify(value));
        }
    }]);
    return StorageSystem;
}(Storage);

// UI Utils set
function slideToggleCp(targetID, map) {
    var heightSetterID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'arrowPointerWrapper';
    var cpDefaultHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "35%";

    var cpNavHeight = document.getElementById(heightSetterID).offsetHeight.toString();
    var cpWrapperHeight = document.getElementById(targetID).offsetHeight.toString();
    var slidingTime = 270;
    var defaultTop = "-15px";
    var $querySearchForm = $('#querySearchForm');
    var $target = $('#' + targetID);
    var $body = $('body');
    var $slideSwitchIcon = $('#slideSwitchIcon');

    var storageSystem = new StorageSystem(window.localStorage);

    //
    if (cpWrapperHeight === cpNavHeight) {
        $body.css({ "overflowY": "auto" });
        $target.animate({ height: cpDefaultHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-15px"
        }, slidingTime);
        $slideSwitchIcon.addClass('fa-caret-down').removeClass('fa-caret-up');
        storageSystem.setItem("cpOpen", true);
    } else {
        $body.css({ "overflowY": "hidden" });
        $target.animate({ height: cpNavHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-37px"
        }, slidingTime);
        map.invalidateSize();
        $slideSwitchIcon.addClass('fa-caret-up').removeClass('fa-caret-down');
        storageSystem.setItem("cpOpen", false);
    }
}

/**
*  Helper UI method that will keep the
*  control panel closed faster.
*/


/**
*   Based on the given target (div) and data (list of
*   available options), place a table (or list) of
*   widgets.
*/








function addClass(target, className) {
    $(target).addClass(className);
}



function removeClass(target, className) {
    $(target).removeClass(className);
}

// export function fadeOut(target, type, callbackHandler = function(){}) {
//     $(target).fadeOut(type, callbackHandler);
// }

function addEventListenerTo(target, type, fn) {
    document.getElementById(target).addEventListener(type, fn);
}

function removeElement(target) {
    $(target).remove();
}



function fadeOut(target, timer, callback) {
    $(target).fadeOut(timer, function () {
        // $('#initLoader').remove();
        // $('#mainWrapper').css({opacity: 0.0, visibility: "visible"}).animate({opacity: 1}, 1000);
        callback();
    });
}

function makeVisible(target, timer) {
    $(target).css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1 }, timer);
}

function appendDropDownTo(target, dropdownName, dropdownID, actionsList) {
    // console.log("HERE", dropdownName, " HERE ", dropdownID, " HERE ", actionsList);
    var $targetRef = $(target).append('<div class="dropdown" id=' + dropdownID + '></div>');
    var $dropdown = $(target).find('#' + dropdownID);
    $dropdown.append('<button class=\'btn btn-secondary dropdown-toggle\' type=\'button\' data-toggle="dropdown">' + dropdownName + '</button>');
    var $dropdownRef = $dropdown.append('<div class=\'dropdown-menu\' </div>');
    var $listDiv = $dropdownRef.find('.dropdown-menu');

    actionsList.map(function (action, index) {
        $listDiv.append('\n            <a class =\'dropdown-item\' id=\'' + action.id + '\' href=\'#\'> ' + action.name + ' </a>\n        ');
    });
    $dropdown.append($listDiv);
    $(target).append($dropdown);
}



function appendDropDownToPanel(target, componentsClass) {
    console.log("componentsClass.list:", componentsClass.list);
    appendDropDownTo(target, componentsClass.name, componentsClass.id, componentsClass.list);
}

function onSubmit(target, callback) {
    $(target).submit(callback);
}

function getInputValue(target) {
    return $(target).val();
}

function getRequest(url) {
    return new Promise(function (res, rej) {
        $.get(url, function (data, status) {

            if (status === 'success') {
                console.log("Success");
                res(data);
            } else {
                rej("Couldn't get the file.");
            }
        });
    });
}

function postRequest(url, info) {
    return new Promise(function (res, rej) {
        $.post(url, info, function (data, status) {
            if (status === 'success') {
                res(data);
            } else {
                rej("Unsuccessful POST request.");
            }
        });
    });
}

function getGeoTrends(latLongString) {
    return window.location.origin + "/api/twitter/geotrends/" + latLongString;
}

function getTwitData() {
    return window.location.origin + "/api/twitter/twitdata";
}

/**
 *
 * Control class for handing control panel events
 *
 */

var PanelComponent = function () {
    function PanelComponent(id, name, actionHandler) {
        var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
        classCallCheck(this, PanelComponent);

        this.id = id;
        this.name = name;
        this.actionHandler = actionHandler;
        this.data = data;
    }

    createClass(PanelComponent, [{
        key: "getSotedDataBy",
        value: function getSotedDataBy(key) {
            var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var sortedData = void 0;
            var descComparator = R.comparator(function (a, b) {
                return R.gt(R.prop(key, a), R.prop(key, b));
            });

            sortedData = ascending ? R.sortBy(R.prop(key), this.data) : R.sort(descComparator, this.data);
            return data;
        }
    }, {
        key: "getTopN",
        value: function getTopN(limit, key) {
            var ascending = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            var formatted = getSortedDataBy(key, ascending);
            return R.slice(0, limit + 1, formatted);
        }
    }, {
        key: "getActionHandler",
        value: function getActionHandler() {
            return this.actionHandler;
        }
    }, {
        key: "getData",
        value: function getData() {
            return this.data;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName(name) {
            this.name = name;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(actionHandler) {
            this.actionHandler = actionHandler;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(fn) {
            this.actionHandler = fn;
        }
    }, {
        key: "setData",
        value: function setData(data) {
            this.data = data;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                "id": this.id,
                "name": this.name,
                "actionHandler": this.actionHandler,
                "data": this.data
            };
        }
    }]);
    return PanelComponent;
}();

var Components = function () {
    function Components() {
        var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
        var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        classCallCheck(this, Components);

        this.id = id;
        this.name = name;
        this.list = list;
    }

    createClass(Components, [{
        key: "add",
        value: function add(panelComponent) {
            this.list.push(panelComponent);
        }
    }, {
        key: "remove",
        value: function remove(panelComponent) {
            for (var i = 0; i < this.list.length; i++) {
                if (this.list[i].id === panelComponent.id) {
                    this.list.splice(i, 1);
                }
            }
        }
    }, {
        key: "get",
        value: function get$$1() {
            return this;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName() {
            return this.name;
        }
    }, {
        key: "getList",
        value: function getList() {
            return this.list;
        }
    }, {
        key: "set",
        value: function set$$1(id, name, list) {
            this.id = id;
            this.name = name;
            this.list = list;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "setId",
        value: function setId(id) {
            this.id = id;
        }
    }, {
        key: "setList",
        value: function setList(list) {
            this.list = list;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                id: this.id,
                name: this.name,
                list: this.list
            };
        }
    }]);
    return Components;
}();

var IMAGES = {

    SOC_MEDIA_ICONS: {
        TWITTER: '../../img/icons/twitter_i.png',
        YELP: '',
        FOURSQARE: ''
    }
};

function createIcon(iconUrl) {
    var shadowUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var iconSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [38, 95];
    var shadowSize = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [50, 64];
    var iconAnchor = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [22, 94];
    var shadowIcon = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [4, 62];
    var popupAnchor = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [-3, -76];

    var twitterIcon = L.icon({
        iconUrl: iconUrl,
        // shadowUrl: IMAGES.SOC_MEDIA_ICONS.TWITTER,

        iconSize: iconSize, // size of the icon
        shadowSize: shadowSize, // size of the shadow
        iconAnchor: iconAnchor, // point of the icon which will correspond to marker's location
        shadowAnchor: shadowIcon, // the same for the shadow
        popupAnchor: popupAnchor // point from which the popup should open relative to the iconAnchor
    });

    console.log('Icon Object: ', twitterIcon);

    return twitterIcon;
}

// export function generateResults(data) {
//     console.log('Data', data);
// }

// export function animateTransition(data) {
//     console.log("")
// }

var generateResults = R.curry(function (data, geo) {
    R.pipe(R.map(drawMarker))(data);
});

var drawMarker = R.curry(function (pointData) {
    var twitterIcon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);

    L.marker([51.5, -0.09], { icon: twitterIcon }).addTo(Map);
});

var drawObject = R.curry(function (data, geolocation, iconType) {
    var icon = void 0;
    switch (iconType) {
        case 'twitter':
            console.log('data, geo, icon:', data, geolocation, iconType);
            icon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);
            L.marker([geolocation[1], geolocation[0]], { icon: icon }).addTo(Map);
            break;
        case 'yelp':
            console.log('Yelp data, geo, icon', data, geolocation, iconType);
            break;
        default:
            console.log('No soc media was selected.');
    }

    console.log('after switch');
});

// Action
$(window).load(function () {
    var storageSystem = new StorageSystem(window.localStorage);

    var socket = io.connect('http://localhost:8000/');

    var cpOpen = void 0,
        tracker = void 0,
        cpRightList = [];

    var rightComponents = new Components();

    /* INTRO LOADER CODE */
    $(function () {
        if (!storageSystem.getItem('firstVisit')) {
            fadeOut('#initLoader', 3000, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        } else {
            fadeOut('#initLoader', 550, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        }
    });

    storageSystem.setItem('firstVisit', true);

    cpOpen = storageSystem.getItem('cpOpen');
    console.log('cpOpen:::', cpOpen);
    if (cpOpen == 'false') {
        console.log("Should slide: cpOpen", cpOpen);
        slideToggleCp('controlPanelWrapper', Map);
    }

    // function getTweets(event) {
    //     // console.log(`Ready: ${event}`);

    // };


    addEventListenerTo('toggleSliderBtn', 'click', function (event) {
        return slideToggleCp('controlPanelWrapper', Map);
    });

    // let input = document.getElementById('pac-input')
    new L.Control.GPlaceAutocomplete({
        position: 'topright',
        callback: function callback(location) {
            console.log('Location given:', location);
            var lat = location.geometry.location.lat();
            var lng = location.geometry.location.lng();

            // const sanFrancisco = [ '-122.75, 36.8, -121.75, 37.8' ];
            var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

            storageSystem.setRawItem('lastLocation', lastLocation);
            Map.setView([lat, lng], 8, { animate: true, duration: 2.0 });
        }
    }).addTo(Map);

    socket.on('tweet', function (tweet) {
        // GraphOps.drawTweet();
        var coordinates = tweet.place.bounding_box.coordinates[0][1];
        var user = tweet.user;
        var text = tweet.text;
        var id = tweet.id;
        var created_at = tweet.created_at;
        var mlsTime = tweet.timestamp_ms;

        var data = {
            user: user,
            text: text,
            created_at: created_at,
            id: id,
            mlsTime: mlsTime
        };

        drawObject(data, coordinates, 'twitter');

        console.log('Tweet: ', tweet, coordinates);
        // [-121.906598, 36.975477]
    });

    function getInfoBasedOnChosenMode(mode, query, lastLocation, twitData) {
        switch (mode) {
            case 'real_time':
                socket.emit('topic', { topic: query, location: lastLocation });
                break;
            case 'specified_time':
                postRequest(getTwitData(), twitData).then(function (data) {
                    console.log('Data returned from API', data);
                }).catch(function (err) {
                    console.log('Error post request', err);
                });
                break;
            default:
                console.log('none of the modes selected');

        }
    }

    onSubmit('#querySearchForm', function (e) {
        e.preventDefault();
        var query = getInputValue('#querySearch');
        var lat = Map.getCenter().lat;
        var lng = Map.getCenter().lng;
        var twitData = { q: query, geocode: [lat, lng], radius: '25mi' };

        var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

        if (R.isNil(storageSystem.getItem('lastLocation'))) {
            console.log('Not selected. twitData:', twitData);
            // const testTwitDataItemTest = {q: 'trump', geocode: [37.7749, -122.4194], radius: '25mi'};

            getInfoBasedOnChosenMode('real_time', query, lastLocation, twitData);
            storageSystem.setRawItem('lastLocation', lastLocation);
        } else {
            lastLocation = storageSystem.getRawItem('lastLocation');
            console.log('Exists', lastLocation);

            /**
                 TODO:
                - This is for General and Selective timing
                - Get data points and draw them on the map
              */
            // const first = GraphOps.generateResults([1, 2, 3, 4]);
            // first(lastLocation);

            /**
                 TODO:
                - This portion of code is for Socket.io/real time tweet streaming
                - Get location and query and start connecting to the socket
              */
            getInfoBasedOnChosenMode('specified_time', query, lastLocation, twitData);
        }

        // once query selected:
        // check if location is already selected
        // if yes, then go to that location
        //          and show the results
        // if no, then get the center of the current
        //        location of the screen and show the results.
        //
    });

    // generation
    // ui.generateCpRightPanel('#panelWrapper', {});

    // Testing area
    var testGeo = '-25.2744,-133.7751'; // Australia
    // console.log('Path:', Paths.getGeoTrends(testGeo));
    console.log(getGeoTrends(testGeo));
    getRequest(getGeoTrends(testGeo)).then(function (data) {
        if (data.data) {
            var listOfTrends = data.data.trends;
            var geoData = data.geo;

            $("#querySearch").easyAutocomplete({
                data: listOfTrends,
                getValue: 'name',
                list: {
                    match: {
                        enabled: true
                    },
                    onShowListEvent: function onShowListEvent() {
                        // switch(storageSystem.getItem('cpOpen')) {
                        //     case 'false':
                        //        $('.easy-autocomplete-container').addClass('autocomplete-top');
                        //        break;
                        //     case 'true':
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        //        break;
                        //     default:
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        // };
                        switch (storageSystem.getItem('cpOpen')) {
                            case 'false':
                                addClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            case 'true':
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            default:
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                        }
                    },
                    onKeyEnterEvent: function onKeyEnterEvent() {}
                }
                // template: {
                //     type: "custom"
                //     // method: function(value, item) {
                //     //     return "<img src='" + item.icon + "' /> | " + item.type + " | " + value;
                //     // }
                // }
            });
        } else {
            console.log("no data", data);
        }

        // (function() {
        //     // for(let i = 0; i < 10; i++) {
        //     //     ui.addElementToPanel
        //     //     (
        //     //         '#panelCompRightWrapper',
        //     //         {},
        //     //         "Button " + i,
        //     //         $('<a></a>'),
        //     //         'menu btn btn-secondary',
        //     //         'col-lg-4'
        //     //     );
        //     // }

        //     // undefined by default will place 'div' element

        //     // ui.addElementTo('')

        // }());

        // console.log('Should reach here...');
        // let dropdown = ui.addContainerToContainer('#panelCompRightWrapper', 'favorites', undefined, 'dropdown show');
        // let $a = ui.addContainerToContainer(dropdown.attr('id'), undefined, $('<a>'), 'btn btn-secondary dropdown-toggle');
        // ui.addTextTo($a, $a.attr('id'));

        //target, dropdownName, dropdownID, dataList


        var panelComp1 = new PanelComponent('#topTen', 'Top 10 Tweets', function () {
            console.log('hi');
        }, [{ "name": "daler" }, { "name": "michael" }]);
        var panelComp2 = new PanelComponent('#topTwenty', 'Top 10 Retweets', function () {
            console.log('hi');
        }, [{ "lastname": "asrorov" }, { "lastname": "jojo" }]);
        var panelComp3 = new PanelComponent('#topThirty', 'Top 30 Retweets', function () {
            console.log('hi');
        }, [{ "jorge": "quero" }, { "sandro": "bolo" }]);

        rightComponents.add(panelComp1);
        rightComponents.add(panelComp2);
        rightComponents.add(panelComp3);
        rightComponents.setName('Social Media');
        rightComponents.setId('socMedia');

        console.log("panelComp object:", rightComponents);
        appendDropDownToPanel('#panelCompRightWrapper', rightComponents);
    }).catch(function (err) {
        console.log("Error request", err);
    });

    // Request.getRequest(Utils.getTrendsPlaces(lat, long))Ã¥
    //     .then((data) => {
    //         console.log("Trends Data");
    //     })

    // post request testing

});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL2pzL21vZHVsZXMvbWFwLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzIiwiLi4vanMvbW9kdWxlcy91aS5qcyIsIi4uL2pzL21vZHVsZXMvcmVxdWVzdC5qcyIsIi4uL2pzL21vZHVsZXMvcGF0aHMuanMiLCIuLi9qcy9jbGFzc2VzL3BhbmVsY29tcG9uZW50LmpzIiwiLi4vanMvY2xhc3Nlcy9jb21wb25lbnRzLmpzIiwiLi4vanMvbW9kdWxlcy9jb25zdGFudHMuanMiLCIuLi9qcy9tb2R1bGVzL21hcGVsZW1lbnRzLmpzIiwiLi4vanMvbW9kdWxlcy9tYXBvcHMuanMiLCIuLi9qcy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gSW5pdGlhbGl6aW5nIHRoZSBtYXBcbi8vIGxldCBtYWluTWFwID0gTC5tYXAoJ21hcFdyYXBwZXInKS5zZXRWaWV3KFs1MS41MDUsIC0wLjA5XSwgMTMpO1xuXG4vLyBMLnRpbGVMYXllcignaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsIHtcbi8vICAgICBtYXhab29tOiAxOSxcbi8vICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPidcbi8vIH0pLmFkZFRvKG1haW5NYXApO1xuXG5sZXQgbWFwTGF5ZXIgPSBNUS5tYXBMYXllcigpLCBtYWluTWFwO1xuXG5tYWluTWFwID0gTC5tYXAoJ21hcFdyYXBwZXInLCB7XG4gICAgbGF5ZXJzOiBtYXBMYXllcixcbiAgICBjZW50ZXI6IFsgNDAuNzMxNzAxLCAtNzMuOTkzNDExIF0sXG4gICAgem9vbTogMTJcbn0pO1xuXG5MLmNvbnRyb2wubGF5ZXJzKHtcbiAgJ01hcCc6IG1hcExheWVyLFxuICAnSHlicmlkJzogTVEuaHlicmlkTGF5ZXIoKSxcbiAgJ1NhdGVsbGl0ZSc6IE1RLnNhdGVsbGl0ZUxheWVyKCksXG4gICdEYXJrJzogTVEuZGFya0xheWVyKCksXG4gICdMaWdodCc6IE1RLmxpZ2h0TGF5ZXIoKVxufSkuYWRkVG8obWFpbk1hcCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1haW5NYXA7XG4iLCIvKipcbiAqXG4gKiBTdG9yYWdlIEJhc2UgY2xhc3NcbiAqXG4gKi9cblxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgZ2V0SXRlbShrZXkpIHt9XG4gICAgZ2V0UmF3SXRlbShrZXkpIHt9XG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7fVxuICAgIHNldFJhd0l0ZW0oa2V5LCB2YWx1ZSkge31cbiB9XG4iLCJpbXBvcnQgU3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlU3lzdGVtIGV4dGVuZHMgU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IobG9jYWxTdG9yYWdlLCAuLi5yZXN0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZTtcbiAgICB9XG5cbiAgICBnZXRJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9XG5cbiAgICBnZXRSYXdJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLmdldEl0ZW0oa2V5KSk7XG4gICAgfVxuXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHNldFJhd0l0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbn0iLCIvLyBVSSBVdGlscyBzZXRcbmltcG9ydCBTdG9yYWdlU3lzdGVtIGZyb20gJy4vLi4vY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNsaWRlVG9nZ2xlQ3AodGFyZ2V0SUQsIG1hcCwgaGVpZ2h0U2V0dGVySUQgPSAnYXJyb3dQb2ludGVyV3JhcHBlcicsIGNwRGVmYXVsdEhlaWdodCA9IFwiMzUlXCIsIC4uLnJlc3QpIHtcbiAgICBjb25zdCBjcE5hdkhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlaWdodFNldHRlcklEKS5vZmZzZXRIZWlnaHQudG9TdHJpbmcoKTtcbiAgICBjb25zdCBjcFdyYXBwZXJIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRJRCkub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc2xpZGluZ1RpbWUgPSAyNzA7XG4gICAgY29uc3QgZGVmYXVsdFRvcCA9IFwiLTE1cHhcIjtcbiAgICBjb25zdCAkcXVlcnlTZWFyY2hGb3JtID0gJCgnI3F1ZXJ5U2VhcmNoRm9ybScpO1xuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGAjJHt0YXJnZXRJRH1gKTtcbiAgICBjb25zdCAkYm9keSA9ICQoJ2JvZHknKTtcbiAgICBjb25zdCAkc2xpZGVTd2l0Y2hJY29uID0gJCgnI3NsaWRlU3dpdGNoSWNvbicpO1xuXG4gICAgY29uc3Qgc3RvcmFnZVN5c3RlbSA9IG5ldyBTdG9yYWdlU3lzdGVtKHdpbmRvdy5sb2NhbFN0b3JhZ2UpO1xuXG4gICAgLy9cbiAgICBpZihjcFdyYXBwZXJIZWlnaHQgPT09IGNwTmF2SGVpZ2h0KSB7XG4gICAgICAgICRib2R5LmNzcyh7XCJvdmVyZmxvd1lcIjogXCJhdXRvXCJ9KTtcbiAgICAgICAgJHRhcmdldC5hbmltYXRlKHtoZWlnaHQ6IGNwRGVmYXVsdEhlaWdodH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHF1ZXJ5U2VhcmNoRm9ybS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogXCItMTVweFwiXG4gICAgICAgIH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHNsaWRlU3dpdGNoSWNvbi5hZGRDbGFzcygnZmEtY2FyZXQtZG93bicpLnJlbW92ZUNsYXNzKCdmYS1jYXJldC11cCcpO1xuICAgICAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oXCJjcE9wZW5cIiwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAkYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiaGlkZGVuXCJ9KTtcbiAgICAgICAgJHRhcmdldC5hbmltYXRlKHtoZWlnaHQ6IGNwTmF2SGVpZ2h0fSwgc2xpZGluZ1RpbWUpO1xuICAgICAgICAkcXVlcnlTZWFyY2hGb3JtLmFuaW1hdGUoe1xuICAgICAgICAgICAgdG9wOiBcIi0zN3B4XCJcbiAgICAgICAgfSwgc2xpZGluZ1RpbWUpO1xuICAgICAgICBtYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICAgICAgJHNsaWRlU3dpdGNoSWNvbi5hZGRDbGFzcygnZmEtY2FyZXQtdXAnKS5yZW1vdmVDbGFzcygnZmEtY2FyZXQtZG93bicpO1xuICAgICAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oXCJjcE9wZW5cIiwgZmFsc2UpO1xuICAgIH1cbn1cblxuLyoqXG4qICBIZWxwZXIgVUkgbWV0aG9kIHRoYXQgd2lsbCBrZWVwIHRoZVxuKiAgY29udHJvbCBwYW5lbCBjbG9zZWQgZmFzdGVyLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDcENzcyh0YXJnZXQsIGhlaWdodCwgYm9keT0kKCdib2R5JykpIHtcbiAgICBib2R5LmNzcyh7XCJvdmVyZmxvd1lcIjogXCJhdXRvXCJ9KTtcbiAgICAkdGFyZ2V0LmNzcyh7aGVpZ2h0OiBjcERlZmF1bHRIZWlnaHR9KTtcbn1cblxuLyoqXG4qICAgQmFzZWQgb24gdGhlIGdpdmVuIHRhcmdldCAoZGl2KSBhbmQgZGF0YSAobGlzdCBvZlxuKiAgIGF2YWlsYWJsZSBvcHRpb25zKSwgcGxhY2UgYSB0YWJsZSAob3IgbGlzdCkgb2ZcbiogICB3aWRnZXRzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNwUmlnaHRQYW5lbCh0YXJnZXQsIGRhdGEpIHtcbiAgICBsZXQgJHRhcmdldCA9ICQodGFyZ2V0KTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICR0YXJnZXQuYXBwZW5kXG4gICAgICAgIChcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLWxnLTRcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1lbnVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgXCJTb21ldGhpbmdcIiArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFbGVtZW50VG9QYW5lbChcbiAgICBwYW5lbCxcbiAgICBldmVudExpc3RlbmVyLFxuICAgIGh0bWxJdGVtTmFtZSA9ICcnLFxuICAgIGh0bWxJdGVtID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+PC9idXR0b24+JyksXG4gICAgaHRtbEl0ZW1DbGFzcyA9ICdtZW51JyxcbiAgICBjb2x1bW5TaXplID0gJ2NvbC1sZy00Jykge1xuXG4gICAgbGV0ICRwYW5lbCA9ICQocGFuZWwpO1xuICAgIGxldCAkaHRtbEl0ZW0gPSBodG1sSXRlbTtcbiAgICBsZXQgJGRpdkNvbCA9ICQoJzxkaXY+PC9kaXY+Jyk7XG5cbiAgICAkaHRtbEl0ZW0uYWRkQ2xhc3MoaHRtbEl0ZW1DbGFzcyk7XG4gICAgJGh0bWxJdGVtLmh0bWwoJzxzcGFuIGNsYXNzPVwicmlnaHQtY3AtbmFtZVwiPidcbiAgICAgICAgICAgICAgICAgICArIGh0bWxJdGVtTmFtZSArICc8L3NwYW4+JylcbiAgICAkZGl2Q29sLmFkZENsYXNzKGNvbHVtblNpemUpO1xuXG4gICAgJGRpdkNvbC5hcHBlbmQoJGh0bWxJdGVtKTtcbiAgICAkcGFuZWwuYXBwZW5kKCRkaXZDb2wpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFRvKHRhcmdldCwgZWxlbWVudD0kKCc8ZGl2PjwvZGl2PicpKSB7XG4gICAgaWYodHlwZW9mIHRhcmdldCA9PSAnb2JqZWN0Jykge1xuICAgICAgICB0YXJnZXQuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiAkKGAke3RhcmdldH1gKS5hcHBlbmQoZWxlbWVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250YWluZXJUb0NvbnRhaW5lcihwYW5lbCwgaWQ9JycsIGNvbnRhaW5lcj0kKGA8ZGl2IGlkPSR7aWR9PjwvZGl2PmApLCBjbGFzc2VzPScnKSB7XG4gICAgbGV0IGFkZElkID0gY29udGFpbmVyLmF0dHIoJ2lkJykgPyBjb250YWluZXIuYXR0cignaWQnKSA6IGNvbnRhaW5lci5hdHRyKCdpZCcsIGAjJHtpZH1gKTtcbiAgICBhZGRDbGFzcyhjb250YWluZXIsIGNsYXNzZXMpO1xuICAgICQocGFuZWwpLmFwcGVuZChjb250YWluZXIpO1xuICAgIGNvbnNvbGUubG9nKCdjb250YWluZXInLCBjb250YWluZXIpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkge1xuICAgICQodGFyZ2V0KS5hZGRDbGFzcyhjbGFzc05hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVGV4dFRvKHRhcmdldCwgdGV4dCkge1xuICAgIGlmKHR5cGVvZiB0YXJnZXQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKcXVlcnkgc2hvdWxkIGJlIGFwcGxpZWQgZGlyZWN0bHlcIik7XG4gICAgICAgIHRhcmdldC5odG1sKHRleHQpO1xuICAgIH0gZWxzZSBpZih0eXBlb2YgdGFyZ2V0ID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSXQncyBpZFwiLCB0YXJnZXQpO1xuICAgICAgICAkKHRhcmdldCkuaHRtbCh0ZXh0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzcyh0YXJnZXQsIGNsYXNzTmFtZSkge1xuICAgICQodGFyZ2V0KS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xufVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gZmFkZU91dCh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrSGFuZGxlciA9IGZ1bmN0aW9uKCl7fSkge1xuLy8gICAgICQodGFyZ2V0KS5mYWRlT3V0KHR5cGUsIGNhbGxiYWNrSGFuZGxlcik7XG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyVG8odGFyZ2V0LCB0eXBlLCBmbikge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCkuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbGVtZW50KHRhcmdldCkge1xuICAgICQodGFyZ2V0KS5yZW1vdmUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlKHRhcmdldCwgc3R5bGVPYmplY3QsIC4uLnJlc3QpIHtcbiAgICByZXR1cm4gJCh0YXJnZXQpLmNzcyhzdHlsZU9iamVjdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWRlT3V0KHRhcmdldCwgdGltZXIsIGNhbGxiYWNrKSB7XG4gICAgJCh0YXJnZXQpLmZhZGVPdXQodGltZXIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAkKCcjaW5pdExvYWRlcicpLnJlbW92ZSgpO1xuICAgICAgICAvLyAkKCcjbWFpbldyYXBwZXInKS5jc3Moe29wYWNpdHk6IDAuMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgMTAwMCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVmlzaWJsZSh0YXJnZXQsIHRpbWVyKSB7XG4gICAgJCh0YXJnZXQpLmNzcyh7b3BhY2l0eTogMC4wLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pLmFuaW1hdGUoe29wYWNpdHk6IDF9LCB0aW1lcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZERyb3BEb3duVG8odGFyZ2V0LCBkcm9wZG93bk5hbWUsIGRyb3Bkb3duSUQsIGFjdGlvbnNMaXN0KSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJIRVJFXCIsIGRyb3Bkb3duTmFtZSwgXCIgSEVSRSBcIiwgZHJvcGRvd25JRCwgXCIgSEVSRSBcIiwgYWN0aW9uc0xpc3QpO1xuICAgIGxldCAkdGFyZ2V0UmVmID0gJCh0YXJnZXQpLmFwcGVuZChgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCIgaWQ9JHtkcm9wZG93bklEfT48L2Rpdj5gKTtcbiAgICBsZXQgJGRyb3Bkb3duID0gJCh0YXJnZXQpLmZpbmQoYCMke2Ryb3Bkb3duSUR9YCk7XG4gICAgJGRyb3Bkb3duLmFwcGVuZChgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlJyB0eXBlPSdidXR0b24nIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj5gICsgZHJvcGRvd25OYW1lICsgYDwvYnV0dG9uPmApO1xuICAgIGxldCAkZHJvcGRvd25SZWYgPSAkZHJvcGRvd24uYXBwZW5kKGA8ZGl2IGNsYXNzPSdkcm9wZG93bi1tZW51JyA8L2Rpdj5gKTtcbiAgICBsZXQgJGxpc3REaXYgPSAkZHJvcGRvd25SZWYuZmluZCgnLmRyb3Bkb3duLW1lbnUnKTtcblxuICAgIGFjdGlvbnNMaXN0Lm1hcCgoYWN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAkbGlzdERpdi5hcHBlbmRcbiAgICAgICAgKGBcbiAgICAgICAgICAgIDxhIGNsYXNzID0nZHJvcGRvd24taXRlbScgaWQ9JyR7YWN0aW9uLmlkfScgaHJlZj0nIyc+ICR7YWN0aW9uLm5hbWV9IDwvYT5cbiAgICAgICAgYClcbiAgICB9KTtcbiAgICAkZHJvcGRvd24uYXBwZW5kKCRsaXN0RGl2KTtcbiAgICAkKHRhcmdldCkuYXBwZW5kKCRkcm9wZG93bik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlwcmVzcyh0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgJCh0YXJnZXQpLmtleXByZXNzKGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZERyb3BEb3duVG9QYW5lbCh0YXJnZXQsIGNvbXBvbmVudHNDbGFzcykge1xuICAgIGNvbnNvbGUubG9nKFwiY29tcG9uZW50c0NsYXNzLmxpc3Q6XCIsIGNvbXBvbmVudHNDbGFzcy5saXN0KTtcbiAgICBhcHBlbmREcm9wRG93blRvKHRhcmdldCwgY29tcG9uZW50c0NsYXNzLm5hbWUsIGNvbXBvbmVudHNDbGFzcy5pZCwgY29tcG9uZW50c0NsYXNzLmxpc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25TdWJtaXQodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgICQodGFyZ2V0KS5zdWJtaXQoY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5wdXRWYWx1ZSh0YXJnZXQpIHtcbiAgICByZXR1cm4gJCh0YXJnZXQpLnZhbCgpO1xufVxuXG5cblxuXG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgJC5nZXQodXJsLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiQ291bGRuJ3QgZ2V0IHRoZSBmaWxlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcG9zdFJlcXVlc3QodXJsLCBpbmZvKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAkLnBvc3QodXJsLCBpbmZvLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZihzdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiVW5zdWNjZXNzZnVsIFBPU1QgcmVxdWVzdC5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59OyIsIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlbmRzUGF0aCh3ZWlkKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL3RyZW5kcy8ke3dlaWR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb1RyZW5kcyhsYXRMb25nU3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL2dlb3RyZW5kcy8ke2xhdExvbmdTdHJpbmd9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR3aXREYXRhKCkge1xuICAgIHJldHVybiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9hcGkvdHdpdHRlci90d2l0ZGF0YWA7XG59XG5cbiIsIi8qKlxuICpcbiAqIENvbnRyb2wgY2xhc3MgZm9yIGhhbmRpbmcgY29udHJvbCBwYW5lbCBldmVudHNcbiAqXG4gKi9cblxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgYWN0aW9uSGFuZGxlciwgZGF0YT1bXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGFjdGlvbkhhbmRsZXI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0U290ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmc9dHJ1ZSkge1xuICAgICAgICBsZXQgc29ydGVkRGF0YTtcbiAgICAgICAgY29uc3QgZGVzY0NvbXBhcmF0b3IgPSBSLmNvbXBhcmF0b3IoKGEsIGIpID0+IFIuZ3QoUi5wcm9wKGtleSwgYSksIFIucHJvcChrZXksIGIpKSk7XG5cbiAgICAgICAgc29ydGVkRGF0YSA9IGFzY2VuZGluZyA/IFIuc29ydEJ5KFIucHJvcChrZXkpLCB0aGlzLmRhdGEpIDogUi5zb3J0KGRlc2NDb21wYXJhdG9yLCB0aGlzLmRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBnZXRUb3BOKGxpbWl0LCBrZXksIGFzY2VuZGluZz10cnVlKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBnZXRTb3J0ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmcpO1xuICAgICAgICByZXR1cm4gUi5zbGljZSgwLCBsaW1pdCArIDEsIGZvcm1hdHRlZCk7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBnZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25IYW5kbGVyID0gYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGZuKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGZuO1xuICAgIH1cblxuICAgIHNldERhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJpZFwiOiB0aGlzLmlkLFxuICAgICAgICAgICAgXCJuYW1lXCI6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIFwiYWN0aW9uSGFuZGxlclwiOiB0aGlzLmFjdGlvbkhhbmRsZXIsXG4gICAgICAgICAgICBcImRhdGFcIjogdGhpcy5kYXRhXG4gICAgICAgIH07XG4gICAgfVxuIH1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50cyB7XG4gICAgY29uc3RydWN0b3IoaWQ9XCJcIiwgbmFtZT1cIlwiLCBsaXN0PVtdKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICBhZGQocGFuZWxDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5saXN0LnB1c2gocGFuZWxDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJlbW92ZShwYW5lbENvbXBvbmVudCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0aGlzLmxpc3RbaV0uaWQgPT09IHBhbmVsQ29tcG9uZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgZ2V0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdDtcbiAgICB9XG5cbiAgICBzZXQoaWQsIG5hbWUsIGxpc3QpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHNldElkKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBzZXRMaXN0KGxpc3QpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgbGlzdDogdGhpcy5saXN0XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjb25zdCBJTUFHRVMgPSB7XG5cbiAgICBTT0NfTUVESUFfSUNPTlM6IHtcbiAgICAgICAgVFdJVFRFUjogJy4uLy4uL2ltZy9pY29ucy90d2l0dGVyX2kucG5nJyxcbiAgICAgICAgWUVMUDogJycsXG4gICAgICAgIEZPVVJTUUFSRTogJydcbiAgICB9XG59XG4iLCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvblVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1VybD1cIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU9WzM4LCA5NV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dTaXplPVs1MCwgNjRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcj1bMjIsIDk0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0ljb249IFs0LCA2Ml0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcj1bLTMsIC03Nl0pIHtcbiAgICBsZXQgdHdpdHRlckljb24gPSBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiBpY29uVXJsLFxuICAgICAgICAvLyBzaGFkb3dVcmw6IElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUixcblxuICAgICAgICBpY29uU2l6ZTogICAgIGljb25TaXplLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICAgIHNoYWRvd1NpemU6ICAgc2hhZG93U2l6ZSwgLy8gc2l6ZSBvZiB0aGUgc2hhZG93XG4gICAgICAgIGljb25BbmNob3I6ICAgaWNvbkFuY2hvciwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgIHNoYWRvd0FuY2hvcjogc2hhZG93SWNvbiwgIC8vIHRoZSBzYW1lIGZvciB0aGUgc2hhZG93XG4gICAgICAgIHBvcHVwQW5jaG9yOiAgcG9wdXBBbmNob3IgLy8gcG9pbnQgZnJvbSB3aGljaCB0aGUgcG9wdXAgc2hvdWxkIG9wZW4gcmVsYXRpdmUgdG8gdGhlIGljb25BbmNob3JcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdJY29uIE9iamVjdDogJywgdHdpdHRlckljb24pO1xuXG4gICAgcmV0dXJuIHR3aXR0ZXJJY29uO1xufSIsImltcG9ydCBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHsgSU1BR0VTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgTWFwRWxlbWVudHMgZnJvbSAnLi9tYXBlbGVtZW50cy5qcyc7XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlc3VsdHMoZGF0YSkge1xuLy8gICAgIGNvbnNvbGUubG9nKCdEYXRhJywgZGF0YSk7XG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBhbmltYXRlVHJhbnNpdGlvbihkYXRhKSB7XG4vLyAgICAgY29uc29sZS5sb2coXCJcIilcbi8vIH1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmVzdWx0cyA9IFIuY3VycnkoKGRhdGEsIGdlbykgPT4ge1xuICAgIFIucGlwZShcbiAgICAgICAgUi5tYXAoZHJhd01hcmtlciksIC8vIHJlbmRlciBwb2ludHMgd2l0aCBhbmltYXRpb25zXG4gICAgKShkYXRhKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd01hcmtlciA9IFIuY3VycnkoKHBvaW50RGF0YSkgPT4ge1xuICAgIGNvbnN0IHR3aXR0ZXJJY29uID0gTWFwRWxlbWVudHMuY3JlYXRlSWNvbihJTUFHRVMuU09DX01FRElBX0lDT05TLlRXSVRURVIpO1xuXG4gICAgTC5tYXJrZXIoWzUxLjUsIC0wLjA5XSwge2ljb246IHR3aXR0ZXJJY29ufSkuYWRkVG8oTWFwKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd09iamVjdCA9IFIuY3VycnkoKGRhdGEsIGdlb2xvY2F0aW9uLCBpY29uVHlwZSkgPT4ge1xuICAgIGxldCBpY29uO1xuICAgIHN3aXRjaChpY29uVHlwZSkge1xuICAgICAgICBjYXNlICd0d2l0dGVyJzpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhLCBnZW8sIGljb246JywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGljb24gPSBNYXBFbGVtZW50cy5jcmVhdGVJY29uKElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUik7XG4gICAgICAgICAgICBMLm1hcmtlcihbZ2VvbG9jYXRpb25bMV0sIGdlb2xvY2F0aW9uWzBdXSwge2ljb246IGljb259KS5hZGRUbyhNYXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3llbHAnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1llbHAgZGF0YSwgZ2VvLCBpY29uJywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHNvYyBtZWRpYSB3YXMgc2VsZWN0ZWQuJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ2FmdGVyIHN3aXRjaCcpO1xufSk7IiwiaW1wb3J0IE1hcCBmcm9tICcuL21vZHVsZXMvbWFwLmpzJztcbmltcG9ydCAqIGFzIHVpIGZyb20gJy4vbW9kdWxlcy91aS5qcyc7XG5pbXBvcnQgKiBhcyBSZXF1ZXN0IGZyb20gJy4vbW9kdWxlcy9yZXF1ZXN0LmpzJztcbmltcG9ydCAqIGFzIFBhdGhzIGZyb20gJy4vbW9kdWxlcy9wYXRocy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL21vZHVsZXMvdXRpbHMuanMnO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2UuanMnO1xuaW1wb3J0IFN0b3JhZ2VTeXN0ZW0gZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2VzeXN0ZW0uanMnO1xuaW1wb3J0IFBhbmVsQ29tcG9uZW50IGZyb20gJy4vY2xhc3Nlcy9wYW5lbGNvbXBvbmVudC5qcyc7XG5pbXBvcnQgQ29tcG9uZW50cyBmcm9tICcuL2NsYXNzZXMvY29tcG9uZW50cy5qcyc7XG5pbXBvcnQgKiBhcyBHcmFwaE9wcyBmcm9tICcuL21vZHVsZXMvbWFwb3BzLmpzJztcblxuLy8gQWN0aW9uXG4kKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlU3lzdGVtID0gbmV3IFN0b3JhZ2VTeXN0ZW0od2luZG93LmxvY2FsU3RvcmFnZSk7XG5cbiAgICBsZXQgc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwLycpO1xuXG4gICAgbGV0IGNwT3BlbixcbiAgICAgICAgdHJhY2tlcixcbiAgICAgICAgY3BSaWdodExpc3QgPVtdO1xuXG4gICAgbGV0IHJpZ2h0Q29tcG9uZW50cyA9IG5ldyBDb21wb25lbnRzKCk7XG5cbiAgICAvKiBJTlRSTyBMT0FERVIgQ09ERSAqL1xuICAgICQoKCkgPT4ge1xuICAgICAgICBpZighc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdmaXJzdFZpc2l0JykpIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgMzAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpLnJlbW92ZUVsZW1lbnQoJyNpbml0TG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgdWkubWFrZVZpc2libGUoJyNtYWluV3JhcHBlcicsIDUwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgNTUwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdWkucmVtb3ZlRWxlbWVudCgnI2luaXRMb2FkZXInKTtcbiAgICAgICAgICAgICAgICB1aS5tYWtlVmlzaWJsZSgnI21haW5XcmFwcGVyJywgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oJ2ZpcnN0VmlzaXQnLCB0cnVlKTtcblxuICAgIGNwT3BlbiA9IHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJyk7XG4gICAgY29uc29sZS5sb2coJ2NwT3Blbjo6OicsIGNwT3Blbik7XG4gICAgaWYoY3BPcGVuID09ICdmYWxzZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaG91bGQgc2xpZGU6IGNwT3BlblwiLCBjcE9wZW4pO1xuICAgICAgICB1aS5zbGlkZVRvZ2dsZUNwKCdjb250cm9sUGFuZWxXcmFwcGVyJywgTWFwKTtcbiAgICB9XG5cblxuICAgIC8vIGZ1bmN0aW9uIGdldFR3ZWV0cyhldmVudCkge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhgUmVhZHk6ICR7ZXZlbnR9YCk7XG5cbiAgICAvLyB9O1xuXG5cbiAgICB1aS5hZGRFdmVudExpc3RlbmVyVG8oJ3RvZ2dsZVNsaWRlckJ0bicsICdjbGljaycsIChldmVudCkgPT4gdWkuc2xpZGVUb2dnbGVDcCgnY29udHJvbFBhbmVsV3JhcHBlcicsIE1hcCkpO1xuXG4gICAgLy8gbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhYy1pbnB1dCcpXG4gICAgbmV3IEwuQ29udHJvbC5HUGxhY2VBdXRvY29tcGxldGUoe1xuICAgICAgICBwb3NpdGlvbjogJ3RvcHJpZ2h0JyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gZ2l2ZW46JywgbG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgbGF0ID0gbG9jYXRpb24uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCk7XG4gICAgICAgICAgICBjb25zdCBsbmcgPSBsb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKTtcblxuICAgICAgICAgICAgLy8gY29uc3Qgc2FuRnJhbmNpc2NvID0gWyAnLTEyMi43NSwgMzYuOCwgLTEyMS43NSwgMzcuOCcgXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RMb2NhdGlvbiA9IFtgJHtsbmd9LCAke2xhdH0sICR7bG5nKzF9LCAke2xhdCsxfWBdO1xuXG4gICAgICAgICAgICBzdG9yYWdlU3lzdGVtLnNldFJhd0l0ZW0oJ2xhc3RMb2NhdGlvbicsIGxhc3RMb2NhdGlvbik7XG4gICAgICAgICAgICBNYXAuc2V0VmlldyhbbGF0LCBsbmddLCA4LCB7YW5pbWF0ZTogdHJ1ZSwgZHVyYXRpb246IDIuMH0pO1xuICAgICAgICB9XG4gICAgfSkuYWRkVG8oTWFwKTtcblxuXG4gICAgc29ja2V0Lm9uKCd0d2VldCcsICh0d2VldCkgPT4ge1xuICAgICAgICAvLyBHcmFwaE9wcy5kcmF3VHdlZXQoKTtcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0d2VldC5wbGFjZS5ib3VuZGluZ19ib3guY29vcmRpbmF0ZXNbMF1bMV07XG4gICAgICAgIGNvbnN0IHVzZXIgPSB0d2VldC51c2VyO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdHdlZXQudGV4dDtcbiAgICAgICAgY29uc3QgaWQgPSB0d2VldC5pZDtcbiAgICAgICAgY29uc3QgY3JlYXRlZF9hdCA9IHR3ZWV0LmNyZWF0ZWRfYXQ7XG4gICAgICAgIGNvbnN0IG1sc1RpbWUgPSB0d2VldC50aW1lc3RhbXBfbXM7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIG1sc1RpbWU6IG1sc1RpbWVcbiAgICAgICAgfTtcblxuICAgICAgICBHcmFwaE9wcy5kcmF3T2JqZWN0KGRhdGEsIGNvb3JkaW5hdGVzLCAndHdpdHRlcicpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdUd2VldDogJywgdHdlZXQsIGNvb3JkaW5hdGVzKTtcbiAgICAgICAgLy8gWy0xMjEuOTA2NTk4LCAzNi45NzU0NzddXG5cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZShtb2RlLCBxdWVyeSwgbGFzdExvY2F0aW9uLCB0d2l0RGF0YSkge1xuICAgICAgICBzd2l0Y2gobW9kZSkge1xuICAgICAgICAgICAgY2FzZSAncmVhbF90aW1lJzpcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdCgndG9waWMnLCB7dG9waWM6IHF1ZXJ5LCBsb2NhdGlvbjogbGFzdExvY2F0aW9ufSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzcGVjaWZpZWRfdGltZSc6XG4gICAgICAgICAgICAgICAgUmVxdWVzdC5wb3N0UmVxdWVzdChQYXRocy5nZXRUd2l0RGF0YSgpLCB0d2l0RGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YSByZXR1cm5lZCBmcm9tIEFQSScsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHBvc3QgcmVxdWVzdCcsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub25lIG9mIHRoZSBtb2RlcyBzZWxlY3RlZCcpO1xuXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHVpLm9uU3VibWl0KCcjcXVlcnlTZWFyY2hGb3JtJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdWkuZ2V0SW5wdXRWYWx1ZSgnI3F1ZXJ5U2VhcmNoJyk7XG4gICAgICAgIGNvbnN0IGxhdCA9IE1hcC5nZXRDZW50ZXIoKS5sYXQ7XG4gICAgICAgIGNvbnN0IGxuZyA9IE1hcC5nZXRDZW50ZXIoKS5sbmc7XG4gICAgICAgIGNvbnN0IHR3aXREYXRhID0ge3E6IHF1ZXJ5LCBnZW9jb2RlOiBbbGF0LCBsbmddLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgbGV0IGxhc3RMb2NhdGlvbiA9IFtgJHtsbmd9LCAke2xhdH0sICR7bG5nKzF9LCAke2xhdCsxfWBdO1xuXG4gICAgICAgIGlmKFIuaXNOaWwoc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdsYXN0TG9jYXRpb24nKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc2VsZWN0ZWQuIHR3aXREYXRhOicsIHR3aXREYXRhKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHRlc3RUd2l0RGF0YUl0ZW1UZXN0ID0ge3E6ICd0cnVtcCcsIGdlb2NvZGU6IFszNy43NzQ5LCAtMTIyLjQxOTRdLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgICAgIGdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZSgncmVhbF90aW1lJywgcXVlcnksIGxhc3RMb2NhdGlvbiwgdHdpdERhdGEpO1xuICAgICAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRSYXdJdGVtKCdsYXN0TG9jYXRpb24nLCBsYXN0TG9jYXRpb24pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TG9jYXRpb24gPSBzdG9yYWdlU3lzdGVtLmdldFJhd0l0ZW0oJ2xhc3RMb2NhdGlvbicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0V4aXN0cycsIGxhc3RMb2NhdGlvbik7XG5cbiAgICAgICAgICAgIC8qKlxuXG4gICAgICAgICAgICAgICAgVE9ETzpcbiAgICAgICAgICAgICAgICAtIFRoaXMgaXMgZm9yIEdlbmVyYWwgYW5kIFNlbGVjdGl2ZSB0aW1pbmdcbiAgICAgICAgICAgICAgICAtIEdldCBkYXRhIHBvaW50cyBhbmQgZHJhdyB0aGVtIG9uIHRoZSBtYXBcblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBjb25zdCBmaXJzdCA9IEdyYXBoT3BzLmdlbmVyYXRlUmVzdWx0cyhbMSwgMiwgMywgNF0pO1xuICAgICAgICAgICAgLy8gZmlyc3QobGFzdExvY2F0aW9uKTtcblxuICAgICAgICAgICAgLyoqXG5cbiAgICAgICAgICAgICAgICBUT0RPOlxuICAgICAgICAgICAgICAgIC0gVGhpcyBwb3J0aW9uIG9mIGNvZGUgaXMgZm9yIFNvY2tldC5pby9yZWFsIHRpbWUgdHdlZXQgc3RyZWFtaW5nXG4gICAgICAgICAgICAgICAgLSBHZXQgbG9jYXRpb24gYW5kIHF1ZXJ5IGFuZCBzdGFydCBjb25uZWN0aW5nIHRvIHRoZSBzb2NrZXRcblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRJbmZvQmFzZWRPbkNob3Nlbk1vZGUoJ3NwZWNpZmllZF90aW1lJywgcXVlcnksIGxhc3RMb2NhdGlvbiwgdHdpdERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb25jZSBxdWVyeSBzZWxlY3RlZDpcbiAgICAgICAgLy8gY2hlY2sgaWYgbG9jYXRpb24gaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAvLyBpZiB5ZXMsIHRoZW4gZ28gdG8gdGhhdCBsb2NhdGlvblxuICAgICAgICAvLyAgICAgICAgICBhbmQgc2hvdyB0aGUgcmVzdWx0c1xuICAgICAgICAvLyBpZiBubywgdGhlbiBnZXQgdGhlIGNlbnRlciBvZiB0aGUgY3VycmVudFxuICAgICAgICAvLyAgICAgICAgbG9jYXRpb24gb2YgdGhlIHNjcmVlbiBhbmQgc2hvdyB0aGUgcmVzdWx0cy5cbiAgICAgICAgLy9cbiAgICB9KTtcblxuICAgIC8vIGdlbmVyYXRpb25cbiAgICAvLyB1aS5nZW5lcmF0ZUNwUmlnaHRQYW5lbCgnI3BhbmVsV3JhcHBlcicsIHt9KTtcblxuICAgIC8vIFRlc3RpbmcgYXJlYVxuICAgIGxldCB0ZXN0R2VvID0gJy0yNS4yNzQ0LC0xMzMuNzc1MSc7IC8vIEF1c3RyYWxpYVxuICAgIC8vIGNvbnNvbGUubG9nKCdQYXRoOicsIFBhdGhzLmdldEdlb1RyZW5kcyh0ZXN0R2VvKSk7XG4gICAgY29uc29sZS5sb2coUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKTtcbiAgICBSZXF1ZXN0LmdldFJlcXVlc3QoUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGlmKGRhdGEuZGF0YSkge1xuICAgICAgICAgICAgbGV0IGxpc3RPZlRyZW5kcyA9IGRhdGEuZGF0YS50cmVuZHM7XG4gICAgICAgICAgICBsZXQgZ2VvRGF0YSA9IGRhdGEuZ2VvO1xuXG4gICAgICAgICAgICAkKFwiI3F1ZXJ5U2VhcmNoXCIpLmVhc3lBdXRvY29tcGxldGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGxpc3RPZlRyZW5kcyxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgIGxpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25TaG93TGlzdEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaChzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2NwT3BlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICQoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInKS5hZGRDbGFzcygnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNhc2UgJ3RydWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICQoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInKS5yZW1vdmVDbGFzcygnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpLmFkZENsYXNzKCcuZWFzeS1hdXRvY29tcGxldGUtY29udGFpbmVyJywgJ2F1dG9jb21wbGV0ZS10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpLnJlbW92ZUNsYXNzKCcuZWFzeS1hdXRvY29tcGxldGUtY29udGFpbmVyJywgJ2F1dG9jb21wbGV0ZS10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkucmVtb3ZlQ2xhc3MoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInLCAnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RW50ZXJFdmVudDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0ZW1wbGF0ZToge1xuICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImN1c3RvbVwiXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIG1ldGhvZDogZnVuY3Rpb24odmFsdWUsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIHJldHVybiBcIjxpbWcgc3JjPSdcIiArIGl0ZW0uaWNvbiArIFwiJyAvPiB8IFwiICsgaXRlbS50eXBlICsgXCIgfCBcIiArIHZhbHVlO1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm8gZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgdWkuYWRkRWxlbWVudFRvUGFuZWxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgKFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAgICAgJyNwYW5lbENvbXBSaWdodFdyYXBwZXInLFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAgICAge30sXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICBcIkJ1dHRvbiBcIiArIGksXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAkKCc8YT48L2E+JyksXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnbWVudSBidG4gYnRuLXNlY29uZGFyeScsXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnY29sLWxnLTQnXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICk7XG4gICAgICAgICAgICAvLyAgICAgLy8gfVxuXG4gICAgICAgICAgICAvLyAgICAgLy8gdW5kZWZpbmVkIGJ5IGRlZmF1bHQgd2lsbCBwbGFjZSAnZGl2JyBlbGVtZW50XG5cbiAgICAgICAgICAgIC8vICAgICAvLyB1aS5hZGRFbGVtZW50VG8oJycpXG5cbiAgICAgICAgICAgIC8vIH0oKSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTaG91bGQgcmVhY2ggaGVyZS4uLicpO1xuICAgICAgICAgICAgLy8gbGV0IGRyb3Bkb3duID0gdWkuYWRkQ29udGFpbmVyVG9Db250YWluZXIoJyNwYW5lbENvbXBSaWdodFdyYXBwZXInLCAnZmF2b3JpdGVzJywgdW5kZWZpbmVkLCAnZHJvcGRvd24gc2hvdycpO1xuICAgICAgICAgICAgLy8gbGV0ICRhID0gdWkuYWRkQ29udGFpbmVyVG9Db250YWluZXIoZHJvcGRvd24uYXR0cignaWQnKSwgdW5kZWZpbmVkLCAkKCc8YT4nKSwgJ2J0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZScpO1xuICAgICAgICAgICAgLy8gdWkuYWRkVGV4dFRvKCRhLCAkYS5hdHRyKCdpZCcpKTtcblxuICAgICAgICAgICAgLy90YXJnZXQsIGRyb3Bkb3duTmFtZSwgZHJvcGRvd25JRCwgZGF0YUxpc3RcblxuXG4gICAgICAgICAgICBsZXQgcGFuZWxDb21wMSA9IG5ldyBQYW5lbENvbXBvbmVudCgnI3RvcFRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUb3AgMTAgVHdlZXRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtjb25zb2xlLmxvZygnaGknKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJuYW1lXCI6XCJkYWxlclwifSwge1wibmFtZVwiOlwibWljaGFlbFwifV0pO1xuICAgICAgICAgICAgbGV0IHBhbmVsQ29tcDIgPSBuZXcgUGFuZWxDb21wb25lbnQoJyN0b3BUd2VudHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAxMCBSZXR3ZWV0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe2NvbnNvbGUubG9nKCdoaScpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJsYXN0bmFtZVwiOlwiYXNyb3JvdlwifSwge1wibGFzdG5hbWVcIjpcImpvam9cIn1dKTtcbiAgICAgICAgICAgIGxldCBwYW5lbENvbXAzID0gbmV3IFBhbmVsQ29tcG9uZW50KCcjdG9wVGhpcnR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUb3AgMzAgUmV0d2VldHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXsgY29uc29sZS5sb2coJ2hpJykgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJqb3JnZVwiOlwicXVlcm9cIn0sIHtcInNhbmRyb1wiOlwiYm9sb1wifV0pO1xuXG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuYWRkKHBhbmVsQ29tcDEpO1xuICAgICAgICAgICAgcmlnaHRDb21wb25lbnRzLmFkZChwYW5lbENvbXAyKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5hZGQocGFuZWxDb21wMyk7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuc2V0TmFtZSgnU29jaWFsIE1lZGlhJyk7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuc2V0SWQoJ3NvY01lZGlhJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGFuZWxDb21wIG9iamVjdDpcIiwgcmlnaHRDb21wb25lbnRzKTtcbiAgICAgICAgICAgIHVpLmFwcGVuZERyb3BEb3duVG9QYW5lbCgnI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsIHJpZ2h0Q29tcG9uZW50cyk7XG5cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgcmVxdWVzdFwiLCBlcnIpO1xuICAgIH0pO1xuXG4gICAgLy8gUmVxdWVzdC5nZXRSZXF1ZXN0KFV0aWxzLmdldFRyZW5kc1BsYWNlcyhsYXQsIGxvbmcpKcOlXG4gICAgLy8gICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIlRyZW5kcyBEYXRhXCIpO1xuICAgIC8vICAgICB9KVxuXG4gICAgLy8gcG9zdCByZXF1ZXN0IHRlc3RpbmdcblxuXG59KTtcbiJdLCJuYW1lcyI6WyJtYXBMYXllciIsIk1RIiwibWFpbk1hcCIsIkwiLCJtYXAiLCJjb250cm9sIiwibGF5ZXJzIiwiaHlicmlkTGF5ZXIiLCJzYXRlbGxpdGVMYXllciIsImRhcmtMYXllciIsImxpZ2h0TGF5ZXIiLCJhZGRUbyIsIlN0b3JhZ2UiLCJrZXkiLCJ2YWx1ZSIsIlN0b3JhZ2VTeXN0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJfbG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzbGlkZVRvZ2dsZUNwIiwidGFyZ2V0SUQiLCJoZWlnaHRTZXR0ZXJJRCIsImNwRGVmYXVsdEhlaWdodCIsImNwTmF2SGVpZ2h0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm9mZnNldEhlaWdodCIsInRvU3RyaW5nIiwiY3BXcmFwcGVySGVpZ2h0Iiwic2xpZGluZ1RpbWUiLCJkZWZhdWx0VG9wIiwiJHF1ZXJ5U2VhcmNoRm9ybSIsIiQiLCIkdGFyZ2V0IiwiJGJvZHkiLCIkc2xpZGVTd2l0Y2hJY29uIiwic3RvcmFnZVN5c3RlbSIsIndpbmRvdyIsImNzcyIsImFuaW1hdGUiLCJoZWlnaHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaW52YWxpZGF0ZVNpemUiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyVG8iLCJ0eXBlIiwiZm4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRWxlbWVudCIsInJlbW92ZSIsImZhZGVPdXQiLCJ0aW1lciIsImNhbGxiYWNrIiwibWFrZVZpc2libGUiLCJvcGFjaXR5IiwidmlzaWJpbGl0eSIsImFwcGVuZERyb3BEb3duVG8iLCJkcm9wZG93bk5hbWUiLCJkcm9wZG93bklEIiwiYWN0aW9uc0xpc3QiLCIkdGFyZ2V0UmVmIiwiYXBwZW5kIiwiJGRyb3Bkb3duIiwiZmluZCIsIiRkcm9wZG93blJlZiIsIiRsaXN0RGl2IiwiYWN0aW9uIiwiaW5kZXgiLCJpZCIsIm5hbWUiLCJhcHBlbmREcm9wRG93blRvUGFuZWwiLCJjb21wb25lbnRzQ2xhc3MiLCJsb2ciLCJsaXN0Iiwib25TdWJtaXQiLCJzdWJtaXQiLCJnZXRJbnB1dFZhbHVlIiwidmFsIiwiZ2V0UmVxdWVzdCIsInVybCIsIlByb21pc2UiLCJyZXMiLCJyZWoiLCJnZXQiLCJkYXRhIiwic3RhdHVzIiwicG9zdFJlcXVlc3QiLCJpbmZvIiwicG9zdCIsImdldEdlb1RyZW5kcyIsImxhdExvbmdTdHJpbmciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImdldFR3aXREYXRhIiwiUGFuZWxDb21wb25lbnQiLCJhY3Rpb25IYW5kbGVyIiwiYXNjZW5kaW5nIiwic29ydGVkRGF0YSIsImRlc2NDb21wYXJhdG9yIiwiUiIsImNvbXBhcmF0b3IiLCJhIiwiYiIsImd0IiwicHJvcCIsInNvcnRCeSIsInNvcnQiLCJsaW1pdCIsImZvcm1hdHRlZCIsImdldFNvcnRlZERhdGFCeSIsInNsaWNlIiwiQ29tcG9uZW50cyIsInBhbmVsQ29tcG9uZW50IiwicHVzaCIsImkiLCJsZW5ndGgiLCJzcGxpY2UiLCJJTUFHRVMiLCJjcmVhdGVJY29uIiwiaWNvblVybCIsInNoYWRvd1VybCIsImljb25TaXplIiwic2hhZG93U2l6ZSIsImljb25BbmNob3IiLCJzaGFkb3dJY29uIiwicG9wdXBBbmNob3IiLCJ0d2l0dGVySWNvbiIsImljb24iLCJnZW5lcmF0ZVJlc3VsdHMiLCJjdXJyeSIsImdlbyIsInBpcGUiLCJkcmF3TWFya2VyIiwicG9pbnREYXRhIiwiTWFwRWxlbWVudHMiLCJTT0NfTUVESUFfSUNPTlMiLCJUV0lUVEVSIiwibWFya2VyIiwiTWFwIiwiZHJhd09iamVjdCIsImdlb2xvY2F0aW9uIiwiaWNvblR5cGUiLCJsb2FkIiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiY3BPcGVuIiwidHJhY2tlciIsImNwUmlnaHRMaXN0IiwicmlnaHRDb21wb25lbnRzIiwiZXZlbnQiLCJ1aSIsIkNvbnRyb2wiLCJHUGxhY2VBdXRvY29tcGxldGUiLCJsYXQiLCJnZW9tZXRyeSIsImxuZyIsImxhc3RMb2NhdGlvbiIsInNldFJhd0l0ZW0iLCJzZXRWaWV3IiwiZHVyYXRpb24iLCJvbiIsInR3ZWV0IiwiY29vcmRpbmF0ZXMiLCJwbGFjZSIsImJvdW5kaW5nX2JveCIsInVzZXIiLCJ0ZXh0IiwiY3JlYXRlZF9hdCIsIm1sc1RpbWUiLCJ0aW1lc3RhbXBfbXMiLCJnZXRJbmZvQmFzZWRPbkNob3Nlbk1vZGUiLCJtb2RlIiwicXVlcnkiLCJ0d2l0RGF0YSIsImVtaXQiLCJ0b3BpYyIsIlBhdGhzIiwidGhlbiIsImNhdGNoIiwiZXJyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZ2V0Q2VudGVyIiwicSIsImdlb2NvZGUiLCJyYWRpdXMiLCJpc05pbCIsImdldFJhd0l0ZW0iLCJ0ZXN0R2VvIiwibGlzdE9mVHJlbmRzIiwidHJlbmRzIiwiZ2VvRGF0YSIsImVhc3lBdXRvY29tcGxldGUiLCJwYW5lbENvbXAxIiwicGFuZWxDb21wMiIsInBhbmVsQ29tcDMiLCJhZGQiLCJzZXROYW1lIiwic2V0SWQiXSwibWFwcGluZ3MiOiI7OztBQUNBOzs7Ozs7OztBQVFBLElBQUlBLFdBQVdDLEdBQUdELFFBQUgsRUFBZjtJQUE4QkUsZ0JBQTlCOztBQUVBQSxVQUFVQyxFQUFFQyxHQUFGLENBQU0sWUFBTixFQUFvQjtVQUNsQkosUUFEa0I7VUFFbEIsQ0FBRSxTQUFGLEVBQWEsQ0FBQyxTQUFkLENBRmtCO1FBR3BCO0NBSEEsQ0FBVjs7QUFNQUcsRUFBRUUsT0FBRixDQUFVQyxNQUFWLENBQWlCO1NBQ1JOLFFBRFE7WUFFTEMsR0FBR00sV0FBSCxFQUZLO2VBR0ZOLEdBQUdPLGNBQUgsRUFIRTtVQUlQUCxHQUFHUSxTQUFILEVBSk87V0FLTlIsR0FBR1MsVUFBSDtDQUxYLEVBTUdDLEtBTkgsQ0FNU1QsT0FOVDs7QUFRQSxVQUFlQSxPQUFmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pCQTs7Ozs7O0lBTXNCVTtzQkFDSjs7Ozs7OzhCQUlOQyxLQUFLOzs7aUNBQ0ZBLEtBQUs7Ozs4QkFDUkEsS0FBS0MsT0FBTzs7O2lDQUNURCxLQUFLQyxPQUFPOzs7OztJQ1pOQzs7OzJCQUNMQyxZQUFaLEVBQW1DOzs7OztjQUUxQkMsYUFBTCxHQUFxQkQsWUFBckI7Ozs7OztnQ0FHSUgsS0FBSzttQkFDRixLQUFLSSxhQUFMLENBQW1CQyxPQUFuQixDQUEyQkwsR0FBM0IsQ0FBUDs7OzttQ0FHT0EsS0FBSzttQkFDTE0sS0FBS0MsS0FBTCxDQUFXLEtBQUtGLE9BQUwsQ0FBYUwsR0FBYixDQUFYLENBQVA7Ozs7Z0NBR0lBLEtBQUtDLE9BQU87aUJBQ1hHLGFBQUwsQ0FBbUJJLE9BQW5CLENBQTJCUixHQUEzQixFQUFnQ0MsS0FBaEM7Ozs7bUNBR09ELEtBQUtDLE9BQU87aUJBQ2RPLE9BQUwsQ0FBYVIsR0FBYixFQUFrQk0sS0FBS0csU0FBTCxDQUFlUixLQUFmLENBQWxCOzs7O0VBbkJtQ0Y7O0FDRjNDO0FBQ0EsQUFFQSxBQUFPLFNBQVNXLGFBQVQsQ0FBdUJDLFFBQXZCLEVBQWlDcEIsR0FBakMsRUFBZ0g7UUFBMUVxQixjQUEwRSx1RUFBekQscUJBQXlEO1FBQWxDQyxlQUFrQyx1RUFBaEIsS0FBZ0I7O1FBQzdHQyxjQUFjQyxTQUFTQyxjQUFULENBQXdCSixjQUF4QixFQUF3Q0ssWUFBeEMsQ0FBcURDLFFBQXJELEVBQXBCO1FBQ01DLGtCQUFrQkosU0FBU0MsY0FBVCxDQUF3QkwsUUFBeEIsRUFBa0NNLFlBQWxDLENBQStDQyxRQUEvQyxFQUF4QjtRQUNNRSxjQUFjLEdBQXBCO1FBQ01DLGFBQWEsT0FBbkI7UUFDTUMsbUJBQW1CQyxFQUFFLGtCQUFGLENBQXpCO1FBQ01DLFVBQVVELFFBQU1aLFFBQU4sQ0FBaEI7UUFDTWMsUUFBUUYsRUFBRSxNQUFGLENBQWQ7UUFDTUcsbUJBQW1CSCxFQUFFLGtCQUFGLENBQXpCOztRQUVNSSxnQkFBZ0IsSUFBSXpCLGFBQUosQ0FBa0IwQixPQUFPekIsWUFBekIsQ0FBdEI7OztRQUdHZ0Isb0JBQW9CTCxXQUF2QixFQUFvQztjQUMxQmUsR0FBTixDQUFVLEVBQUMsYUFBYSxNQUFkLEVBQVY7Z0JBQ1FDLE9BQVIsQ0FBZ0IsRUFBQ0MsUUFBUWxCLGVBQVQsRUFBaEIsRUFBMkNPLFdBQTNDO3lCQUNpQlUsT0FBakIsQ0FBeUI7aUJBQ2hCO1NBRFQsRUFFR1YsV0FGSDt5QkFHaUJZLFFBQWpCLENBQTBCLGVBQTFCLEVBQTJDQyxXQUEzQyxDQUF1RCxhQUF2RDtzQkFDY3pCLE9BQWQsQ0FBc0IsUUFBdEIsRUFBZ0MsSUFBaEM7S0FQSixNQVNLO2NBQ0txQixHQUFOLENBQVUsRUFBQyxhQUFhLFFBQWQsRUFBVjtnQkFDUUMsT0FBUixDQUFnQixFQUFDQyxRQUFRakIsV0FBVCxFQUFoQixFQUF1Q00sV0FBdkM7eUJBQ2lCVSxPQUFqQixDQUF5QjtpQkFDaEI7U0FEVCxFQUVHVixXQUZIO1lBR0ljLGNBQUo7eUJBQ2lCRixRQUFqQixDQUEwQixhQUExQixFQUF5Q0MsV0FBekMsQ0FBcUQsZUFBckQ7c0JBQ2N6QixPQUFkLENBQXNCLFFBQXRCLEVBQWdDLEtBQWhDOzs7Ozs7OztBQVFSLEFBQU87Ozs7Ozs7QUFVUCxBQUFPOztBQWVQLEFBQU87O0FBcUJQLEFBQU87O0FBU1AsQUFBTzs7QUFRUCxBQUFPLFNBQVN3QixRQUFULENBQWtCRyxNQUFsQixFQUEwQkMsU0FBMUIsRUFBcUM7TUFDdENELE1BQUYsRUFBVUgsUUFBVixDQUFtQkksU0FBbkI7OztBQUdKLEFBQU87O0FBVVAsQUFBTyxTQUFTSCxXQUFULENBQXFCRSxNQUFyQixFQUE2QkMsU0FBN0IsRUFBd0M7TUFDekNELE1BQUYsRUFBVUYsV0FBVixDQUFzQkcsU0FBdEI7Ozs7Ozs7QUFPSixBQUFPLFNBQVNDLGtCQUFULENBQTRCRixNQUE1QixFQUFvQ0csSUFBcEMsRUFBMENDLEVBQTFDLEVBQThDO2FBQ3hDdkIsY0FBVCxDQUF3Qm1CLE1BQXhCLEVBQWdDSyxnQkFBaEMsQ0FBaURGLElBQWpELEVBQXVEQyxFQUF2RDs7O0FBR0osQUFBTyxTQUFTRSxhQUFULENBQXVCTixNQUF2QixFQUErQjtNQUNoQ0EsTUFBRixFQUFVTyxNQUFWOzs7QUFHSixBQUFPOztBQUlQLEFBQU8sU0FBU0MsT0FBVCxDQUFpQlIsTUFBakIsRUFBeUJTLEtBQXpCLEVBQWdDQyxRQUFoQyxFQUEwQztNQUMzQ1YsTUFBRixFQUFVUSxPQUFWLENBQWtCQyxLQUFsQixFQUF5QixZQUFXOzs7O0tBQXBDOzs7QUFPSixBQUFPLFNBQVNFLFdBQVQsQ0FBcUJYLE1BQXJCLEVBQTZCUyxLQUE3QixFQUFvQztNQUNyQ1QsTUFBRixFQUFVTixHQUFWLENBQWMsRUFBQ2tCLFNBQVMsR0FBVixFQUFlQyxZQUFZLFNBQTNCLEVBQWQsRUFBcURsQixPQUFyRCxDQUE2RCxFQUFDaUIsU0FBUyxDQUFWLEVBQTdELEVBQTJFSCxLQUEzRTs7O0FBR0osQUFBTyxTQUFTSyxnQkFBVCxDQUEwQmQsTUFBMUIsRUFBa0NlLFlBQWxDLEVBQWdEQyxVQUFoRCxFQUE0REMsV0FBNUQsRUFBeUU7O1FBRXhFQyxhQUFhOUIsRUFBRVksTUFBRixFQUFVbUIsTUFBViwrQkFBNkNILFVBQTdDLGFBQWpCO1FBQ0lJLFlBQVloQyxFQUFFWSxNQUFGLEVBQVVxQixJQUFWLE9BQW1CTCxVQUFuQixDQUFoQjtjQUNVRyxNQUFWLENBQWlCLGdHQUE0RkosWUFBNUYsY0FBakI7UUFDSU8sZUFBZUYsVUFBVUQsTUFBVix1Q0FBbkI7UUFDSUksV0FBV0QsYUFBYUQsSUFBYixDQUFrQixnQkFBbEIsQ0FBZjs7Z0JBRVlqRSxHQUFaLENBQWdCLFVBQUNvRSxNQUFELEVBQVNDLEtBQVQsRUFBbUI7aUJBQ3RCTixNQUFULHFEQUVvQ0ssT0FBT0UsRUFGM0MsdUJBRTRERixPQUFPRyxJQUZuRTtLQURKO2NBTVVSLE1BQVYsQ0FBaUJJLFFBQWpCO01BQ0V2QixNQUFGLEVBQVVtQixNQUFWLENBQWlCQyxTQUFqQjs7O0FBR0osQUFBTzs7QUFJUCxBQUFPLFNBQVNRLHFCQUFULENBQStCNUIsTUFBL0IsRUFBdUM2QixlQUF2QyxFQUF3RDtZQUNuREMsR0FBUixDQUFZLHVCQUFaLEVBQXFDRCxnQkFBZ0JFLElBQXJEO3FCQUNpQi9CLE1BQWpCLEVBQXlCNkIsZ0JBQWdCRixJQUF6QyxFQUErQ0UsZ0JBQWdCSCxFQUEvRCxFQUFtRUcsZ0JBQWdCRSxJQUFuRjs7O0FBR0osQUFBTyxTQUFTQyxRQUFULENBQWtCaEMsTUFBbEIsRUFBMEJVLFFBQTFCLEVBQW9DO01BQ3JDVixNQUFGLEVBQVVpQyxNQUFWLENBQWlCdkIsUUFBakI7OztBQUdKLEFBQU8sU0FBU3dCLGFBQVQsQ0FBdUJsQyxNQUF2QixFQUErQjtXQUMzQlosRUFBRVksTUFBRixFQUFVbUMsR0FBVixFQUFQOzs7QUNyTEcsU0FBU0MsVUFBVCxDQUFvQkMsR0FBcEIsRUFBeUI7V0FDckIsSUFBSUMsT0FBSixDQUFZLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO1VBQzNCQyxHQUFGLENBQU1KLEdBQU4sRUFBVyxVQUFDSyxJQUFELEVBQU9DLE1BQVAsRUFBa0I7O2dCQUV0QkEsV0FBVyxTQUFkLEVBQXlCO3dCQUNiYixHQUFSLENBQVksU0FBWjtvQkFDSVksSUFBSjthQUZKLE1BR087b0JBQ0Msd0JBQUo7O1NBTlI7S0FERyxDQUFQOzs7QUFhSixBQUFPLFNBQVNFLFdBQVQsQ0FBcUJQLEdBQXJCLEVBQTBCUSxJQUExQixFQUFnQztXQUM1QixJQUFJUCxPQUFKLENBQVksVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7VUFDM0JNLElBQUYsQ0FBT1QsR0FBUCxFQUFZUSxJQUFaLEVBQWtCLFVBQUNILElBQUQsRUFBT0MsTUFBUCxFQUFrQjtnQkFDN0JBLFdBQVcsU0FBZCxFQUF5QjtvQkFDakJELElBQUo7YUFESixNQUVPO29CQUNDLDRCQUFKOztTQUpSO0tBREcsQ0FBUDs7O0FDVkcsU0FBU0ssWUFBVCxDQUFzQkMsYUFBdEIsRUFBcUM7V0FDOUJ2RCxPQUFPd0QsUUFBUCxDQUFnQkMsTUFBMUIsK0JBQTBERixhQUExRDs7O0FBR0osQUFBTyxTQUFTRyxXQUFULEdBQXVCO1dBQ2hCMUQsT0FBT3dELFFBQVAsQ0FBZ0JDLE1BQTFCOzs7QUNYSjs7Ozs7O0lBTXNCRTs0QkFDTjFCLEVBQVosRUFBZ0JDLElBQWhCLEVBQXNCMEIsYUFBdEIsRUFBOEM7WUFBVFgsSUFBUyx1RUFBSixFQUFJOzs7YUFDckNoQixFQUFMLEdBQVVBLEVBQVY7YUFDS0MsSUFBTCxHQUFZQSxJQUFaO2FBQ0swQixhQUFMLEdBQXFCQSxhQUFyQjthQUNLWCxJQUFMLEdBQVlBLElBQVo7Ozs7O3VDQUdXN0UsS0FBcUI7Z0JBQWhCeUYsU0FBZ0IsdUVBQU4sSUFBTTs7Z0JBQzVCQyxtQkFBSjtnQkFDTUMsaUJBQWlCQyxFQUFFQyxVQUFGLENBQWEsVUFBQ0MsQ0FBRCxFQUFJQyxDQUFKO3VCQUFVSCxFQUFFSSxFQUFGLENBQUtKLEVBQUVLLElBQUYsQ0FBT2pHLEdBQVAsRUFBWThGLENBQVosQ0FBTCxFQUFxQkYsRUFBRUssSUFBRixDQUFPakcsR0FBUCxFQUFZK0YsQ0FBWixDQUFyQixDQUFWO2FBQWIsQ0FBdkI7O3lCQUVhTixZQUFZRyxFQUFFTSxNQUFGLENBQVNOLEVBQUVLLElBQUYsQ0FBT2pHLEdBQVAsQ0FBVCxFQUFzQixLQUFLNkUsSUFBM0IsQ0FBWixHQUErQ2UsRUFBRU8sSUFBRixDQUFPUixjQUFQLEVBQXVCLEtBQUtkLElBQTVCLENBQTVEO21CQUNPQSxJQUFQOzs7O2dDQUdJdUIsT0FBT3BHLEtBQXFCO2dCQUFoQnlGLFNBQWdCLHVFQUFOLElBQU07O2dCQUM1QlksWUFBWUMsZ0JBQWdCdEcsR0FBaEIsRUFBcUJ5RixTQUFyQixDQUFoQjttQkFDT0csRUFBRVcsS0FBRixDQUFRLENBQVIsRUFBV0gsUUFBUSxDQUFuQixFQUFzQkMsU0FBdEIsQ0FBUDs7OzsyQ0FHZTttQkFDUixLQUFLYixhQUFaOzs7O2tDQUdNO21CQUNDLEtBQUtYLElBQVo7Ozs7Z0NBR0k7bUJBQ0csS0FBS2hCLEVBQVo7Ozs7Z0NBR0lDLE1BQU07aUJBQ0xBLElBQUwsR0FBWUEsSUFBWjs7Ozt5Q0FHYTBCLGVBQWU7aUJBQ3ZCQSxhQUFMLEdBQXFCQSxhQUFyQjs7Ozt5Q0FHYWpELElBQUk7aUJBQ1ppRCxhQUFMLEdBQXFCakQsRUFBckI7Ozs7Z0NBR0lzQyxNQUFNO2lCQUNMQSxJQUFMLEdBQVlBLElBQVo7Ozs7Z0NBR0lmLE1BQU07aUJBQ0xBLElBQUwsR0FBWUEsSUFBWjs7OzttQ0FHTzttQkFDQTtzQkFDRyxLQUFLRCxFQURSO3dCQUVLLEtBQUtDLElBRlY7aUNBR2MsS0FBSzBCLGFBSG5CO3dCQUlLLEtBQUtYO2FBSmpCOzs7Ozs7SUMzRGEyQjswQkFDb0I7WUFBekIzQyxFQUF5Qix1RUFBdEIsRUFBc0I7WUFBbEJDLElBQWtCLHVFQUFiLEVBQWE7WUFBVEksSUFBUyx1RUFBSixFQUFJOzs7YUFDNUJMLEVBQUwsR0FBVUEsRUFBVjthQUNLQyxJQUFMLEdBQVlBLElBQVo7YUFDS0ksSUFBTCxHQUFZQSxJQUFaOzs7Ozs0QkFHQXVDLGdCQUFnQjtpQkFDWHZDLElBQUwsQ0FBVXdDLElBQVYsQ0FBZUQsY0FBZjs7OzsrQkFHR0EsZ0JBQWdCO2lCQUNmLElBQUlFLElBQUksQ0FBWixFQUFlQSxJQUFJLEtBQUt6QyxJQUFMLENBQVUwQyxNQUE3QixFQUFxQ0QsR0FBckMsRUFBMEM7b0JBQ25DLEtBQUt6QyxJQUFMLENBQVV5QyxDQUFWLEVBQWE5QyxFQUFiLEtBQW9CNEMsZUFBZTVDLEVBQXRDLEVBQTBDO3lCQUNqQ0ssSUFBTCxDQUFVMkMsTUFBVixDQUFpQkYsQ0FBakIsRUFBb0IsQ0FBcEI7Ozs7OztpQ0FLTjttQkFDSyxJQUFQOzs7O2dDQUdJO21CQUNHLEtBQUs5QyxFQUFaOzs7O2tDQUdNO21CQUNDLEtBQUtDLElBQVo7Ozs7a0NBR007bUJBQ0MsS0FBS0ksSUFBWjs7OzsrQkFHQUwsSUFBSUMsTUFBTUksTUFBTTtpQkFDWEwsRUFBTCxHQUFVQSxFQUFWO2lCQUNLQyxJQUFMLEdBQVlBLElBQVo7aUJBQ0tJLElBQUwsR0FBWUEsSUFBWjs7OztnQ0FHSUosTUFBTTtpQkFDTEEsSUFBTCxHQUFZQSxJQUFaOzs7OzhCQUdFRCxJQUFJO2lCQUNEQSxFQUFMLEdBQVVBLEVBQVY7Ozs7Z0NBR0lLLE1BQU07aUJBQ0xBLElBQUwsR0FBWUEsSUFBWjs7OzttQ0FHTzttQkFDQTtvQkFDQyxLQUFLTCxFQUROO3NCQUVHLEtBQUtDLElBRlI7c0JBR0csS0FBS0k7YUFIZjs7Ozs7O0FDdkRELElBQU00QyxTQUFTOztxQkFFRDtpQkFDSiwrQkFESTtjQUVQLEVBRk87bUJBR0Y7O0NBTFo7O0FDRUEsU0FBU0MsVUFBVCxDQUFvQkMsT0FBcEIsRUFNMkM7UUFMdkJDLFNBS3VCLHVFQUxiLEVBS2E7UUFKdkJDLFFBSXVCLHVFQUpkLENBQUMsRUFBRCxFQUFLLEVBQUwsQ0FJYztRQUh2QkMsVUFHdUIsdUVBSFosQ0FBQyxFQUFELEVBQUssRUFBTCxDQUdZO1FBRnZCQyxVQUV1Qix1RUFGWixDQUFDLEVBQUQsRUFBSyxFQUFMLENBRVk7UUFEdkJDLFVBQ3VCLHVFQURYLENBQUMsQ0FBRCxFQUFJLEVBQUosQ0FDVztRQUF2QkMsV0FBdUIsdUVBQVgsQ0FBQyxDQUFDLENBQUYsRUFBSyxDQUFDLEVBQU4sQ0FBVzs7UUFDMUNDLGNBQWNqSSxFQUFFa0ksSUFBRixDQUFPO2lCQUNaUixPQURZOzs7a0JBSVBFLFFBSk87b0JBS1BDLFVBTE87b0JBTVBDLFVBTk87c0JBT1BDLFVBUE87cUJBUVBDLFdBUk87S0FBUCxDQUFsQjs7WUFXUXJELEdBQVIsQ0FBWSxlQUFaLEVBQTZCc0QsV0FBN0I7O1dBRU9BLFdBQVA7OztBQ2xCSjs7Ozs7Ozs7QUFRQSxBQUFPLElBQU1FLGtCQUFrQjdCLEVBQUU4QixLQUFGLENBQVEsVUFBQzdDLElBQUQsRUFBTzhDLEdBQVAsRUFBZTtNQUNoREMsSUFBRixDQUNJaEMsRUFBRXJHLEdBQUYsQ0FBTXNJLFVBQU4sQ0FESixFQUVFaEQsSUFGRjtDQUQyQixDQUF4Qjs7QUFNUCxBQUFPLElBQU1nRCxhQUFhakMsRUFBRThCLEtBQUYsQ0FBUSxVQUFDSSxTQUFELEVBQWU7UUFDdkNQLGNBQWNRLFVBQUEsQ0FBdUJqQixPQUFPa0IsZUFBUCxDQUF1QkMsT0FBOUMsQ0FBcEI7O01BRUVDLE1BQUYsQ0FBUyxDQUFDLElBQUQsRUFBTyxDQUFDLElBQVIsQ0FBVCxFQUF3QixFQUFDVixNQUFNRCxXQUFQLEVBQXhCLEVBQTZDekgsS0FBN0MsQ0FBbURxSSxHQUFuRDtDQUhzQixDQUFuQjs7QUFNUCxBQUFPLElBQU1DLGFBQWF4QyxFQUFFOEIsS0FBRixDQUFRLFVBQUM3QyxJQUFELEVBQU93RCxXQUFQLEVBQW9CQyxRQUFwQixFQUFpQztRQUMzRGQsYUFBSjtZQUNPYyxRQUFQO2FBQ1MsU0FBTDtvQkFDWXJFLEdBQVIsQ0FBWSxrQkFBWixFQUFnQ1ksSUFBaEMsRUFBc0N3RCxXQUF0QyxFQUFtREMsUUFBbkQ7bUJBQ09QLFVBQUEsQ0FBdUJqQixPQUFPa0IsZUFBUCxDQUF1QkMsT0FBOUMsQ0FBUDtjQUNFQyxNQUFGLENBQVMsQ0FBQ0csWUFBWSxDQUFaLENBQUQsRUFBaUJBLFlBQVksQ0FBWixDQUFqQixDQUFULEVBQTJDLEVBQUNiLE1BQU1BLElBQVAsRUFBM0MsRUFBeUQxSCxLQUF6RCxDQUErRHFJLEdBQS9EOzthQUVDLE1BQUw7b0JBQ1lsRSxHQUFSLENBQVksc0JBQVosRUFBb0NZLElBQXBDLEVBQTBDd0QsV0FBMUMsRUFBdURDLFFBQXZEOzs7b0JBR1FyRSxHQUFSLENBQVksNEJBQVo7OztZQUdBQSxHQUFSLENBQVksY0FBWjtDQWZzQixDQUFuQjs7QUNiUDtBQUNBMUMsRUFBRUssTUFBRixFQUFVMkcsSUFBVixDQUFlLFlBQVc7UUFDaEI1RyxnQkFBZ0IsSUFBSXpCLGFBQUosQ0FBa0IwQixPQUFPekIsWUFBekIsQ0FBdEI7O1FBRUlxSSxTQUFTQyxHQUFHQyxPQUFILENBQVcsd0JBQVgsQ0FBYjs7UUFFSUMsZUFBSjtRQUNJQyxnQkFESjtRQUVJQyxjQUFhLEVBRmpCOztRQUlJQyxrQkFBa0IsSUFBSXRDLFVBQUosRUFBdEI7OztNQUdFLFlBQU07WUFDRCxDQUFDN0UsY0FBY3RCLE9BQWQsQ0FBc0IsWUFBdEIsQ0FBSixFQUF5QzttQkFDckMsQ0FBVyxhQUFYLEVBQTBCLElBQTFCLEVBQWdDLFlBQU07NkJBQ2xDLENBQWlCLGFBQWpCOzJCQUNBLENBQWUsY0FBZixFQUErQixHQUEvQjthQUZKO1NBREosTUFLTzttQkFDSCxDQUFXLGFBQVgsRUFBMEIsR0FBMUIsRUFBK0IsWUFBTTs2QkFDakMsQ0FBaUIsYUFBakI7MkJBQ0EsQ0FBZSxjQUFmLEVBQStCLEdBQS9CO2FBRko7O0tBUFI7O2tCQWNjRyxPQUFkLENBQXNCLFlBQXRCLEVBQW9DLElBQXBDOzthQUVTbUIsY0FBY3RCLE9BQWQsQ0FBc0IsUUFBdEIsQ0FBVDtZQUNRNEQsR0FBUixDQUFZLFdBQVosRUFBeUIwRSxNQUF6QjtRQUNHQSxVQUFVLE9BQWIsRUFBc0I7Z0JBQ1YxRSxHQUFSLENBQVksc0JBQVosRUFBb0MwRSxNQUFwQztxQkFDQSxDQUFpQixxQkFBakIsRUFBd0NSLEdBQXhDOzs7Ozs7Ozs7c0JBVUosQ0FBc0IsaUJBQXRCLEVBQXlDLE9BQXpDLEVBQWtELFVBQUNZLEtBQUQ7ZUFBV0MsYUFBQSxDQUFpQixxQkFBakIsRUFBd0NiLEdBQXhDLENBQVg7S0FBbEQ7OztRQUdJN0ksRUFBRTJKLE9BQUYsQ0FBVUMsa0JBQWQsQ0FBaUM7a0JBQ25CLFVBRG1CO2tCQUVuQixrQkFBUzlELFFBQVQsRUFBbUI7b0JBQ2pCbkIsR0FBUixDQUFZLGlCQUFaLEVBQStCbUIsUUFBL0I7Z0JBQ00rRCxNQUFNL0QsU0FBU2dFLFFBQVQsQ0FBa0JoRSxRQUFsQixDQUEyQitELEdBQTNCLEVBQVo7Z0JBQ01FLE1BQU1qRSxTQUFTZ0UsUUFBVCxDQUFrQmhFLFFBQWxCLENBQTJCaUUsR0FBM0IsRUFBWjs7O2dCQUdNQyxlQUFlLENBQUlELEdBQUosVUFBWUYsR0FBWixXQUFvQkUsTUFBSSxDQUF4QixZQUE4QkYsTUFBSSxDQUFsQyxFQUFyQjs7MEJBRWNJLFVBQWQsQ0FBeUIsY0FBekIsRUFBeUNELFlBQXpDO2dCQUNJRSxPQUFKLENBQVksQ0FBQ0wsR0FBRCxFQUFNRSxHQUFOLENBQVosRUFBd0IsQ0FBeEIsRUFBMkIsRUFBQ3ZILFNBQVMsSUFBVixFQUFnQjJILFVBQVUsR0FBMUIsRUFBM0I7O0tBWFIsRUFhRzNKLEtBYkgsQ0FhU3FJLEdBYlQ7O1dBZ0JPdUIsRUFBUCxDQUFVLE9BQVYsRUFBbUIsVUFBQ0MsS0FBRCxFQUFXOztZQUVwQkMsY0FBY0QsTUFBTUUsS0FBTixDQUFZQyxZQUFaLENBQXlCRixXQUF6QixDQUFxQyxDQUFyQyxFQUF3QyxDQUF4QyxDQUFwQjtZQUNNRyxPQUFPSixNQUFNSSxJQUFuQjtZQUNNQyxPQUFPTCxNQUFNSyxJQUFuQjtZQUNNbkcsS0FBSzhGLE1BQU05RixFQUFqQjtZQUNNb0csYUFBYU4sTUFBTU0sVUFBekI7WUFDTUMsVUFBVVAsTUFBTVEsWUFBdEI7O1lBRU10RixPQUFPO2tCQUNIa0YsSUFERztrQkFFSEMsSUFGRzt3QkFHR0MsVUFISDtnQkFJTHBHLEVBSks7cUJBS0FxRztTQUxiOztrQkFRQSxDQUFvQnJGLElBQXBCLEVBQTBCK0UsV0FBMUIsRUFBdUMsU0FBdkM7O2dCQUVRM0YsR0FBUixDQUFZLFNBQVosRUFBdUIwRixLQUF2QixFQUE4QkMsV0FBOUI7O0tBbkJKOzthQXdCU1Esd0JBQVQsQ0FBa0NDLElBQWxDLEVBQXdDQyxLQUF4QyxFQUErQ2hCLFlBQS9DLEVBQTZEaUIsUUFBN0QsRUFBdUU7Z0JBQzVERixJQUFQO2lCQUNTLFdBQUw7dUJBQ1dHLElBQVAsQ0FBWSxPQUFaLEVBQXFCLEVBQUNDLE9BQU9ILEtBQVIsRUFBZWxGLFVBQVVrRSxZQUF6QixFQUFyQjs7aUJBRUMsZ0JBQUw7MkJBQ0ksQ0FBb0JvQixXQUFBLEVBQXBCLEVBQXlDSCxRQUF6QyxFQUNDSSxJQURELENBQ00sVUFBQzlGLElBQUQsRUFBVTs0QkFDSlosR0FBUixDQUFZLHdCQUFaLEVBQXNDWSxJQUF0QztpQkFGSixFQUlDK0YsS0FKRCxDQUlPLFVBQUNDLEdBQUQsRUFBUzs0QkFDSjVHLEdBQVIsQ0FBWSxvQkFBWixFQUFrQzRHLEdBQWxDO2lCQUxKOzs7d0JBU1E1RyxHQUFSLENBQVksNEJBQVo7O1NBRVA7OztZQUdMLENBQVksa0JBQVosRUFBZ0MsVUFBUzZHLENBQVQsRUFBWTtVQUN0Q0MsY0FBRjtZQUNNVCxRQUFRdEIsYUFBQSxDQUFpQixjQUFqQixDQUFkO1lBQ01HLE1BQU1oQixJQUFJNkMsU0FBSixHQUFnQjdCLEdBQTVCO1lBQ01FLE1BQU1sQixJQUFJNkMsU0FBSixHQUFnQjNCLEdBQTVCO1lBQ01rQixXQUFXLEVBQUNVLEdBQUdYLEtBQUosRUFBV1ksU0FBUyxDQUFDL0IsR0FBRCxFQUFNRSxHQUFOLENBQXBCLEVBQWdDOEIsUUFBUSxNQUF4QyxFQUFqQjs7WUFFSTdCLGVBQWUsQ0FBSUQsR0FBSixVQUFZRixHQUFaLFdBQW9CRSxNQUFJLENBQXhCLFlBQThCRixNQUFJLENBQWxDLEVBQW5COztZQUVHdkQsRUFBRXdGLEtBQUYsQ0FBUXpKLGNBQWN0QixPQUFkLENBQXNCLGNBQXRCLENBQVIsQ0FBSCxFQUFtRDtvQkFDdkM0RCxHQUFSLENBQVkseUJBQVosRUFBdUNzRyxRQUF2Qzs7O3FDQUd5QixXQUF6QixFQUFzQ0QsS0FBdEMsRUFBNkNoQixZQUE3QyxFQUEyRGlCLFFBQTNEOzBCQUNjaEIsVUFBZCxDQUF5QixjQUF6QixFQUF5Q0QsWUFBekM7U0FMSixNQU9POzJCQUNZM0gsY0FBYzBKLFVBQWQsQ0FBeUIsY0FBekIsQ0FBZjtvQkFDUXBILEdBQVIsQ0FBWSxRQUFaLEVBQXNCcUYsWUFBdEI7Ozs7Ozs7Ozs7Ozs7OztxQ0FtQnlCLGdCQUF6QixFQUEyQ2dCLEtBQTNDLEVBQWtEaEIsWUFBbEQsRUFBZ0VpQixRQUFoRTs7Ozs7Ozs7OztLQXJDUjs7Ozs7O1FBcURJZSxVQUFVLG9CQUFkLENBOUpzQjs7WUFnS2RySCxHQUFSLENBQVl5RyxZQUFBLENBQW1CWSxPQUFuQixDQUFaO2NBQ0EsQ0FBbUJaLFlBQUEsQ0FBbUJZLE9BQW5CLENBQW5CLEVBQ0NYLElBREQsQ0FDTSxVQUFDOUYsSUFBRCxFQUFVO1lBQ1RBLEtBQUtBLElBQVIsRUFBYztnQkFDTjBHLGVBQWUxRyxLQUFLQSxJQUFMLENBQVUyRyxNQUE3QjtnQkFDSUMsVUFBVTVHLEtBQUs4QyxHQUFuQjs7Y0FFRSxjQUFGLEVBQWtCK0QsZ0JBQWxCLENBQW1DO3NCQUN6QkgsWUFEeUI7MEJBRXJCLE1BRnFCO3NCQUd6QjsyQkFDSztpQ0FDTTtxQkFGWDtxQ0FJZSwyQkFBVzs7Ozs7Ozs7Ozs7Z0NBV2pCNUosY0FBY3RCLE9BQWQsQ0FBc0IsUUFBdEIsQ0FBUDtpQ0FDUyxPQUFMO3dDQUNJLENBQVksOEJBQVosRUFBNEMsa0JBQTVDOztpQ0FFQyxNQUFMOzJDQUNJLENBQWUsOEJBQWYsRUFBK0Msa0JBQS9DOzs7MkNBR0EsQ0FBZSw4QkFBZixFQUErQyxrQkFBL0M7O3FCQXZCVjtxQ0EyQmUsMkJBQVc7Ozs7Ozs7O2FBOUJwQztTQUpKLE1BOENPO29CQUNLNEQsR0FBUixDQUFZLFNBQVosRUFBdUJZLElBQXZCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUE4Qkk4RyxhQUFhLElBQUlwRyxjQUFKLENBQW1CLFNBQW5CLEVBQ2tCLGVBRGxCLEVBRWtCLFlBQVU7b0JBQVN0QixHQUFSLENBQVksSUFBWjtTQUY3QixFQUdrQixDQUFDLEVBQUMsUUFBTyxPQUFSLEVBQUQsRUFBbUIsRUFBQyxRQUFPLFNBQVIsRUFBbkIsQ0FIbEIsQ0FBakI7WUFJSTJILGFBQWEsSUFBSXJHLGNBQUosQ0FBbUIsWUFBbkIsRUFDbUIsaUJBRG5CLEVBRW1CLFlBQVU7b0JBQVN0QixHQUFSLENBQVksSUFBWjtTQUY5QixFQUdtQixDQUFDLEVBQUMsWUFBVyxTQUFaLEVBQUQsRUFBeUIsRUFBQyxZQUFXLE1BQVosRUFBekIsQ0FIbkIsQ0FBakI7WUFJSTRILGFBQWEsSUFBSXRHLGNBQUosQ0FBbUIsWUFBbkIsRUFDTyxpQkFEUCxFQUVPLFlBQVU7b0JBQVV0QixHQUFSLENBQVksSUFBWjtTQUZuQixFQUdPLENBQUMsRUFBQyxTQUFRLE9BQVQsRUFBRCxFQUFvQixFQUFDLFVBQVMsTUFBVixFQUFwQixDQUhQLENBQWpCOzt3QkFLZ0I2SCxHQUFoQixDQUFvQkgsVUFBcEI7d0JBQ2dCRyxHQUFoQixDQUFvQkYsVUFBcEI7d0JBQ2dCRSxHQUFoQixDQUFvQkQsVUFBcEI7d0JBQ2dCRSxPQUFoQixDQUF3QixjQUF4Qjt3QkFDZ0JDLEtBQWhCLENBQXNCLFVBQXRCOztnQkFFUS9ILEdBQVIsQ0FBWSxtQkFBWixFQUFpQzZFLGVBQWpDOzZCQUNBLENBQXlCLHdCQUF6QixFQUFtREEsZUFBbkQ7S0FuR1IsRUFzR0M4QixLQXRHRCxDQXNHTyxVQUFDQyxHQUFELEVBQVM7Z0JBQ0o1RyxHQUFSLENBQVksZUFBWixFQUE2QjRHLEdBQTdCO0tBdkdKOzs7Ozs7Ozs7Q0FqS0o7OyJ9
