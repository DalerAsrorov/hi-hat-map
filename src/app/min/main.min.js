(function () {
'use strict';

// Initializing the map
// let mainMap = L.map('mapWrapper').setView([51.505, -0.09], 13);

// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     maxZoom: 19,
//     attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
// }).addTo(mainMap);

var mapLayer = MQ.mapLayer();
var mainMap = void 0;

mainMap = L.map('mapWrapper', {
  layers: mapLayer,
  center: [40.731701, -73.993411],
  zoom: 12
});

L.control.layers({
  'Map': mapLayer,
  'Hybrid': MQ.hybridLayer(),
  'Satellite': MQ.satelliteLayer(),
  'Dark': MQ.darkLayer(),
  'Light': MQ.lightLayer()
}).addTo(mainMap);

var Map = mainMap;

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();









var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};











var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};





var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

/**
 *
 * Storage Base class
 *
 */

var Storage = function () {
   function Storage() {
      classCallCheck(this, Storage);
   }

   createClass(Storage, [{
      key: "getItem",
      value: function getItem(key) {}
   }, {
      key: "getRawItem",
      value: function getRawItem(key) {}
   }, {
      key: "setItem",
      value: function setItem(key, value) {}
   }, {
      key: "setRawItem",
      value: function setRawItem(key, value) {}
   }]);
   return Storage;
}();

var StorageSystem = function (_Storage) {
    inherits(StorageSystem, _Storage);

    function StorageSystem(localStorage) {
        classCallCheck(this, StorageSystem);

        var _this = possibleConstructorReturn(this, (StorageSystem.__proto__ || Object.getPrototypeOf(StorageSystem)).call(this));

        _this._localStorage = localStorage;
        return _this;
    }

    createClass(StorageSystem, [{
        key: 'getItem',
        value: function getItem(key) {
            return this._localStorage.getItem(key);
        }
    }, {
        key: 'getRawItem',
        value: function getRawItem(key) {
            return JSON.parse(this.getItem(key));
        }
    }, {
        key: 'setItem',
        value: function setItem(key, value) {
            this._localStorage.setItem(key, value);
        }
    }, {
        key: 'setRawItem',
        value: function setRawItem(key, value) {
            this.setItem(key, JSON.stringify(value));
        }
    }]);
    return StorageSystem;
}(Storage);

// UI Utils set
function slideToggleCp(targetID, map) {
    var heightSetterID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'arrowPointerWrapper';
    var cpDefaultHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "35%";

    var cpNavHeight = document.getElementById(heightSetterID).offsetHeight.toString();
    var cpWrapperHeight = document.getElementById(targetID).offsetHeight.toString();
    var slidingTime = 270;
    var defaultTop = "-15px";
    var $querySearchForm = $('#querySearchForm');
    var $target = $('#' + targetID);
    var $body = $('body');
    var $slideSwitchIcon = $('#slideSwitchIcon');

    var storageSystem = new StorageSystem(window.localStorage);

    //
    if (cpWrapperHeight === cpNavHeight) {
        $body.css({ "overflowY": "auto" });
        $target.animate({ height: cpDefaultHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-15px"
        }, slidingTime);
        $slideSwitchIcon.addClass('fa-caret-down').removeClass('fa-caret-up');
        storageSystem.setItem("cpOpen", true);
    } else {
        $body.css({ "overflowY": "hidden" });
        $target.animate({ height: cpNavHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-37px"
        }, slidingTime);
        map.invalidateSize();
        $slideSwitchIcon.addClass('fa-caret-up').removeClass('fa-caret-down');
        storageSystem.setItem("cpOpen", false);
    }
}

/**
*  Helper UI method that will keep the
*  control panel closed faster.
*/


/**
*   Based on the given target (div) and data (list of
*   available options), place a table (or list) of
*   widgets.
*/








function addClass(target, className) {
    $(target).addClass(className);
}



function removeClass(target, className) {
    $(target).removeClass(className);
}

// export function fadeOut(target, type, callbackHandler = function(){}) {
//     $(target).fadeOut(type, callbackHandler);
// }

function addEventListenerTo(target, type, fn) {
    document.getElementById(target).addEventListener(type, fn);
}

function removeElement(target) {
    $(target).remove();
}



function fadeOut(target, timer, callback) {
    $(target).fadeOut(timer, function () {
        // $('#initLoader').remove();
        // $('#mainWrapper').css({opacity: 0.0, visibility: "visible"}).animate({opacity: 1}, 1000);
        callback();
    });
}

function makeVisible(target, timer) {
    $(target).css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1 }, timer);
}

function appendDropDownTo(target, dropdownName, dropdownID, actionsList) {
    // console.log("HERE", dropdownName, " HERE ", dropdownID, " HERE ", actionsList);
    var $targetRef = $(target).append('<div class="dropdown" id=' + dropdownID + '></div>');
    var $dropdown = $(target).find('#' + dropdownID);
    $dropdown.append('<button class=\'btn btn-secondary dropdown-toggle\' type=\'button\' data-toggle="dropdown">' + dropdownName + '</button>');
    var $dropdownRef = $dropdown.append('<div class=\'dropdown-menu\' </div>');
    var $listDiv = $dropdownRef.find('.dropdown-menu');

    actionsList.map(function (action, index) {
        $listDiv.append('\n            <a class =\'dropdown-item\' id=\'' + action.id + '\' href=\'#\'> ' + action.name + ' </a>\n        ');
    });
    $dropdown.append($listDiv);
    $(target).append($dropdown);
}

function appendRangeSlider(container, divClass, inputId, params) {
    var newRangeSlider = $('<div class=\'' + divClass + '\'>\n                            <input id=\'' + inputId + '\' type=\'text\'\n                             />\n                       </div>');
    var rangeInput = newRangeSlider.find('input');
    rangeInput.slider({
        ticks: params.ticks,
        ticks_labels: params.ticksLabels,
        min: params.min,
        max: params.max,
        step: params.step,
        value: params.value,
        tooltip: params.tooltip
    });

    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = Object.entries(params.eventHandlers)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var _step$value = slicedToArray(_step.value, 2),
                key = _step$value[0],
                value = _step$value[1];

            // key == event and value == handler
            rangeInput.on(key, value);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }

    

    appendTo(container, newRangeSlider);
    rangeInput.slider('refresh');

    console.log('Range slider with divClass \'' + divClass + '\'\' is appended to \'' + container + '\'', appendTo('' + container, newRangeSlider));
}



function appendTo(container, element) {
    return !!$('' + container).append(element);
}

function appendDropDownToPanel(target, componentsClass) {
    console.log("componentsClass.list:", componentsClass.list);
    appendDropDownTo(target, componentsClass.name, componentsClass.id, componentsClass.list);
}

function onSubmit(target, callback) {
    $(target).submit(callback);
}

function getInputValue(target) {
    return $(target).val();
}

function getRequest(url) {
    return new Promise(function (res, rej) {
        $.get(url, function (data, status) {

            if (status === 'success') {
                console.log("Success");
                res(data);
            } else {
                rej("Couldn't get the file.");
            }
        });
    });
}

function postRequest(url, info) {
    return new Promise(function (res, rej) {
        $.post(url, info, function (data, status) {
            if (status === 'success') {
                res(data);
            } else {
                rej("Unsuccessful POST request.");
            }
        });
    });
}

function getGeoTrends(latLongString) {
    return window.location.origin + "/api/twitter/geotrends/" + latLongString;
}

function getTwitData() {
    return window.location.origin + "/api/twitter/twitdata";
}

function titleCase(str) {
    var escapeReg = function escapeReg(s) {
        return s.replace(/./g, function (c) {
            return '\\' + c;
        });
    };
    var wordPattern = new RegExp('[^' + escapeReg(' _-¡¿/') + ']+', 'g');
    var result = str.replace(wordPattern, capitalize);
    return result;
}





function capitalize(str) {
    if (str.length) {
        return str[0].toUpperCase() + str.slice(1).toLowerCase();
    } else {
        return '';
    }
}

var MAIN = {
    TWITTER_MODES: ['real_time', 'specified_time'],
    TWITTER_MODES_INDEX: {
        'real_time': 0,
        'specified_time': 1
    }
};

var IMAGES = {

    SOC_MEDIA_ICONS: {
        TWITTER: '../../img/icons/twitter_i.png',
        YELP: '',
        FOURSQARE: ''
    }
};

function createIcon(iconUrl) {
    var shadowUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
    var iconSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [38, 95];
    var shadowSize = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [50, 64];
    var iconAnchor = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [22, 94];
    var shadowIcon = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [4, 62];
    var popupAnchor = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [-3, -76];

    var twitterIcon = L.icon({
        iconUrl: iconUrl,
        // shadowUrl: IMAGES.SOC_MEDIA_ICONS.TWITTER,

        iconSize: iconSize, // size of the icon
        shadowSize: shadowSize, // size of the shadow
        iconAnchor: iconAnchor, // point of the icon which will correspond to marker's location
        shadowAnchor: shadowIcon, // the same for the shadow
        popupAnchor: popupAnchor // point from which the popup should open relative to the iconAnchor
    });

    console.log('Icon Object: ', twitterIcon);

    return twitterIcon;
}

// export function generateResults(data) {
//     console.log('Data', data);
// }

// export function animateTransition(data) {
//     console.log("")
// }

var generateResults = R.curry(function (data, geo) {
    R.pipe(R.map(drawMarker))(data);
});

var drawMarker = R.curry(function (pointData) {
    var twitterIcon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);

    L.marker([51.5, -0.09], { icon: twitterIcon }).addTo(Map);
});

var drawObject = R.curry(function (data, geolocation, iconType) {
    var icon = void 0;
    switch (iconType) {
        case 'twitter':
            console.log('data, geo, icon:', data, geolocation, iconType);
            icon = createIcon(IMAGES.SOC_MEDIA_ICONS.TWITTER);
            L.marker([geolocation[1], geolocation[0]], { icon: icon }).addTo(Map);
            break;
        case 'yelp':
            console.log('Yelp data, geo, icon', data, geolocation, iconType);
            break;
        default:
            console.log('No soc media was selected.');
    }

    console.log('after switch');
});

/**
 *
 * Control class for handing control panel events
 *
 */

var PanelComponent = function () {
    function PanelComponent(id, name, actionHandler) {
        var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
        classCallCheck(this, PanelComponent);

        this.id = id;
        this.name = name;
        this.actionHandler = actionHandler;
        this.data = data;
    }

    createClass(PanelComponent, [{
        key: "getSotedDataBy",
        value: function getSotedDataBy(key) {
            var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var sortedData = void 0;
            var descComparator = R.comparator(function (a, b) {
                return R.gt(R.prop(key, a), R.prop(key, b));
            });

            sortedData = ascending ? R.sortBy(R.prop(key), this.data) : R.sort(descComparator, this.data);
            return data;
        }
    }, {
        key: "getTopN",
        value: function getTopN(limit, key) {
            var ascending = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            var formatted = getSortedDataBy(key, ascending);
            return R.slice(0, limit + 1, formatted);
        }
    }, {
        key: "getActionHandler",
        value: function getActionHandler() {
            return this.actionHandler;
        }
    }, {
        key: "getData",
        value: function getData() {
            return this.data;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName(name) {
            this.name = name;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(actionHandler) {
            this.actionHandler = actionHandler;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(fn) {
            this.actionHandler = fn;
        }
    }, {
        key: "setData",
        value: function setData(data) {
            this.data = data;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                "id": this.id,
                "name": this.name,
                "actionHandler": this.actionHandler,
                "data": this.data
            };
        }
    }]);
    return PanelComponent;
}();

var Components = function () {
    function Components() {
        var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
        var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        classCallCheck(this, Components);

        this.id = id;
        this.name = name;
        this.list = list;
    }

    createClass(Components, [{
        key: "add",
        value: function add(panelComponent) {
            this.list.push(panelComponent);
        }
    }, {
        key: "remove",
        value: function remove(panelComponent) {
            for (var i = 0; i < this.list.length; i++) {
                if (this.list[i].id === panelComponent.id) {
                    this.list.splice(i, 1);
                }
            }
        }
    }, {
        key: "get",
        value: function get$$1() {
            return this;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName() {
            return this.name;
        }
    }, {
        key: "getList",
        value: function getList() {
            return this.list;
        }
    }, {
        key: "set",
        value: function set$$1(id, name, list) {
            this.id = id;
            this.name = name;
            this.list = list;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "setId",
        value: function setId(id) {
            this.id = id;
        }
    }, {
        key: "setList",
        value: function setList(list) {
            this.list = list;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                id: this.id,
                name: this.name,
                list: this.list
            };
        }
    }]);
    return Components;
}();

var Mode = function () {
    function Mode(name) {
        classCallCheck(this, Mode);

        this.name = name;
    }

    createClass(Mode, [{
        key: "getName",
        value: function getName() {
            return this.name;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }]);
    return Mode;
}();

var Twitter = function (_Mode) {
    inherits(Twitter, _Mode);

    function Twitter(name) {
        classCallCheck(this, Twitter);
        return possibleConstructorReturn(this, (Twitter.__proto__ || Object.getPrototypeOf(Twitter)).call(this, name));
    }

    createClass(Twitter, [{
        key: 'turnOnSocket',
        value: function turnOnSocket(socket, channel, params) {
            socket.emit(channel, params);
        }
    }, {
        key: 'getData',
        value: function getData(url, twitData) {
            // url = Paths.getTwitData()
            return new Promise(function (res, rej) {
                postRequest(url, twitData).then(function (data) {
                    res(data);
                }).catch(function (err) {
                    rej(err);
                });
            });
        }
    }]);
    return Twitter;
}(Mode);

// Action
$(window).load(function () {
    var storageSystem = new StorageSystem(window.localStorage);
    var twitter = new Twitter('twitter');
    console.log('twitter', twitter);
    var TWITTER_MODES = MAIN.TWITTER_MODES;
    var TWITTER_MODES_INDEX = MAIN.TWITTER_MODES_INDEX;

    var socket = io.connect('http://localhost:8000/');

    var cpOpen = void 0,
        tracker = void 0,
        cpRightList = [];

    var rightComponents = new Components();

    /* INTRO LOADER CODE */
    $(function () {
        if (!storageSystem.getItem('firstVisit')) {
            fadeOut('#initLoader', 3000, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        } else {
            fadeOut('#initLoader', 550, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        }
    });

    storageSystem.setItem('firstVisit', true);

    cpOpen = storageSystem.getItem('cpOpen');
    console.log('cpOpen:::', cpOpen);
    if (cpOpen == 'false') {
        console.log("Should slide: cpOpen", cpOpen);
        slideToggleCp('controlPanelWrapper', Map);
    }

    addEventListenerTo('toggleSliderBtn', 'click', function (event) {
        return slideToggleCp('controlPanelWrapper', Map);
    });

    new L.Control.GPlaceAutocomplete({
        position: 'topright',
        callback: function callback(location) {
            console.log('Location given:', location);
            var lat = location.geometry.location.lat();
            var lng = location.geometry.location.lng();

            // const sanFrancisco = [ '-122.75, 36.8, -121.75, 37.8' ];
            var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

            storageSystem.setRawItem('lastLocation', lastLocation);
            Map.setView([lat, lng], 8, { animate: true, duration: 2.0 });
        }
    }).addTo(Map);

    socket.on('tweet', function (tweet) {
        var coordinates = tweet.place ? tweet.place.bounding_box.coordinates[0][1] : null;
        if (coordinates) {
            var _coordinates = tweet.place.bounding_box.coordinates[0][1];
            var user = tweet.user;
            var text = tweet.text;
            var id = tweet.id;
            var created_at = tweet.created_at;
            var mlsTime = tweet.timestamp_ms;

            var data = {
                user: user,
                text: text,
                created_at: created_at,
                id: id,
                mlsTime: mlsTime
            };

            drawObject(data, _coordinates, 'twitter');
        } else {
            console.log('Passed tweet with no coordinates', tweet);
        }
    });

    function getInfoBasedOnChosenMode(mode, query, lastLocation, twitData) {
        switch (mode) {
            case 'real_time':
                twitter.turnOnSocket(socket, 'topic', { topic: query, location: lastLocation });
                break;
            case 'specified_time':
                twitter.getData(getTwitData(), twitData).then(function (data) {
                    return console.log(data);
                }).catch(function (err) {
                    return new Error('err', err);
                });
                break;
            default:
                console.log('none of the modes selected');

        }
    }

    onSubmit('#querySearchForm', function (e) {
        e.preventDefault();
        var query = getInputValue('#querySearch');
        var lat = Map.getCenter().lat;
        var lng = Map.getCenter().lng;
        var twitData = { q: query, geocode: [lat, lng], radius: '25mi' };

        var lastLocation = [lng + ', ' + lat + ', ' + (lng + 1) + ', ' + (lat + 1)];

        if (R.isNil(storageSystem.getItem('lastLocation'))) {
            console.log('Not selected. twitData:', twitData);
            // const testTwitDataItemTest = {q: 'trump', geocode: [37.7749, -122.4194], radius: '25mi'};

            getInfoBasedOnChosenMode('specified_time', query, lastLocation, twitData);
        } else {
            console.log('Exists', lastLocation);

            /**
                 TODO:
                - This is for General and Selective timing
                - Get data points and draw them on the map
              */
            // const first = GraphOps.generateResults([1, 2, 3, 4]);
            // first(lastLocation);

            /**
                 TODO:
                - This portion of code is for Socket.io/real time tweet streaming
                - Get location and query and start connecting to the socket
              */
            getInfoBasedOnChosenMode('specified_time', query, lastLocation, twitData);
        }

        // last location is saved
        storageSystem.setRawItem('lastLocation', lastLocation);

        // once query selected:
        // check if location is already selected
        // if yes, then go to that location
        //          and show the results
        // if no, then get the center of the current
        //        location of the screen and show the results.
        //
    });

    // generation
    // ui.generateCpRightPanel('#panelWrapper', {});

    // Testing area
    var testGeo = '-25.2744,-133.7751'; // Australia
    // console.log('Path:', Paths.getGeoTrends(testGeo));
    console.log(getGeoTrends(testGeo));
    getRequest(getGeoTrends(testGeo)).then(function (data) {
        if (data.data) {
            var listOfTrends = data.data.trends;
            var geoData = data.geo;

            $("#querySearch").easyAutocomplete({
                data: listOfTrends,
                getValue: 'name',
                list: {
                    match: {
                        enabled: true
                    },
                    onShowListEvent: function onShowListEvent() {
                        // switch(storageSystem.getItem('cpOpen')) {
                        //     case 'false':
                        //        $('.easy-autocomplete-container').addClass('autocomplete-top');
                        //        break;
                        //     case 'true':
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        //        break;
                        //     default:
                        //        $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        // };
                        switch (storageSystem.getItem('cpOpen')) {
                            case 'false':
                                addClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            case 'true':
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                                break;
                            default:
                                removeClass('.easy-autocomplete-container', 'autocomplete-top');
                        }
                    },
                    onKeyEnterEvent: function onKeyEnterEvent() {}
                }
                // template: {
                //     type: "custom"
                //     // method: function(value, item) {
                //     //     return "<img src='" + item.icon + "' /> | " + item.type + " | " + value;
                //     // }
                // }
            });
        } else {
            console.log("no data", data);
        }

        // (function() {
        //     // for(let i = 0; i < 10; i++) {
        //     //     ui.addElementToPanel
        //     //     (
        //     //         '#panelCompRightWrapper',
        //     //         {},
        //     //         "Button " + i,
        //     //         $('<a></a>'),
        //     //         'menu btn btn-secondary',
        //     //         'col-lg-4'
        //     //     );
        //     // }

        //     // undefined by default will place 'div' element

        //     // ui.addElementTo('')

        // }());

        // console.log('Should reach here...');
        // let dropdown = ui.addContainerToContainer('#panelCompRightWrapper', 'favorites', undefined, 'dropdown show');
        // let $a = ui.addContainerToContainer(dropdown.attr('id'), undefined, $('<a>'), 'btn btn-secondary dropdown-toggle');
        // ui.addTextTo($a, $a.attr('id'));

        //target, dropdownName, dropdownID, dataList


        var panelComp1 = new PanelComponent('#topTen', 'Top 10 Tweets', function () {
            console.log('hi');
        }, [{ "name": "daler" }, { "name": "michael" }]);
        var panelComp2 = new PanelComponent('#topTwenty', 'Top 10 Retweets', function () {
            console.log('hi');
        }, [{ "lastname": "asrorov" }, { "lastname": "jojo" }]);
        var panelComp3 = new PanelComponent('#topThirty', 'Top 30 Retweets', function () {
            console.log('hi');
        }, [{ "jorge": "quero" }, { "sandro": "bolo" }]);

        rightComponents.add(panelComp1);
        rightComponents.add(panelComp2);
        rightComponents.add(panelComp3);
        rightComponents.setName('Social Media');
        rightComponents.setId('socMedia');

        console.log("panelComp object:", rightComponents);
        appendDropDownToPanel('#panelCompRightWrapper', rightComponents);
    }).catch(function (err) {
        console.log("Error request", err);
    });

    var arrayOfIndexes = TWITTER_MODES.map(function (item, index) {
        return index;
    });
    var arrayOfLabels = TWITTER_MODES.map(function (mode) {
        return titleCase(mode.split('_').join(' '));
    });
    appendRangeSlider('#panelCompMiddle', 'range-selector', 'twitterModes', {
        ticks: arrayOfIndexes,
        ticksLabels: arrayOfLabels,
        min: arrayOfIndexes[0],
        max: arrayOfIndexes[arrayOfIndexes.length - 1],
        step: 1,
        value: arrayOfIndexes[0],
        tooltip: 'hide',
        eventHandlers: {
            change: function change(slideEvt) {
                var newMode = slideEvt.value.newValue;
                var prevMode = slideEvt.value.oldValue;
                switch (newMode) {
                    case TWITTER_MODES_INDEX['real_time']:
                        break;
                    case TWITTER_MODES_INDEX['specified_time']:
                        // check the cache
                        // if location data already exists
                        //      return location from cache
                        // else
                        //      store location in cache in (key, value) pair where key is location and value is tweets
                        //      return location
                        var query = getInputValue('#querySearch');
                        var lat = Map.getCenter().lat;
                        var lng = Map.getCenter().lng;
                        var twitData = { q: query, geocode: [lat, lng], radius: '25mi' };
                        twitter.getData(getTwitData(), twitData);
                        break;
                    default:
                        console.log('none selected');

                }
                console.log('Event: change. Slider object', slideEvt);
            }
        }
    });

    // Request.getRequest(Utils.getTrendsPlaces(lat, long))å
    //     .then((data) => {
    //         console.log("Trends Data");
    //     })

    // post request testing

});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL2pzL21vZHVsZXMvbWFwLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzIiwiLi4vanMvbW9kdWxlcy91aS5qcyIsIi4uL2pzL21vZHVsZXMvcmVxdWVzdC5qcyIsIi4uL2pzL21vZHVsZXMvcGF0aHMuanMiLCIuLi9qcy9tb2R1bGVzL3V0aWxzLmpzIiwiLi4vanMvbW9kdWxlcy9jb25zdGFudHMuanMiLCIuLi9qcy9tb2R1bGVzL21hcGVsZW1lbnRzLmpzIiwiLi4vanMvbW9kdWxlcy9tYXBvcHMuanMiLCIuLi9qcy9jbGFzc2VzL3BhbmVsY29tcG9uZW50LmpzIiwiLi4vanMvY2xhc3Nlcy9jb21wb25lbnRzLmpzIiwiLi4vanMvY2xhc3Nlcy9tb2RlLmpzIiwiLi4vanMvY2xhc3Nlcy90d2l0dGVyLmpzIiwiLi4vanMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIEluaXRpYWxpemluZyB0aGUgbWFwXG4vLyBsZXQgbWFpbk1hcCA9IEwubWFwKCdtYXBXcmFwcGVyJykuc2V0VmlldyhbNTEuNTA1LCAtMC4wOV0sIDEzKTtcblxuLy8gTC50aWxlTGF5ZXIoJ2h0dHA6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7XG4vLyAgICAgbWF4Wm9vbTogMTksXG4vLyAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4nXG4vLyB9KS5hZGRUbyhtYWluTWFwKTtcblxubGV0IG1hcExheWVyID0gTVEubWFwTGF5ZXIoKSwgbWFpbk1hcDtcblxubWFpbk1hcCA9IEwubWFwKCdtYXBXcmFwcGVyJywge1xuICAgIGxheWVyczogbWFwTGF5ZXIsXG4gICAgY2VudGVyOiBbIDQwLjczMTcwMSwgLTczLjk5MzQxMSBdLFxuICAgIHpvb206IDEyXG59KTtcblxuTC5jb250cm9sLmxheWVycyh7XG4gICdNYXAnOiBtYXBMYXllcixcbiAgJ0h5YnJpZCc6IE1RLmh5YnJpZExheWVyKCksXG4gICdTYXRlbGxpdGUnOiBNUS5zYXRlbGxpdGVMYXllcigpLFxuICAnRGFyayc6IE1RLmRhcmtMYXllcigpLFxuICAnTGlnaHQnOiBNUS5saWdodExheWVyKClcbn0pLmFkZFRvKG1haW5NYXApO1xuXG5leHBvcnQgZGVmYXVsdCBtYWluTWFwO1xuIiwiLyoqXG4gKlxuICogU3RvcmFnZSBCYXNlIGNsYXNzXG4gKlxuICovXG5cbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIGdldEl0ZW0oa2V5KSB7fVxuICAgIGdldFJhd0l0ZW0oa2V5KSB7fVxuICAgIHNldEl0ZW0oa2V5LCB2YWx1ZSkge31cbiAgICBzZXRSYXdJdGVtKGtleSwgdmFsdWUpIHt9XG4gfVxuIiwiaW1wb3J0IFN0b3JhZ2UgZnJvbSAnLi9zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVN5c3RlbSBleHRlbmRzIFN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGxvY2FsU3RvcmFnZSwgLi4ucmVzdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gICAgfVxuXG4gICAgZ2V0SXRlbShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfVxuXG4gICAgZ2V0UmF3SXRlbShrZXkpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5nZXRJdGVtKGtleSkpO1xuICAgIH1cblxuICAgIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBzZXRSYXdJdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9XG59IiwiLy8gVUkgVXRpbHMgc2V0XG5pbXBvcnQgU3RvcmFnZVN5c3RlbSBmcm9tICcuLy4uL2NsYXNzZXMvc3RvcmFnZXN5c3RlbS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGlkZVRvZ2dsZUNwKHRhcmdldElELCBtYXAsIGhlaWdodFNldHRlcklEID0gJ2Fycm93UG9pbnRlcldyYXBwZXInLCBjcERlZmF1bHRIZWlnaHQgPSBcIjM1JVwiLCAuLi5yZXN0KSB7XG4gICAgY29uc3QgY3BOYXZIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWlnaHRTZXR0ZXJJRCkub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgY3BXcmFwcGVySGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SUQpLm9mZnNldEhlaWdodC50b1N0cmluZygpO1xuICAgIGNvbnN0IHNsaWRpbmdUaW1lID0gMjcwO1xuICAgIGNvbnN0IGRlZmF1bHRUb3AgPSBcIi0xNXB4XCI7XG4gICAgY29uc3QgJHF1ZXJ5U2VhcmNoRm9ybSA9ICQoJyNxdWVyeVNlYXJjaEZvcm0nKTtcbiAgICBjb25zdCAkdGFyZ2V0ID0gJChgIyR7dGFyZ2V0SUR9YCk7XG4gICAgY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgY29uc3QgJHNsaWRlU3dpdGNoSWNvbiA9ICQoJyNzbGlkZVN3aXRjaEljb24nKTtcblxuICAgIGNvbnN0IHN0b3JhZ2VTeXN0ZW0gPSBuZXcgU3RvcmFnZVN5c3RlbSh3aW5kb3cubG9jYWxTdG9yYWdlKTtcblxuICAgIC8vXG4gICAgaWYoY3BXcmFwcGVySGVpZ2h0ID09PSBjcE5hdkhlaWdodCkge1xuICAgICAgICAkYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcERlZmF1bHRIZWlnaHR9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRxdWVyeVNlYXJjaEZvcm0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0b3A6IFwiLTE1cHhcIlxuICAgICAgICB9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKS5yZW1vdmVDbGFzcygnZmEtY2FyZXQtdXAnKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJGJvZHkuY3NzKHtcIm92ZXJmbG93WVwiOiBcImhpZGRlblwifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcE5hdkhlaWdodH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHF1ZXJ5U2VhcmNoRm9ybS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogXCItMzdweFwiXG4gICAgICAgIH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgbWFwLmludmFsaWRhdGVTaXplKCk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LXVwJykucmVtb3ZlQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIGZhbHNlKTtcbiAgICB9XG59XG5cbi8qKlxuKiAgSGVscGVyIFVJIG1ldGhvZCB0aGF0IHdpbGwga2VlcCB0aGVcbiogIGNvbnRyb2wgcGFuZWwgY2xvc2VkIGZhc3Rlci5cbiovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3BDc3ModGFyZ2V0LCBoZWlnaHQsIGJvZHk9JCgnYm9keScpKSB7XG4gICAgYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgJHRhcmdldC5jc3Moe2hlaWdodDogY3BEZWZhdWx0SGVpZ2h0fSk7XG59XG5cbi8qKlxuKiAgIEJhc2VkIG9uIHRoZSBnaXZlbiB0YXJnZXQgKGRpdikgYW5kIGRhdGEgKGxpc3Qgb2ZcbiogICBhdmFpbGFibGUgb3B0aW9ucyksIHBsYWNlIGEgdGFibGUgKG9yIGxpc3QpIG9mXG4qICAgd2lkZ2V0cy5cbiovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDcFJpZ2h0UGFuZWwodGFyZ2V0LCBkYXRhKSB7XG4gICAgbGV0ICR0YXJnZXQgPSAkKHRhcmdldCk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAkdGFyZ2V0LmFwcGVuZFxuICAgICAgICAoXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1sZy00XCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgIFwiU29tZXRoaW5nXCIgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFRvUGFuZWwoXG4gICAgcGFuZWwsXG4gICAgZXZlbnRMaXN0ZW5lcixcbiAgICBodG1sSXRlbU5hbWUgPSAnJyxcbiAgICBodG1sSXRlbSA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicpLFxuICAgIGh0bWxJdGVtQ2xhc3MgPSAnbWVudScsXG4gICAgY29sdW1uU2l6ZSA9ICdjb2wtbGctNCcpIHtcblxuICAgIGxldCAkcGFuZWwgPSAkKHBhbmVsKTtcbiAgICBsZXQgJGh0bWxJdGVtID0gaHRtbEl0ZW07XG4gICAgbGV0ICRkaXZDb2wgPSAkKCc8ZGl2PjwvZGl2PicpO1xuXG4gICAgJGh0bWxJdGVtLmFkZENsYXNzKGh0bWxJdGVtQ2xhc3MpO1xuICAgICRodG1sSXRlbS5odG1sKCc8c3BhbiBjbGFzcz1cInJpZ2h0LWNwLW5hbWVcIj4nXG4gICAgICAgICAgICAgICAgICAgKyBodG1sSXRlbU5hbWUgKyAnPC9zcGFuPicpXG4gICAgJGRpdkNvbC5hZGRDbGFzcyhjb2x1bW5TaXplKTtcblxuICAgICRkaXZDb2wuYXBwZW5kKCRodG1sSXRlbSk7XG4gICAgJHBhbmVsLmFwcGVuZCgkZGl2Q29sKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVsZW1lbnRUbyh0YXJnZXQsIGVsZW1lbnQ9JCgnPGRpdj48L2Rpdj4nKSkge1xuICAgIGlmKHR5cGVvZiB0YXJnZXQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gJChgJHt0YXJnZXR9YCkuYXBwZW5kKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29udGFpbmVyVG9Db250YWluZXIocGFuZWwsIGlkPScnLCBjb250YWluZXI9JChgPGRpdiBpZD0ke2lkfT48L2Rpdj5gKSwgY2xhc3Nlcz0nJykge1xuICAgIGxldCBhZGRJZCA9IGNvbnRhaW5lci5hdHRyKCdpZCcpID8gY29udGFpbmVyLmF0dHIoJ2lkJykgOiBjb250YWluZXIuYXR0cignaWQnLCBgIyR7aWR9YCk7XG4gICAgYWRkQ2xhc3MoY29udGFpbmVyLCBjbGFzc2VzKTtcbiAgICAkKHBhbmVsKS5hcHBlbmQoY29udGFpbmVyKTtcbiAgICBjb25zb2xlLmxvZygnY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRleHRUbyh0YXJnZXQsIHRleHQpIHtcbiAgICBpZih0eXBlb2YgdGFyZ2V0ID09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnF1ZXJ5IHNob3VsZCBiZSBhcHBsaWVkIGRpcmVjdGx5XCIpO1xuICAgICAgICB0YXJnZXQuaHRtbCh0ZXh0KTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIHRhcmdldCA9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkl0J3MgaWRcIiwgdGFyZ2V0KTtcbiAgICAgICAgJCh0YXJnZXQpLmh0bWwodGV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQodGFyZ2V0LCB0eXBlLCBjYWxsYmFja0hhbmRsZXIgPSBmdW5jdGlvbigpe30pIHtcbi8vICAgICAkKHRhcmdldCkuZmFkZU91dCh0eXBlLCBjYWxsYmFja0hhbmRsZXIpO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lclRvKHRhcmdldCwgdHlwZSwgZm4pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCh0YXJnZXQpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZSh0YXJnZXQsIHN0eWxlT2JqZWN0LCAuLi5yZXN0KSB7XG4gICAgcmV0dXJuICQodGFyZ2V0KS5jc3Moc3R5bGVPYmplY3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmFkZU91dCh0YXJnZXQsIHRpbWVyLCBjYWxsYmFjaykge1xuICAgICQodGFyZ2V0KS5mYWRlT3V0KHRpbWVyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gJCgnI2luaXRMb2FkZXInKS5yZW1vdmUoKTtcbiAgICAgICAgLy8gJCgnI21haW5XcmFwcGVyJykuY3NzKHtvcGFjaXR5OiAwLjAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwifSkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDEwMDApO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVZpc2libGUodGFyZ2V0LCB0aW1lcikge1xuICAgICQodGFyZ2V0KS5jc3Moe29wYWNpdHk6IDAuMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgdGltZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmREcm9wRG93blRvKHRhcmdldCwgZHJvcGRvd25OYW1lLCBkcm9wZG93bklELCBhY3Rpb25zTGlzdCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSEVSRVwiLCBkcm9wZG93bk5hbWUsIFwiIEhFUkUgXCIsIGRyb3Bkb3duSUQsIFwiIEhFUkUgXCIsIGFjdGlvbnNMaXN0KTtcbiAgICBsZXQgJHRhcmdldFJlZiA9ICQodGFyZ2V0KS5hcHBlbmQoYDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPSR7ZHJvcGRvd25JRH0+PC9kaXY+YCk7XG4gICAgbGV0ICRkcm9wZG93biA9ICQodGFyZ2V0KS5maW5kKGAjJHtkcm9wZG93bklEfWApO1xuICAgICRkcm9wZG93bi5hcHBlbmQoYDxidXR0b24gY2xhc3M9J2J0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZScgdHlwZT0nYnV0dG9uJyBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+YCArIGRyb3Bkb3duTmFtZSArIGA8L2J1dHRvbj5gKTtcbiAgICBsZXQgJGRyb3Bkb3duUmVmID0gJGRyb3Bkb3duLmFwcGVuZChgPGRpdiBjbGFzcz0nZHJvcGRvd24tbWVudScgPC9kaXY+YCk7XG4gICAgbGV0ICRsaXN0RGl2ID0gJGRyb3Bkb3duUmVmLmZpbmQoJy5kcm9wZG93bi1tZW51Jyk7XG5cbiAgICBhY3Rpb25zTGlzdC5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgJGxpc3REaXYuYXBwZW5kXG4gICAgICAgIChgXG4gICAgICAgICAgICA8YSBjbGFzcyA9J2Ryb3Bkb3duLWl0ZW0nIGlkPScke2FjdGlvbi5pZH0nIGhyZWY9JyMnPiAke2FjdGlvbi5uYW1lfSA8L2E+XG4gICAgICAgIGApXG4gICAgfSk7XG4gICAgJGRyb3Bkb3duLmFwcGVuZCgkbGlzdERpdik7XG4gICAgJCh0YXJnZXQpLmFwcGVuZCgkZHJvcGRvd24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kUmFuZ2VTbGlkZXIoY29udGFpbmVyLCBkaXZDbGFzcywgaW5wdXRJZCwgcGFyYW1zKSB7XG4gICAgbGV0IG5ld1JhbmdlU2xpZGVyID0gJChcbiAgICAgICAgICAgICAgICAgICAgICAgYDxkaXYgY2xhc3M9JyR7ZGl2Q2xhc3N9Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9JyR7aW5wdXRJZH0nIHR5cGU9J3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmApO1xuICAgIGxldCByYW5nZUlucHV0ID0gbmV3UmFuZ2VTbGlkZXIuZmluZCgnaW5wdXQnKTtcbiAgICByYW5nZUlucHV0LnNsaWRlcih7XG4gICAgICAgIHRpY2tzOiBwYXJhbXMudGlja3MsXG4gICAgICAgIHRpY2tzX2xhYmVsczogcGFyYW1zLnRpY2tzTGFiZWxzLFxuICAgICAgICBtaW46IHBhcmFtcy5taW4sXG4gICAgICAgIG1heDogcGFyYW1zLm1heCxcbiAgICAgICAgc3RlcDogcGFyYW1zLnN0ZXAsXG4gICAgICAgIHZhbHVlOiBwYXJhbXMudmFsdWUsXG4gICAgICAgIHRvb2x0aXA6IHBhcmFtcy50b29sdGlwXG4gICAgfSk7XG5cbiAgICBmb3IobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMuZXZlbnRIYW5kbGVycykpIHtcbiAgICAgICAgLy8ga2V5ID09IGV2ZW50IGFuZCB2YWx1ZSA9PSBoYW5kbGVyXG4gICAgICAgIHJhbmdlSW5wdXQub24oa2V5LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIGFwcGVuZFRvKGNvbnRhaW5lciwgbmV3UmFuZ2VTbGlkZXIpO1xuICAgIHJhbmdlSW5wdXQuc2xpZGVyKCdyZWZyZXNoJyk7XG5cbiAgICBjb25zb2xlLmxvZyhgUmFuZ2Ugc2xpZGVyIHdpdGggZGl2Q2xhc3MgJyR7ZGl2Q2xhc3N9JycgaXMgYXBwZW5kZWQgdG8gJyR7Y29udGFpbmVyfSdgLCBhcHBlbmRUbyhgJHtjb250YWluZXJ9YCwgbmV3UmFuZ2VTbGlkZXIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleXByZXNzKHRhcmdldCwgY2FsbGJhY2spIHtcbiAgICAkKHRhcmdldCkua2V5cHJlc3MoY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kVG8oY29udGFpbmVyLCBlbGVtZW50KSB7XG4gICAgcmV0dXJuICEhJChgJHtjb250YWluZXJ9YCkuYXBwZW5kKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kRHJvcERvd25Ub1BhbmVsKHRhcmdldCwgY29tcG9uZW50c0NsYXNzKSB7XG4gICAgY29uc29sZS5sb2coXCJjb21wb25lbnRzQ2xhc3MubGlzdDpcIiwgY29tcG9uZW50c0NsYXNzLmxpc3QpO1xuICAgIGFwcGVuZERyb3BEb3duVG8odGFyZ2V0LCBjb21wb25lbnRzQ2xhc3MubmFtZSwgY29tcG9uZW50c0NsYXNzLmlkLCBjb21wb25lbnRzQ2xhc3MubGlzdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblN1Ym1pdCh0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgJCh0YXJnZXQpLnN1Ym1pdChjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnB1dFZhbHVlKHRhcmdldCkge1xuICAgIHJldHVybiAkKHRhcmdldCkudmFsKCk7XG59XG5cblxuXG5cbiIsIlxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAkLmdldCh1cmwsIChkYXRhLCBzdGF0dXMpID0+IHtcblxuICAgICAgICAgICAgaWYoc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgcmVzKGRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWooXCJDb3VsZG4ndCBnZXQgdGhlIGZpbGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3N0UmVxdWVzdCh1cmwsIGluZm8pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICQucG9zdCh1cmwsIGluZm8sIChkYXRhLCBzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgcmVzKGRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWooXCJVbnN1Y2Nlc3NmdWwgUE9TVCByZXF1ZXN0LlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07IiwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmVuZHNQYXRoKHdlaWQpIHtcbiAgICByZXR1cm4gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXBpL3R3aXR0ZXIvdHJlbmRzLyR7d2VpZH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2VvVHJlbmRzKGxhdExvbmdTdHJpbmcpIHtcbiAgICByZXR1cm4gYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vYXBpL3R3aXR0ZXIvZ2VvdHJlbmRzLyR7bGF0TG9uZ1N0cmluZ31gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHdpdERhdGEoKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL3R3aXRkYXRhYDtcbn1cblxuIiwiXG5cbmV4cG9ydCBmdW5jdGlvbiB0aXRsZUNhc2Uoc3RyKSB7XG4gICAgY29uc3QgZXNjYXBlUmVnID0gcyA9PiBzLnJlcGxhY2UoLy4vZywgYyA9PiBgXFxcXCR7Y31gKTtcbiAgICBsZXQgd29yZFBhdHRlcm4gPSBuZXcgUmVnRXhwKGBbXiR7ZXNjYXBlUmVnKCcgXy3CocK/LycpfV0rYCwgJ2cnKTtcbiAgICBsZXQgcmVzdWx0ID0gc3RyLnJlcGxhY2Uod29yZFBhdHRlcm4sIGNhcGl0YWxpemUpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY1dpdGhUaW1lb3V0KGNhbGxiYWNrLCB0aW1lLCBzZWxlY3Rvcj1cIlwiKSB7XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgdGltZSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY1dpdGhJbnRlcnZhbChjYWxsYmFjaywgdGltZSwgc2VsZWN0b3I9XCJcIikge1xuICAgIHNldEludGVydmFsKGNhbGxiYWNrLCB0aW1lKVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gIGlmIChzdHIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0clswXS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59IiwiZXhwb3J0IGNvbnN0IE1BSU4gPSB7XG4gICAgVFdJVFRFUl9NT0RFUzogWydyZWFsX3RpbWUnLCAnc3BlY2lmaWVkX3RpbWUnXSxcbiAgICBUV0lUVEVSX01PREVTX0lOREVYOiB7XG4gICAgICAgICdyZWFsX3RpbWUnOiAwLFxuICAgICAgICAnc3BlY2lmaWVkX3RpbWUnOiAxXG4gICAgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBJTUFHRVMgPSB7XG5cbiAgICBTT0NfTUVESUFfSUNPTlM6IHtcbiAgICAgICAgVFdJVFRFUjogJy4uLy4uL2ltZy9pY29ucy90d2l0dGVyX2kucG5nJyxcbiAgICAgICAgWUVMUDogJycsXG4gICAgICAgIEZPVVJTUUFSRTogJydcbiAgICB9XG59XG4iLCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvblVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1VybD1cIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU9WzM4LCA5NV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dTaXplPVs1MCwgNjRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcj1bMjIsIDk0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd0ljb249IFs0LCA2Ml0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcj1bLTMsIC03Nl0pIHtcbiAgICBsZXQgdHdpdHRlckljb24gPSBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiBpY29uVXJsLFxuICAgICAgICAvLyBzaGFkb3dVcmw6IElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUixcblxuICAgICAgICBpY29uU2l6ZTogICAgIGljb25TaXplLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICAgIHNoYWRvd1NpemU6ICAgc2hhZG93U2l6ZSwgLy8gc2l6ZSBvZiB0aGUgc2hhZG93XG4gICAgICAgIGljb25BbmNob3I6ICAgaWNvbkFuY2hvciwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgICAgIHNoYWRvd0FuY2hvcjogc2hhZG93SWNvbiwgIC8vIHRoZSBzYW1lIGZvciB0aGUgc2hhZG93XG4gICAgICAgIHBvcHVwQW5jaG9yOiAgcG9wdXBBbmNob3IgLy8gcG9pbnQgZnJvbSB3aGljaCB0aGUgcG9wdXAgc2hvdWxkIG9wZW4gcmVsYXRpdmUgdG8gdGhlIGljb25BbmNob3JcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdJY29uIE9iamVjdDogJywgdHdpdHRlckljb24pO1xuXG4gICAgcmV0dXJuIHR3aXR0ZXJJY29uO1xufSIsImltcG9ydCBNYXAgZnJvbSAnLi9tYXAuanMnO1xuaW1wb3J0IHsgSU1BR0VTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgTWFwRWxlbWVudHMgZnJvbSAnLi9tYXBlbGVtZW50cy5qcyc7XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlc3VsdHMoZGF0YSkge1xuLy8gICAgIGNvbnNvbGUubG9nKCdEYXRhJywgZGF0YSk7XG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBhbmltYXRlVHJhbnNpdGlvbihkYXRhKSB7XG4vLyAgICAgY29uc29sZS5sb2coXCJcIilcbi8vIH1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmVzdWx0cyA9IFIuY3VycnkoKGRhdGEsIGdlbykgPT4ge1xuICAgIFIucGlwZShcbiAgICAgICAgUi5tYXAoZHJhd01hcmtlciksIC8vIHJlbmRlciBwb2ludHMgd2l0aCBhbmltYXRpb25zXG4gICAgKShkYXRhKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd01hcmtlciA9IFIuY3VycnkoKHBvaW50RGF0YSkgPT4ge1xuICAgIGNvbnN0IHR3aXR0ZXJJY29uID0gTWFwRWxlbWVudHMuY3JlYXRlSWNvbihJTUFHRVMuU09DX01FRElBX0lDT05TLlRXSVRURVIpO1xuXG4gICAgTC5tYXJrZXIoWzUxLjUsIC0wLjA5XSwge2ljb246IHR3aXR0ZXJJY29ufSkuYWRkVG8oTWFwKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZHJhd09iamVjdCA9IFIuY3VycnkoKGRhdGEsIGdlb2xvY2F0aW9uLCBpY29uVHlwZSkgPT4ge1xuICAgIGxldCBpY29uO1xuICAgIHN3aXRjaChpY29uVHlwZSkge1xuICAgICAgICBjYXNlICd0d2l0dGVyJzpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhLCBnZW8sIGljb246JywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGljb24gPSBNYXBFbGVtZW50cy5jcmVhdGVJY29uKElNQUdFUy5TT0NfTUVESUFfSUNPTlMuVFdJVFRFUik7XG4gICAgICAgICAgICBMLm1hcmtlcihbZ2VvbG9jYXRpb25bMV0sIGdlb2xvY2F0aW9uWzBdXSwge2ljb246IGljb259KS5hZGRUbyhNYXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3llbHAnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1llbHAgZGF0YSwgZ2VvLCBpY29uJywgZGF0YSwgZ2VvbG9jYXRpb24sIGljb25UeXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHNvYyBtZWRpYSB3YXMgc2VsZWN0ZWQuJyk7XG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCdhZnRlciBzd2l0Y2gnKTtcbn0pOyIsIi8qKlxuICpcbiAqIENvbnRyb2wgY2xhc3MgZm9yIGhhbmRpbmcgY29udHJvbCBwYW5lbCBldmVudHNcbiAqXG4gKi9cblxuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgbmFtZSwgYWN0aW9uSGFuZGxlciwgZGF0YT1bXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGFjdGlvbkhhbmRsZXI7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0U290ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmc9dHJ1ZSkge1xuICAgICAgICBsZXQgc29ydGVkRGF0YTtcbiAgICAgICAgY29uc3QgZGVzY0NvbXBhcmF0b3IgPSBSLmNvbXBhcmF0b3IoKGEsIGIpID0+IFIuZ3QoUi5wcm9wKGtleSwgYSksIFIucHJvcChrZXksIGIpKSk7XG5cbiAgICAgICAgc29ydGVkRGF0YSA9IGFzY2VuZGluZyA/IFIuc29ydEJ5KFIucHJvcChrZXkpLCB0aGlzLmRhdGEpIDogUi5zb3J0KGRlc2NDb21wYXJhdG9yLCB0aGlzLmRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBnZXRUb3BOKGxpbWl0LCBrZXksIGFzY2VuZGluZz10cnVlKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBnZXRTb3J0ZWREYXRhQnkoa2V5LCBhc2NlbmRpbmcpO1xuICAgICAgICByZXR1cm4gUi5zbGljZSgwLCBsaW1pdCArIDEsIGZvcm1hdHRlZCk7XG4gICAgfVxuXG4gICAgZ2V0QWN0aW9uSGFuZGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBnZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25IYW5kbGVyID0gYWN0aW9uSGFuZGxlcjtcbiAgICB9XG5cbiAgICBzZXRBY3Rpb25IYW5kbGVyKGZuKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGZuO1xuICAgIH1cblxuICAgIHNldERhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJpZFwiOiB0aGlzLmlkLFxuICAgICAgICAgICAgXCJuYW1lXCI6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIFwiYWN0aW9uSGFuZGxlclwiOiB0aGlzLmFjdGlvbkhhbmRsZXIsXG4gICAgICAgICAgICBcImRhdGFcIjogdGhpcy5kYXRhXG4gICAgICAgIH07XG4gICAgfVxuIH1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50cyB7XG4gICAgY29uc3RydWN0b3IoaWQ9XCJcIiwgbmFtZT1cIlwiLCBsaXN0PVtdKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICBhZGQocGFuZWxDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5saXN0LnB1c2gocGFuZWxDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJlbW92ZShwYW5lbENvbXBvbmVudCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0aGlzLmxpc3RbaV0uaWQgPT09IHBhbmVsQ29tcG9uZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgZ2V0TGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdDtcbiAgICB9XG5cbiAgICBzZXQoaWQsIG5hbWUsIGxpc3QpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmxpc3QgPSBsaXN0O1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIHNldElkKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICBzZXRMaXN0KGxpc3QpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgbGlzdDogdGhpcy5saXN0XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbn0iLCJpbXBvcnQgTW9kZSBmcm9tICcuL21vZGUuanMnO1xuaW1wb3J0ICogYXMgUmVxdWVzdCBmcm9tICcuLi9tb2R1bGVzL3JlcXVlc3QuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3aXR0ZXIgZXh0ZW5kcyBNb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUpO1xuICAgIH1cblxuICAgIHR1cm5PblNvY2tldChzb2NrZXQsIGNoYW5uZWwsIHBhcmFtcykge1xuICAgICAgICBzb2NrZXQuZW1pdChjaGFubmVsLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIGdldERhdGEodXJsLCB0d2l0RGF0YSkge1xuICAgICAgICAvLyB1cmwgPSBQYXRocy5nZXRUd2l0RGF0YSgpXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIFJlcXVlc3QucG9zdFJlcXVlc3QodXJsLCB0d2l0RGF0YSlcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBNYXAgZnJvbSAnLi9tb2R1bGVzL21hcC5qcyc7XG5pbXBvcnQgKiBhcyB1aSBmcm9tICcuL21vZHVsZXMvdWkuanMnO1xuaW1wb3J0ICogYXMgUmVxdWVzdCBmcm9tICcuL21vZHVsZXMvcmVxdWVzdC5qcyc7XG5pbXBvcnQgKiBhcyBQYXRocyBmcm9tICcuL21vZHVsZXMvcGF0aHMuanMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9tb2R1bGVzL3V0aWxzLmpzJztcbmltcG9ydCAqIGFzIEdyYXBoT3BzIGZyb20gJy4vbW9kdWxlcy9tYXBvcHMuanMnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vbW9kdWxlcy9jb25zdGFudHMuanMnO1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2UuanMnO1xuaW1wb3J0IFN0b3JhZ2VTeXN0ZW0gZnJvbSAnLi9jbGFzc2VzL3N0b3JhZ2VzeXN0ZW0uanMnO1xuaW1wb3J0IFBhbmVsQ29tcG9uZW50IGZyb20gJy4vY2xhc3Nlcy9wYW5lbGNvbXBvbmVudC5qcyc7XG5pbXBvcnQgQ29tcG9uZW50cyBmcm9tICcuL2NsYXNzZXMvY29tcG9uZW50cy5qcyc7XG5pbXBvcnQgVHdpdHRlciBmcm9tICcuL2NsYXNzZXMvdHdpdHRlci5qcyc7XG5cblxuLy8gQWN0aW9uXG4kKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzdG9yYWdlU3lzdGVtID0gbmV3IFN0b3JhZ2VTeXN0ZW0od2luZG93LmxvY2FsU3RvcmFnZSk7XG4gICAgY29uc3QgdHdpdHRlciA9IG5ldyBUd2l0dGVyKCd0d2l0dGVyJyk7XG4gICAgY29uc29sZS5sb2coJ3R3aXR0ZXInLCB0d2l0dGVyKTtcbiAgICBjb25zdCBUV0lUVEVSX01PREVTID0gY29uc3RhbnRzLk1BSU4uVFdJVFRFUl9NT0RFUztcbiAgICBjb25zdCBUV0lUVEVSX01PREVTX0lOREVYID0gY29uc3RhbnRzLk1BSU4uVFdJVFRFUl9NT0RFU19JTkRFWDtcblxuICAgIGxldCBzb2NrZXQgPSBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvJyk7XG5cbiAgICBsZXQgY3BPcGVuLFxuICAgICAgICB0cmFja2VyLFxuICAgICAgICBjcFJpZ2h0TGlzdCA9W107XG5cbiAgICBsZXQgcmlnaHRDb21wb25lbnRzID0gbmV3IENvbXBvbmVudHMoKTtcblxuICAgIC8qIElOVFJPIExPQURFUiBDT0RFICovXG4gICAgJCgoKSA9PiB7XG4gICAgICAgIGlmKCFzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2ZpcnN0VmlzaXQnKSkge1xuICAgICAgICAgICAgdWkuZmFkZU91dCgnI2luaXRMb2FkZXInLCAzMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdWkucmVtb3ZlRWxlbWVudCgnI2luaXRMb2FkZXInKTtcbiAgICAgICAgICAgICAgICB1aS5tYWtlVmlzaWJsZSgnI21haW5XcmFwcGVyJywgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdWkuZmFkZU91dCgnI2luaXRMb2FkZXInLCA1NTAsICgpID0+IHtcbiAgICAgICAgICAgICAgICB1aS5yZW1vdmVFbGVtZW50KCcjaW5pdExvYWRlcicpO1xuICAgICAgICAgICAgICAgIHVpLm1ha2VWaXNpYmxlKCcjbWFpbldyYXBwZXInLCA1MDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0b3JhZ2VTeXN0ZW0uc2V0SXRlbSgnZmlyc3RWaXNpdCcsIHRydWUpO1xuXG4gICAgY3BPcGVuID0gc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdjcE9wZW4nKTtcbiAgICBjb25zb2xlLmxvZygnY3BPcGVuOjo6JywgY3BPcGVuKTtcbiAgICBpZihjcE9wZW4gPT0gJ2ZhbHNlJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNob3VsZCBzbGlkZTogY3BPcGVuXCIsIGNwT3Blbik7XG4gICAgICAgIHVpLnNsaWRlVG9nZ2xlQ3AoJ2NvbnRyb2xQYW5lbFdyYXBwZXInLCBNYXApO1xuICAgIH1cblxuICAgIHVpLmFkZEV2ZW50TGlzdGVuZXJUbygndG9nZ2xlU2xpZGVyQnRuJywgJ2NsaWNrJywgKGV2ZW50KSA9PiB1aS5zbGlkZVRvZ2dsZUNwKCdjb250cm9sUGFuZWxXcmFwcGVyJywgTWFwKSk7XG5cbiAgICBuZXcgTC5Db250cm9sLkdQbGFjZUF1dG9jb21wbGV0ZSh7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2NhdGlvbiBnaXZlbjonLCBsb2NhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBsYXQgPSBsb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGxuZyA9IGxvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuXG4gICAgICAgICAgICAvLyBjb25zdCBzYW5GcmFuY2lzY28gPSBbICctMTIyLjc1LCAzNi44LCAtMTIxLjc1LCAzNy44JyBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdExvY2F0aW9uID0gW2Ake2xuZ30sICR7bGF0fSwgJHtsbmcrMX0sICR7bGF0KzF9YF07XG5cbiAgICAgICAgICAgIHN0b3JhZ2VTeXN0ZW0uc2V0UmF3SXRlbSgnbGFzdExvY2F0aW9uJywgbGFzdExvY2F0aW9uKTtcbiAgICAgICAgICAgIE1hcC5zZXRWaWV3KFtsYXQsIGxuZ10sIDgsIHthbmltYXRlOiB0cnVlLCBkdXJhdGlvbjogMi4wfSk7XG4gICAgICAgIH1cbiAgICB9KS5hZGRUbyhNYXApO1xuXG4gICAgc29ja2V0Lm9uKCd0d2VldCcsICh0d2VldCkgPT4ge1xuICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSB0d2VldC5wbGFjZSA/IHR3ZWV0LnBsYWNlLmJvdW5kaW5nX2JveC5jb29yZGluYXRlc1swXVsxXSA6IG51bGw7XG4gICAgICAgIGlmKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IHR3ZWV0LnBsYWNlLmJvdW5kaW5nX2JveC5jb29yZGluYXRlc1swXVsxXTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB0d2VldC51c2VyO1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHR3ZWV0LnRleHQ7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHR3ZWV0LmlkO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZF9hdCA9IHR3ZWV0LmNyZWF0ZWRfYXQ7XG4gICAgICAgICAgICBjb25zdCBtbHNUaW1lID0gdHdlZXQudGltZXN0YW1wX21zO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0LFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIG1sc1RpbWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIEdyYXBoT3BzLmRyYXdPYmplY3QoZGF0YSwgY29vcmRpbmF0ZXMsICd0d2l0dGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGFzc2VkIHR3ZWV0IHdpdGggbm8gY29vcmRpbmF0ZXMnLCB0d2VldCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gZ2V0SW5mb0Jhc2VkT25DaG9zZW5Nb2RlKG1vZGUsIHF1ZXJ5LCBsYXN0TG9jYXRpb24sIHR3aXREYXRhKSB7XG4gICAgICAgIHN3aXRjaChtb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdyZWFsX3RpbWUnOlxuICAgICAgICAgICAgICAgIHR3aXR0ZXIudHVybk9uU29ja2V0KHNvY2tldCwgJ3RvcGljJywge3RvcGljOiBxdWVyeSwgbG9jYXRpb246IGxhc3RMb2NhdGlvbn0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3BlY2lmaWVkX3RpbWUnOlxuICAgICAgICAgICAgICAgIHR3aXR0ZXIuZ2V0RGF0YShQYXRocy5nZXRUd2l0RGF0YSgpLCB0d2l0RGF0YSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4gY29uc29sZS5sb2coZGF0YSkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IG5ldyBFcnJvcignZXJyJywgZXJyKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub25lIG9mIHRoZSBtb2RlcyBzZWxlY3RlZCcpO1xuXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHVpLm9uU3VibWl0KCcjcXVlcnlTZWFyY2hGb3JtJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdWkuZ2V0SW5wdXRWYWx1ZSgnI3F1ZXJ5U2VhcmNoJyk7XG4gICAgICAgIGNvbnN0IGxhdCA9IE1hcC5nZXRDZW50ZXIoKS5sYXQ7XG4gICAgICAgIGNvbnN0IGxuZyA9IE1hcC5nZXRDZW50ZXIoKS5sbmc7XG4gICAgICAgIGNvbnN0IHR3aXREYXRhID0ge3E6IHF1ZXJ5LCBnZW9jb2RlOiBbbGF0LCBsbmddLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgbGV0IGxhc3RMb2NhdGlvbiA9IFtgJHtsbmd9LCAke2xhdH0sICR7bG5nKzF9LCAke2xhdCsxfWBdO1xuXG4gICAgICAgIGlmKFIuaXNOaWwoc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdsYXN0TG9jYXRpb24nKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3Qgc2VsZWN0ZWQuIHR3aXREYXRhOicsIHR3aXREYXRhKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IHRlc3RUd2l0RGF0YUl0ZW1UZXN0ID0ge3E6ICd0cnVtcCcsIGdlb2NvZGU6IFszNy43NzQ5LCAtMTIyLjQxOTRdLCByYWRpdXM6ICcyNW1pJ307XG5cbiAgICAgICAgICAgIGdldEluZm9CYXNlZE9uQ2hvc2VuTW9kZSgnc3BlY2lmaWVkX3RpbWUnLCBxdWVyeSwgbGFzdExvY2F0aW9uLCB0d2l0RGF0YSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeGlzdHMnLCBsYXN0TG9jYXRpb24pO1xuXG4gICAgICAgICAgICAvKipcblxuICAgICAgICAgICAgICAgIFRPRE86XG4gICAgICAgICAgICAgICAgLSBUaGlzIGlzIGZvciBHZW5lcmFsIGFuZCBTZWxlY3RpdmUgdGltaW5nXG4gICAgICAgICAgICAgICAgLSBHZXQgZGF0YSBwb2ludHMgYW5kIGRyYXcgdGhlbSBvbiB0aGUgbWFwXG5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gY29uc3QgZmlyc3QgPSBHcmFwaE9wcy5nZW5lcmF0ZVJlc3VsdHMoWzEsIDIsIDMsIDRdKTtcbiAgICAgICAgICAgIC8vIGZpcnN0KGxhc3RMb2NhdGlvbik7XG5cbiAgICAgICAgICAgIC8qKlxuXG4gICAgICAgICAgICAgICAgVE9ETzpcbiAgICAgICAgICAgICAgICAtIFRoaXMgcG9ydGlvbiBvZiBjb2RlIGlzIGZvciBTb2NrZXQuaW8vcmVhbCB0aW1lIHR3ZWV0IHN0cmVhbWluZ1xuICAgICAgICAgICAgICAgIC0gR2V0IGxvY2F0aW9uIGFuZCBxdWVyeSBhbmQgc3RhcnQgY29ubmVjdGluZyB0byB0aGUgc29ja2V0XG5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2V0SW5mb0Jhc2VkT25DaG9zZW5Nb2RlKCdzcGVjaWZpZWRfdGltZScsIHF1ZXJ5LCBsYXN0TG9jYXRpb24sIHR3aXREYXRhKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBsYXN0IGxvY2F0aW9uIGlzIHNhdmVkXG4gICAgICAgIHN0b3JhZ2VTeXN0ZW0uc2V0UmF3SXRlbSgnbGFzdExvY2F0aW9uJywgbGFzdExvY2F0aW9uKTtcblxuICAgICAgICAvLyBvbmNlIHF1ZXJ5IHNlbGVjdGVkOlxuICAgICAgICAvLyBjaGVjayBpZiBsb2NhdGlvbiBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgIC8vIGlmIHllcywgdGhlbiBnbyB0byB0aGF0IGxvY2F0aW9uXG4gICAgICAgIC8vICAgICAgICAgIGFuZCBzaG93IHRoZSByZXN1bHRzXG4gICAgICAgIC8vIGlmIG5vLCB0aGVuIGdldCB0aGUgY2VudGVyIG9mIHRoZSBjdXJyZW50XG4gICAgICAgIC8vICAgICAgICBsb2NhdGlvbiBvZiB0aGUgc2NyZWVuIGFuZCBzaG93IHRoZSByZXN1bHRzLlxuICAgICAgICAvL1xuICAgIH0pO1xuXG4gICAgLy8gZ2VuZXJhdGlvblxuICAgIC8vIHVpLmdlbmVyYXRlQ3BSaWdodFBhbmVsKCcjcGFuZWxXcmFwcGVyJywge30pO1xuXG4gICAgLy8gVGVzdGluZyBhcmVhXG4gICAgbGV0IHRlc3RHZW8gPSAnLTI1LjI3NDQsLTEzMy43NzUxJzsgLy8gQXVzdHJhbGlhXG4gICAgLy8gY29uc29sZS5sb2coJ1BhdGg6JywgUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKTtcbiAgICBjb25zb2xlLmxvZyhQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpO1xuICAgIFJlcXVlc3QuZ2V0UmVxdWVzdChQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYoZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICBsZXQgbGlzdE9mVHJlbmRzID0gZGF0YS5kYXRhLnRyZW5kcztcbiAgICAgICAgICAgIGxldCBnZW9EYXRhID0gZGF0YS5nZW87XG5cbiAgICAgICAgICAgICQoXCIjcXVlcnlTZWFyY2hcIikuZWFzeUF1dG9jb21wbGV0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbGlzdE9mVHJlbmRzLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblNob3dMaXN0RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoKHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjYXNlICdmYWxzZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLmFkZENsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAkKCcuZWFzeS1hdXRvY29tcGxldGUtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2F1dG9jb21wbGV0ZS10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdjcE9wZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuYWRkQ2xhc3MoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInLCAnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkucmVtb3ZlQ2xhc3MoJy5lYXN5LWF1dG9jb21wbGV0ZS1jb250YWluZXInLCAnYXV0b2NvbXBsZXRlLXRvcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aS5yZW1vdmVDbGFzcygnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicsICdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25LZXlFbnRlckV2ZW50OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRlbXBsYXRlOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiY3VzdG9tXCJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gbWV0aG9kOiBmdW5jdGlvbih2YWx1ZSwgaXRlbSkge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgcmV0dXJuIFwiPGltZyBzcmM9J1wiICsgaXRlbS5pY29uICsgXCInIC8+IHwgXCIgKyBpdGVtLnR5cGUgKyBcIiB8IFwiICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBkYXRhXCIsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgIC8vICAgICB1aS5hZGRFbGVtZW50VG9QYW5lbFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAoXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICB7fSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgIFwiQnV0dG9uIFwiICsgaSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICQoJzxhPjwvYT4nKSxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICdtZW51IGJ0biBidG4tc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgICAgICdjb2wtbGctNCdcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgKTtcbiAgICAgICAgICAgIC8vICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vICAgICAvLyB1bmRlZmluZWQgYnkgZGVmYXVsdCB3aWxsIHBsYWNlICdkaXYnIGVsZW1lbnRcblxuICAgICAgICAgICAgLy8gICAgIC8vIHVpLmFkZEVsZW1lbnRUbygnJylcblxuICAgICAgICAgICAgLy8gfSgpKTtcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1Nob3VsZCByZWFjaCBoZXJlLi4uJyk7XG4gICAgICAgICAgICAvLyBsZXQgZHJvcGRvd24gPSB1aS5hZGRDb250YWluZXJUb0NvbnRhaW5lcignI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsICdmYXZvcml0ZXMnLCB1bmRlZmluZWQsICdkcm9wZG93biBzaG93Jyk7XG4gICAgICAgICAgICAvLyBsZXQgJGEgPSB1aS5hZGRDb250YWluZXJUb0NvbnRhaW5lcihkcm9wZG93bi5hdHRyKCdpZCcpLCB1bmRlZmluZWQsICQoJzxhPicpLCAnYnRuIGJ0bi1zZWNvbmRhcnkgZHJvcGRvd24tdG9nZ2xlJyk7XG4gICAgICAgICAgICAvLyB1aS5hZGRUZXh0VG8oJGEsICRhLmF0dHIoJ2lkJykpO1xuXG4gICAgICAgICAgICAvL3RhcmdldCwgZHJvcGRvd25OYW1lLCBkcm9wZG93bklELCBkYXRhTGlzdFxuXG5cbiAgICAgICAgICAgIGxldCBwYW5lbENvbXAxID0gbmV3IFBhbmVsQ29tcG9uZW50KCcjdG9wVGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAxMCBUd2VldHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe2NvbnNvbGUubG9nKCdoaScpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcIm5hbWVcIjpcImRhbGVyXCJ9LCB7XCJuYW1lXCI6XCJtaWNoYWVsXCJ9XSk7XG4gICAgICAgICAgICBsZXQgcGFuZWxDb21wMiA9IG5ldyBQYW5lbENvbXBvbmVudCgnI3RvcFR3ZW50eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVG9wIDEwIFJldHdlZXRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ2hpJyl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcImxhc3RuYW1lXCI6XCJhc3Jvcm92XCJ9LCB7XCJsYXN0bmFtZVwiOlwiam9qb1wifV0pO1xuICAgICAgICAgICAgbGV0IHBhbmVsQ29tcDMgPSBuZXcgUGFuZWxDb21wb25lbnQoJyN0b3BUaGlydHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAzMCBSZXR3ZWV0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpeyBjb25zb2xlLmxvZygnaGknKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcImpvcmdlXCI6XCJxdWVyb1wifSwge1wic2FuZHJvXCI6XCJib2xvXCJ9XSk7XG5cbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5hZGQocGFuZWxDb21wMSk7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuYWRkKHBhbmVsQ29tcDIpO1xuICAgICAgICAgICAgcmlnaHRDb21wb25lbnRzLmFkZChwYW5lbENvbXAzKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5zZXROYW1lKCdTb2NpYWwgTWVkaWEnKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5zZXRJZCgnc29jTWVkaWEnKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYW5lbENvbXAgb2JqZWN0OlwiLCByaWdodENvbXBvbmVudHMpO1xuICAgICAgICAgICAgdWkuYXBwZW5kRHJvcERvd25Ub1BhbmVsKCcjcGFuZWxDb21wUmlnaHRXcmFwcGVyJywgcmlnaHRDb21wb25lbnRzKTtcblxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciByZXF1ZXN0XCIsIGVycik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBhcnJheU9mSW5kZXhlcyA9IFRXSVRURVJfTU9ERVMubWFwKChpdGVtLCBpbmRleCkgPT4gaW5kZXgpO1xuICAgIGNvbnN0IGFycmF5T2ZMYWJlbHMgPSBUV0lUVEVSX01PREVTLm1hcCgobW9kZSkgPT4gdXRpbHMudGl0bGVDYXNlKG1vZGUuc3BsaXQoJ18nKS5qb2luKCcgJykpKTtcbiAgICB1aS5hcHBlbmRSYW5nZVNsaWRlcignI3BhbmVsQ29tcE1pZGRsZScsICdyYW5nZS1zZWxlY3RvcicsICd0d2l0dGVyTW9kZXMnLCB7XG4gICAgICAgIHRpY2tzOiBhcnJheU9mSW5kZXhlcyxcbiAgICAgICAgdGlja3NMYWJlbHM6IGFycmF5T2ZMYWJlbHMsXG4gICAgICAgIG1pbjogYXJyYXlPZkluZGV4ZXNbMF0sXG4gICAgICAgIG1heDogYXJyYXlPZkluZGV4ZXNbYXJyYXlPZkluZGV4ZXMubGVuZ3RoIC0gMV0sXG4gICAgICAgIHN0ZXA6IDEsXG4gICAgICAgIHZhbHVlOiBhcnJheU9mSW5kZXhlc1swXSxcbiAgICAgICAgdG9vbHRpcDogJ2hpZGUnLFxuICAgICAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKHNsaWRlRXZ0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW9kZSA9IHNsaWRlRXZ0LnZhbHVlLm5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZNb2RlID0gc2xpZGVFdnQudmFsdWUub2xkVmFsdWU7XG4gICAgICAgICAgICAgICAgc3dpdGNoKG5ld01vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUV0lUVEVSX01PREVTX0lOREVYWydyZWFsX3RpbWUnXTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRXSVRURVJfTU9ERVNfSU5ERVhbJ3NwZWNpZmllZF90aW1lJ106XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGxvY2F0aW9uIGRhdGEgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgcmV0dXJuIGxvY2F0aW9uIGZyb20gY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgc3RvcmUgbG9jYXRpb24gaW4gY2FjaGUgaW4gKGtleSwgdmFsdWUpIHBhaXIgd2hlcmUga2V5IGlzIGxvY2F0aW9uIGFuZCB2YWx1ZSBpcyB0d2VldHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgcmV0dXJuIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHVpLmdldElucHV0VmFsdWUoJyNxdWVyeVNlYXJjaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGF0ID0gTWFwLmdldENlbnRlcigpLmxhdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxuZyA9IE1hcC5nZXRDZW50ZXIoKS5sbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0d2l0RGF0YSA9IHtxOiBxdWVyeSwgZ2VvY29kZTogW2xhdCwgbG5nXSwgcmFkaXVzOiAnMjVtaSd9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHdpdHRlci5nZXREYXRhKFBhdGhzLmdldFR3aXREYXRhKCksIHR3aXREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vbmUgc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXZlbnQ6IGNoYW5nZS4gU2xpZGVyIG9iamVjdCcsIHNsaWRlRXZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmVxdWVzdC5nZXRSZXF1ZXN0KFV0aWxzLmdldFRyZW5kc1BsYWNlcyhsYXQsIGxvbmcpKcOlXG4gICAgLy8gICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIlRyZW5kcyBEYXRhXCIpO1xuICAgIC8vICAgICB9KVxuXG4gICAgLy8gcG9zdCByZXF1ZXN0IHRlc3RpbmdcblxuXG59KTtcbiJdLCJuYW1lcyI6WyJtYXBMYXllciIsIk1RIiwibWFpbk1hcCIsIkwiLCJtYXAiLCJjb250cm9sIiwibGF5ZXJzIiwiaHlicmlkTGF5ZXIiLCJzYXRlbGxpdGVMYXllciIsImRhcmtMYXllciIsImxpZ2h0TGF5ZXIiLCJhZGRUbyIsIlN0b3JhZ2UiLCJrZXkiLCJ2YWx1ZSIsIlN0b3JhZ2VTeXN0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJfbG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzbGlkZVRvZ2dsZUNwIiwidGFyZ2V0SUQiLCJoZWlnaHRTZXR0ZXJJRCIsImNwRGVmYXVsdEhlaWdodCIsImNwTmF2SGVpZ2h0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm9mZnNldEhlaWdodCIsInRvU3RyaW5nIiwiY3BXcmFwcGVySGVpZ2h0Iiwic2xpZGluZ1RpbWUiLCJkZWZhdWx0VG9wIiwiJHF1ZXJ5U2VhcmNoRm9ybSIsIiQiLCIkdGFyZ2V0IiwiJGJvZHkiLCIkc2xpZGVTd2l0Y2hJY29uIiwic3RvcmFnZVN5c3RlbSIsIndpbmRvdyIsImNzcyIsImFuaW1hdGUiLCJoZWlnaHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaW52YWxpZGF0ZVNpemUiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyVG8iLCJ0eXBlIiwiZm4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRWxlbWVudCIsInJlbW92ZSIsImZhZGVPdXQiLCJ0aW1lciIsImNhbGxiYWNrIiwibWFrZVZpc2libGUiLCJvcGFjaXR5IiwidmlzaWJpbGl0eSIsImFwcGVuZERyb3BEb3duVG8iLCJkcm9wZG93bk5hbWUiLCJkcm9wZG93bklEIiwiYWN0aW9uc0xpc3QiLCIkdGFyZ2V0UmVmIiwiYXBwZW5kIiwiJGRyb3Bkb3duIiwiZmluZCIsIiRkcm9wZG93blJlZiIsIiRsaXN0RGl2IiwiYWN0aW9uIiwiaW5kZXgiLCJpZCIsIm5hbWUiLCJhcHBlbmRSYW5nZVNsaWRlciIsImNvbnRhaW5lciIsImRpdkNsYXNzIiwiaW5wdXRJZCIsInBhcmFtcyIsIm5ld1JhbmdlU2xpZGVyIiwicmFuZ2VJbnB1dCIsInNsaWRlciIsInRpY2tzIiwidGlja3NMYWJlbHMiLCJtaW4iLCJtYXgiLCJzdGVwIiwidG9vbHRpcCIsIk9iamVjdCIsImVudHJpZXMiLCJldmVudEhhbmRsZXJzIiwib24iLCJsb2ciLCJhcHBlbmRUbyIsImVsZW1lbnQiLCJhcHBlbmREcm9wRG93blRvUGFuZWwiLCJjb21wb25lbnRzQ2xhc3MiLCJsaXN0Iiwib25TdWJtaXQiLCJzdWJtaXQiLCJnZXRJbnB1dFZhbHVlIiwidmFsIiwiZ2V0UmVxdWVzdCIsInVybCIsIlByb21pc2UiLCJyZXMiLCJyZWoiLCJnZXQiLCJkYXRhIiwic3RhdHVzIiwicG9zdFJlcXVlc3QiLCJpbmZvIiwicG9zdCIsImdldEdlb1RyZW5kcyIsImxhdExvbmdTdHJpbmciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImdldFR3aXREYXRhIiwidGl0bGVDYXNlIiwic3RyIiwiZXNjYXBlUmVnIiwicyIsInJlcGxhY2UiLCJjIiwid29yZFBhdHRlcm4iLCJSZWdFeHAiLCJyZXN1bHQiLCJjYXBpdGFsaXplIiwibGVuZ3RoIiwidG9VcHBlckNhc2UiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwiTUFJTiIsIklNQUdFUyIsImNyZWF0ZUljb24iLCJpY29uVXJsIiwic2hhZG93VXJsIiwiaWNvblNpemUiLCJzaGFkb3dTaXplIiwiaWNvbkFuY2hvciIsInNoYWRvd0ljb24iLCJwb3B1cEFuY2hvciIsInR3aXR0ZXJJY29uIiwiaWNvbiIsImdlbmVyYXRlUmVzdWx0cyIsIlIiLCJjdXJyeSIsImdlbyIsInBpcGUiLCJkcmF3TWFya2VyIiwicG9pbnREYXRhIiwiTWFwRWxlbWVudHMiLCJTT0NfTUVESUFfSUNPTlMiLCJUV0lUVEVSIiwibWFya2VyIiwiTWFwIiwiZHJhd09iamVjdCIsImdlb2xvY2F0aW9uIiwiaWNvblR5cGUiLCJQYW5lbENvbXBvbmVudCIsImFjdGlvbkhhbmRsZXIiLCJhc2NlbmRpbmciLCJzb3J0ZWREYXRhIiwiZGVzY0NvbXBhcmF0b3IiLCJjb21wYXJhdG9yIiwiYSIsImIiLCJndCIsInByb3AiLCJzb3J0QnkiLCJzb3J0IiwibGltaXQiLCJmb3JtYXR0ZWQiLCJnZXRTb3J0ZWREYXRhQnkiLCJDb21wb25lbnRzIiwicGFuZWxDb21wb25lbnQiLCJwdXNoIiwiaSIsInNwbGljZSIsIk1vZGUiLCJUd2l0dGVyIiwic29ja2V0IiwiY2hhbm5lbCIsImVtaXQiLCJ0d2l0RGF0YSIsInRoZW4iLCJjYXRjaCIsImVyciIsImxvYWQiLCJ0d2l0dGVyIiwiVFdJVFRFUl9NT0RFUyIsImNvbnN0YW50cyIsIlRXSVRURVJfTU9ERVNfSU5ERVgiLCJpbyIsImNvbm5lY3QiLCJjcE9wZW4iLCJ0cmFja2VyIiwiY3BSaWdodExpc3QiLCJyaWdodENvbXBvbmVudHMiLCJldmVudCIsInVpIiwiQ29udHJvbCIsIkdQbGFjZUF1dG9jb21wbGV0ZSIsImxhdCIsImdlb21ldHJ5IiwibG5nIiwibGFzdExvY2F0aW9uIiwic2V0UmF3SXRlbSIsInNldFZpZXciLCJkdXJhdGlvbiIsInR3ZWV0IiwiY29vcmRpbmF0ZXMiLCJwbGFjZSIsImJvdW5kaW5nX2JveCIsInVzZXIiLCJ0ZXh0IiwiY3JlYXRlZF9hdCIsIm1sc1RpbWUiLCJ0aW1lc3RhbXBfbXMiLCJnZXRJbmZvQmFzZWRPbkNob3Nlbk1vZGUiLCJtb2RlIiwicXVlcnkiLCJ0dXJuT25Tb2NrZXQiLCJ0b3BpYyIsImdldERhdGEiLCJQYXRocyIsImNvbnNvbGUiLCJFcnJvciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImdldENlbnRlciIsInEiLCJnZW9jb2RlIiwicmFkaXVzIiwiaXNOaWwiLCJ0ZXN0R2VvIiwibGlzdE9mVHJlbmRzIiwidHJlbmRzIiwiZ2VvRGF0YSIsImVhc3lBdXRvY29tcGxldGUiLCJwYW5lbENvbXAxIiwicGFuZWxDb21wMiIsInBhbmVsQ29tcDMiLCJhZGQiLCJzZXROYW1lIiwic2V0SWQiLCJhcnJheU9mSW5kZXhlcyIsIml0ZW0iLCJhcnJheU9mTGFiZWxzIiwidXRpbHMiLCJzcGxpdCIsImpvaW4iLCJzbGlkZUV2dCIsIm5ld01vZGUiLCJuZXdWYWx1ZSIsInByZXZNb2RlIiwib2xkVmFsdWUiXSwibWFwcGluZ3MiOiI7OztBQUNBOzs7Ozs7OztBQVFBLElBQUlBLFdBQVdDLEdBQUdELFFBQUgsRUFBZjtJQUE4QkUsZ0JBQTlCOztBQUVBQSxVQUFVQyxFQUFFQyxHQUFGLENBQU0sWUFBTixFQUFvQjtVQUNsQkosUUFEa0I7VUFFbEIsQ0FBRSxTQUFGLEVBQWEsQ0FBQyxTQUFkLENBRmtCO1FBR3BCO0NBSEEsQ0FBVjs7QUFNQUcsRUFBRUUsT0FBRixDQUFVQyxNQUFWLENBQWlCO1NBQ1JOLFFBRFE7WUFFTEMsR0FBR00sV0FBSCxFQUZLO2VBR0ZOLEdBQUdPLGNBQUgsRUFIRTtVQUlQUCxHQUFHUSxTQUFILEVBSk87V0FLTlIsR0FBR1MsVUFBSDtDQUxYLEVBTUdDLEtBTkgsQ0FNU1QsT0FOVDs7QUFRQSxVQUFlQSxPQUFmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
