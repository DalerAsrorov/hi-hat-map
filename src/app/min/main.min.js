(function () {
'use strict';

// Initializing the map
// let mainMap = L.map('mapWrapper').setView([51.505, -0.09], 13);

// L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     maxZoom: 19,
//     attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
// }).addTo(mainMap);

var mapLayer = MQ.mapLayer();
var mainMap = void 0;

mainMap = L.map('mapWrapper', {
  layers: mapLayer,
  center: [40.731701, -73.993411],
  zoom: 12
});

L.control.layers({
  'Map': mapLayer,
  'Hybrid': MQ.hybridLayer(),
  'Satellite': MQ.satelliteLayer(),
  'Dark': MQ.darkLayer(),
  'Light': MQ.lightLayer()
}).addTo(mainMap);

var Map = mainMap;

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var StorageSystem = function () {
    function StorageSystem(localStorage) {
        classCallCheck(this, StorageSystem);

        this._localStorage = localStorage;
    }

    createClass(StorageSystem, [{
        key: "getItem",
        value: function getItem(key) {
            return this._localStorage.getItem(key);
        }
    }, {
        key: "setItem",
        value: function setItem(key, value) {
            this._localStorage.setItem(key, value);
        }
    }]);
    return StorageSystem;
}();

// UI Utils set
function slideToggleCp(targetID, map) {
    var heightSetterID = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'arrowPointerWrapper';
    var cpDefaultHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "35%";

    var cpNavHeight = document.getElementById(heightSetterID).offsetHeight.toString();
    var cpWrapperHeight = document.getElementById(targetID).offsetHeight.toString();
    var slidingTime = 270;
    var defaultTop = "-15px";
    var $querySearchForm = $('#querySearchForm');
    var $target = $('#' + targetID);
    var $body = $('body');
    var $slideSwitchIcon = $('#slideSwitchIcon');

    var storageSystem = new StorageSystem(window.localStorage);

    //
    if (cpWrapperHeight === cpNavHeight) {
        $body.css({ "overflowY": "auto" });
        $target.animate({ height: cpDefaultHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-15px"
        }, slidingTime);
        $slideSwitchIcon.addClass('fa-caret-down').removeClass('fa-caret-up');
        storageSystem.setItem("cpOpen", true);
    } else {
        $body.css({ "overflowY": "hidden" });
        $target.animate({ height: cpNavHeight }, slidingTime);
        $querySearchForm.animate({
            top: "-37px"
        }, slidingTime);
        map.invalidateSize();
        $slideSwitchIcon.addClass('fa-caret-up').removeClass('fa-caret-down');
        storageSystem.setItem("cpOpen", false);
    }
}

/**
*  Helper UI method that will keep the
*  control panel closed faster.
*/


/**
*   Based on the given target (div) and data (list of
*   available options), place a table (or list) of
*   widgets.
*/














// export function fadeOut(target, type, callbackHandler = function(){}) {
//     $(target).fadeOut(type, callbackHandler);
// }

function removeElement(target) {
    $(target).remove();
}



function fadeOut(target, timer, callback) {
    $(target).fadeOut(timer, function () {
        // $('#initLoader').remove();
        // $('#mainWrapper').css({opacity: 0.0, visibility: "visible"}).animate({opacity: 1}, 1000);
        callback();
    });
}

function makeVisible(target, timer) {
    $(target).css({ opacity: 0.0, visibility: "visible" }).animate({ opacity: 1 }, timer);
}

function appendDropDownTo(target, dropdownName, dropdownID, actionsList) {
    // console.log("HERE", dropdownName, " HERE ", dropdownID, " HERE ", actionsList);
    var $targetRef = $(target).append('<div class="dropdown" id=' + dropdownID + '></div>');
    var $dropdown = $(target).find('#' + dropdownID);
    $dropdown.append('<button class=\'btn btn-secondary dropdown-toggle\' type=\'button\' data-toggle="dropdown">' + dropdownName + '</button>');
    var $dropdownRef = $dropdown.append('<div class=\'dropdown-menu\' </div>');
    var $listDiv = $dropdownRef.find('.dropdown-menu');

    actionsList.map(function (action, index) {
        $listDiv.append('\n            <a class =\'dropdown-item\' id=\'' + action.id + '\' href=\'#\'> ' + action.name + ' </a>\n        ');
    });
    $dropdown.append($listDiv);
    $(target).append($dropdown);
}

function appendDropDownToPanel(target, componentsClass) {
    console.log("componentsClass.list:", componentsClass.list);
    appendDropDownTo(target, componentsClass.name, componentsClass.id, componentsClass.list);
}

function getRequest(url) {
    return new Promise(function (res, rej) {
        $.get(url, function (data, status) {

            if (status === 'success') {
                console.log("Success");
                res(data);
            } else {
                rej("Couldn't get the file.");
            }
        });
    });
}

function getGeoTrends(latLongString) {
    return window.location.origin + "/api/twitter/geotrends/" + latLongString;
}

/**
 *
 * Control class for handing control panel events
 *
 */

var PanelComponent = function () {
    function PanelComponent(id, name, actionHandler) {
        var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
        classCallCheck(this, PanelComponent);

        this.id = id;
        this.name = name;
        this.actionHandler = actionHandler;
        this.data = data;
    }

    createClass(PanelComponent, [{
        key: "getSotedDataBy",
        value: function getSotedDataBy(key) {
            var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var sortedData = void 0;
            var descComparator = R.comparator(function (a, b) {
                return R.gt(R.prop(key, a), R.prop(key, b));
            });

            sortedData = ascending ? R.sortBy(R.prop(key), this.data) : R.sort(descComparator, this.data);
            return data;
        }
    }, {
        key: "getTopN",
        value: function getTopN(limit, key) {
            var ascending = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            var formatted = getSortedDataBy(key, ascending);
            return R.slice(0, limit + 1, formatted);
        }
    }, {
        key: "getActionHandler",
        value: function getActionHandler() {
            return this.actionHandler;
        }
    }, {
        key: "getData",
        value: function getData() {
            return this.data;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName(name) {
            this.name = name;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(actionHandler) {
            this.actionHandler = actionHandler;
        }
    }, {
        key: "setActionHandler",
        value: function setActionHandler(fn) {
            this.actionHandler = fn;
        }
    }, {
        key: "setData",
        value: function setData(data) {
            this.data = data;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                "id": this.id,
                "name": this.name,
                "actionHandler": this.actionHandler,
                "data": this.data
            };
        }
    }]);
    return PanelComponent;
}();

var Components = function () {
    function Components() {
        var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
        var list = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
        classCallCheck(this, Components);

        this.id = id;
        this.name = name;
        this.list = list;
    }

    createClass(Components, [{
        key: "add",
        value: function add(panelComponent) {
            this.list.push(panelComponent);
        }
    }, {
        key: "get",
        value: function get$$1() {
            return this;
        }
    }, {
        key: "getId",
        value: function getId() {
            return this.id;
        }
    }, {
        key: "getName",
        value: function getName() {
            return this.name;
        }
    }, {
        key: "getList",
        value: function getList() {
            return this.list;
        }
    }, {
        key: "set",
        value: function set$$1(id, name, list) {
            this.id = id;
            this.name = name;
            this.list = list;
        }
    }, {
        key: "setName",
        value: function setName(name) {
            this.name = name;
        }
    }, {
        key: "setId",
        value: function setId(id) {
            this.id = id;
        }
    }, {
        key: "setList",
        value: function setList(list) {
            this.list = list;
        }
    }, {
        key: "toString",
        value: function toString() {
            return {
                id: this.id,
                name: this.name,
                list: this.list
            };
        }
    }]);
    return Components;
}();

// Action
$(window).load(function () {
    var storageSystem = new StorageSystem(window.localStorage);
    var socket = io.connect('http://localhost:8000/');
    var cpOpen = void 0,
        cpRightList = [];

    var rightComponents = new Components();

    console.log(storageSystem.getItem('firstVisit'));

    /* INTRO LOADER CODE */
    $(function () {
        if (!storageSystem.getItem('firstVisit')) {
            fadeOut('#initLoader', 3000, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        } else {
            fadeOut('#initLoader', 550, function () {
                removeElement('#initLoader');
                makeVisible('#mainWrapper', 500);
            });
        }
    });

    storageSystem.setItem('firstVisit', true);

    cpOpen = storageSystem.getItem('cpOpen');
    console.log('cpOpen:::', cpOpen);
    if (cpOpen == 'false') {
        console.log("Should slide: cpOpen", cpOpen);
        slideToggleCp('controlPanelWrapper', Map);
    }

    

    $('#toggleSliderBtn').on('click', function (event) {
        console.log('CLICKED');
        slideToggleCp('controlPanelWrapper', Map);
    });

    // let input = document.getElementById('pac-input')
    new L.Control.GPlaceAutocomplete({
        position: 'topright',
        callback: function callback(location) {
            // object of google place is given
            console.log('Location given:', location);
            var lat = location.geometry.location.lat();
            var lng = location.geometry.location.lng();
            Map.setView([lat, lng], 8);
            // Map.panTo(location);
        }
    }).addTo(Map);

    socket.on('tweet', function (tweet) {
        console.log('Tweet: ', tweet);
    });

    // generation
    // ui.generateCpRightPanel('#panelWrapper', {});

    // Testing area
    var testGeo = '-25.2744,-133.7751'; // Australia
    // console.log('Path:', Paths.getGeoTrends(testGeo));
    console.log(getGeoTrends(testGeo));
    getRequest(getGeoTrends(testGeo)).then(function (data) {
        if (data.data) {
            var listOfTrends = data.data.trends;
            var geoData = data.geo;

            $("#querySearch").easyAutocomplete({
                data: listOfTrends,
                getValue: 'name',
                list: {
                    match: {
                        enabled: true
                    },
                    onShowListEvent: function onShowListEvent() {
                        switch (storageSystem.getItem('cpOpen')) {
                            case 'false':
                                $('.easy-autocomplete-container').addClass('autocomplete-top');
                                break;
                            case 'true':
                                $('.easy-autocomplete-container').removeClass('autocomplete-top');
                                break;
                            default:
                                $('.easy-autocomplete-container').removeClass('autocomplete-top');
                        }
                    }
                }
                // template: {
                //     type: "custom"
                //     // method: function(value, item) {
                //     //     return "<img src='" + item.icon + "' /> | " + item.type + " | " + value;
                //     // }
                // }
            });
        } else {
            console.log("no data", data);
        }

        // (function() {
        //     // for(let i = 0; i < 10; i++) {
        //     //     ui.addElementToPanel
        //     //     (
        //     //         '#panelCompRightWrapper',
        //     //         {},
        //     //         "Button " + i,
        //     //         $('<a></a>'),
        //     //         'menu btn btn-secondary',
        //     //         'col-lg-4'
        //     //     );
        //     // }

        //     // undefined by default will place 'div' element

        //     // ui.addElementTo('')

        // }());

        // console.log('Should reach here...');
        // let dropdown = ui.addContainerToContainer('#panelCompRightWrapper', 'favorites', undefined, 'dropdown show');
        // let $a = ui.addContainerToContainer(dropdown.attr('id'), undefined, $('<a>'), 'btn btn-secondary dropdown-toggle');
        // ui.addTextTo($a, $a.attr('id'));

        //target, dropdownName, dropdownID, dataList


        var panelComp1 = new PanelComponent('#topTen', 'Top 10 Tweets', function () {
            console.log('hi');
        }, [{ "name": "daler" }, { "name": "michael" }]);
        var panelComp2 = new PanelComponent('#topTwenty', 'Top 10 Retweets', function () {
            console.log('hi');
        }, [{ "lastname": "asrorov" }, { "lastname": "jojo" }]);
        rightComponents.add(panelComp1);
        rightComponents.add(panelComp2);
        rightComponents.setName('Social Media');
        rightComponents.setId('socMedia');

        console.log("panelComp object:", rightComponents);
        appendDropDownToPanel('#panelCompRightWrapper', rightComponents);
    }).catch(function (err) {
        console.log("Error request", err);
    });

    // Request.getRequest(Utils.getTrendsPlaces(lat, long))
    //     .then((data) => {
    //         console.log("Trends Data");
    //     })
});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzIjpbIi4uL2pzL21vZHVsZXMvbWFwLmpzIiwiLi4vanMvY2xhc3Nlcy9zdG9yYWdlc3lzdGVtLmpzIiwiLi4vanMvbW9kdWxlcy91aS5qcyIsIi4uL2pzL21vZHVsZXMvcmVxdWVzdC5qcyIsIi4uL2pzL21vZHVsZXMvcGF0aHMuanMiLCIuLi9qcy9jbGFzc2VzL3BhbmVsY29tcG9uZW50LmpzIiwiLi4vanMvY2xhc3Nlcy9jb21wb25lbnRzLmpzIiwiLi4vanMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIEluaXRpYWxpemluZyB0aGUgbWFwXG4vLyBsZXQgbWFpbk1hcCA9IEwubWFwKCdtYXBXcmFwcGVyJykuc2V0VmlldyhbNTEuNTA1LCAtMC4wOV0sIDEzKTtcblxuLy8gTC50aWxlTGF5ZXIoJ2h0dHA6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7XG4vLyAgICAgbWF4Wm9vbTogMTksXG4vLyAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4nXG4vLyB9KS5hZGRUbyhtYWluTWFwKTtcblxubGV0IG1hcExheWVyID0gTVEubWFwTGF5ZXIoKSwgbWFpbk1hcDtcblxubWFpbk1hcCA9IEwubWFwKCdtYXBXcmFwcGVyJywge1xuICAgIGxheWVyczogbWFwTGF5ZXIsXG4gICAgY2VudGVyOiBbIDQwLjczMTcwMSwgLTczLjk5MzQxMSBdLFxuICAgIHpvb206IDEyXG59KTtcblxuTC5jb250cm9sLmxheWVycyh7XG4gICdNYXAnOiBtYXBMYXllcixcbiAgJ0h5YnJpZCc6IE1RLmh5YnJpZExheWVyKCksXG4gICdTYXRlbGxpdGUnOiBNUS5zYXRlbGxpdGVMYXllcigpLFxuICAnRGFyayc6IE1RLmRhcmtMYXllcigpLFxuICAnTGlnaHQnOiBNUS5saWdodExheWVyKClcbn0pLmFkZFRvKG1haW5NYXApO1xuXG5leHBvcnQgZGVmYXVsdCBtYWluTWFwO1xuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhbFN0b3JhZ2UsIC4uLnJlc3QpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlO1xuICAgIH1cblxuICAgIGdldEl0ZW0oa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIH1cblxuICAgIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9XG59IiwiLy8gVUkgVXRpbHMgc2V0XG5pbXBvcnQgU3RvcmFnZVN5c3RlbSBmcm9tICcuLy4uL2NsYXNzZXMvc3RvcmFnZXN5c3RlbS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGlkZVRvZ2dsZUNwKHRhcmdldElELCBtYXAsIGhlaWdodFNldHRlcklEID0gJ2Fycm93UG9pbnRlcldyYXBwZXInLCBjcERlZmF1bHRIZWlnaHQgPSBcIjM1JVwiLCAuLi5yZXN0KSB7XG4gICAgY29uc3QgY3BOYXZIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoZWlnaHRTZXR0ZXJJRCkub2Zmc2V0SGVpZ2h0LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgY3BXcmFwcGVySGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SUQpLm9mZnNldEhlaWdodC50b1N0cmluZygpO1xuICAgIGNvbnN0IHNsaWRpbmdUaW1lID0gMjcwO1xuICAgIGNvbnN0IGRlZmF1bHRUb3AgPSBcIi0xNXB4XCI7XG4gICAgY29uc3QgJHF1ZXJ5U2VhcmNoRm9ybSA9ICQoJyNxdWVyeVNlYXJjaEZvcm0nKTtcbiAgICBjb25zdCAkdGFyZ2V0ID0gJChgIyR7dGFyZ2V0SUR9YCk7XG4gICAgY29uc3QgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgY29uc3QgJHNsaWRlU3dpdGNoSWNvbiA9ICQoJyNzbGlkZVN3aXRjaEljb24nKTtcblxuICAgIGNvbnN0IHN0b3JhZ2VTeXN0ZW0gPSBuZXcgU3RvcmFnZVN5c3RlbSh3aW5kb3cubG9jYWxTdG9yYWdlKTtcblxuICAgIC8vXG4gICAgaWYoY3BXcmFwcGVySGVpZ2h0ID09PSBjcE5hdkhlaWdodCkge1xuICAgICAgICAkYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcERlZmF1bHRIZWlnaHR9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRxdWVyeVNlYXJjaEZvcm0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0b3A6IFwiLTE1cHhcIlxuICAgICAgICB9LCBzbGlkaW5nVGltZSk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKS5yZW1vdmVDbGFzcygnZmEtY2FyZXQtdXAnKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJGJvZHkuY3NzKHtcIm92ZXJmbG93WVwiOiBcImhpZGRlblwifSk7XG4gICAgICAgICR0YXJnZXQuYW5pbWF0ZSh7aGVpZ2h0OiBjcE5hdkhlaWdodH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgJHF1ZXJ5U2VhcmNoRm9ybS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRvcDogXCItMzdweFwiXG4gICAgICAgIH0sIHNsaWRpbmdUaW1lKTtcbiAgICAgICAgbWFwLmludmFsaWRhdGVTaXplKCk7XG4gICAgICAgICRzbGlkZVN3aXRjaEljb24uYWRkQ2xhc3MoJ2ZhLWNhcmV0LXVwJykucmVtb3ZlQ2xhc3MoJ2ZhLWNhcmV0LWRvd24nKTtcbiAgICAgICAgc3RvcmFnZVN5c3RlbS5zZXRJdGVtKFwiY3BPcGVuXCIsIGZhbHNlKTtcbiAgICB9XG59XG5cbi8qKlxuKiAgSGVscGVyIFVJIG1ldGhvZCB0aGF0IHdpbGwga2VlcCB0aGVcbiogIGNvbnRyb2wgcGFuZWwgY2xvc2VkIGZhc3Rlci5cbiovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3BDc3ModGFyZ2V0LCBoZWlnaHQsIGJvZHk9JCgnYm9keScpKSB7XG4gICAgYm9keS5jc3Moe1wib3ZlcmZsb3dZXCI6IFwiYXV0b1wifSk7XG4gICAgJHRhcmdldC5jc3Moe2hlaWdodDogY3BEZWZhdWx0SGVpZ2h0fSk7XG59XG5cbi8qKlxuKiAgIEJhc2VkIG9uIHRoZSBnaXZlbiB0YXJnZXQgKGRpdikgYW5kIGRhdGEgKGxpc3Qgb2ZcbiogICBhdmFpbGFibGUgb3B0aW9ucyksIHBsYWNlIGEgdGFibGUgKG9yIGxpc3QpIG9mXG4qICAgd2lkZ2V0cy5cbiovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDcFJpZ2h0UGFuZWwodGFyZ2V0LCBkYXRhKSB7XG4gICAgbGV0ICR0YXJnZXQgPSAkKHRhcmdldCk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAkdGFyZ2V0LmFwcGVuZFxuICAgICAgICAoXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC1sZy00XCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgIFwiU29tZXRoaW5nXCIgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWxlbWVudFRvUGFuZWwoXG4gICAgcGFuZWwsXG4gICAgZXZlbnRMaXN0ZW5lcixcbiAgICBodG1sSXRlbU5hbWUgPSAnJyxcbiAgICBodG1sSXRlbSA9ICQoJzxidXR0b24gdHlwZT1cImJ1dHRvblwiPjwvYnV0dG9uPicpLFxuICAgIGh0bWxJdGVtQ2xhc3MgPSAnbWVudScsXG4gICAgY29sdW1uU2l6ZSA9ICdjb2wtbGctNCcpIHtcblxuICAgIGxldCAkcGFuZWwgPSAkKHBhbmVsKTtcbiAgICBsZXQgJGh0bWxJdGVtID0gaHRtbEl0ZW07XG4gICAgbGV0ICRkaXZDb2wgPSAkKCc8ZGl2PjwvZGl2PicpO1xuXG4gICAgJGh0bWxJdGVtLmFkZENsYXNzKGh0bWxJdGVtQ2xhc3MpO1xuICAgICRodG1sSXRlbS5odG1sKCc8c3BhbiBjbGFzcz1cInJpZ2h0LWNwLW5hbWVcIj4nXG4gICAgICAgICAgICAgICAgICAgKyBodG1sSXRlbU5hbWUgKyAnPC9zcGFuPicpXG4gICAgJGRpdkNvbC5hZGRDbGFzcyhjb2x1bW5TaXplKTtcblxuICAgICRkaXZDb2wuYXBwZW5kKCRodG1sSXRlbSk7XG4gICAgJHBhbmVsLmFwcGVuZCgkZGl2Q29sKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVsZW1lbnRUbyh0YXJnZXQsIGVsZW1lbnQ9JCgnPGRpdj48L2Rpdj4nKSkge1xuICAgIGlmKHR5cGVvZiB0YXJnZXQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gJChgJHt0YXJnZXR9YCkuYXBwZW5kKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29udGFpbmVyVG9Db250YWluZXIocGFuZWwsIGlkPScnLCBjb250YWluZXI9JChgPGRpdiBpZD0ke2lkfT48L2Rpdj5gKSwgY2xhc3Nlcz0nJykge1xuICAgIGxldCBhZGRJZCA9IGNvbnRhaW5lci5hdHRyKCdpZCcpID8gY29udGFpbmVyLmF0dHIoJ2lkJykgOiBjb250YWluZXIuYXR0cignaWQnLCBgIyR7aWR9YCk7XG4gICAgYWRkQ2xhc3MoY29udGFpbmVyLCBjbGFzc2VzKTtcbiAgICAkKHBhbmVsKS5hcHBlbmQoY29udGFpbmVyKTtcbiAgICBjb25zb2xlLmxvZygnY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRleHRUbyh0YXJnZXQsIHRleHQpIHtcbiAgICBpZih0eXBlb2YgdGFyZ2V0ID09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnF1ZXJ5IHNob3VsZCBiZSBhcHBsaWVkIGRpcmVjdGx5XCIpO1xuICAgICAgICB0YXJnZXQuaHRtbCh0ZXh0KTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIHRhcmdldCA9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkl0J3MgaWRcIiwgdGFyZ2V0KTtcbiAgICAgICAgJCh0YXJnZXQpLmh0bWwodGV4dCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3ModGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGZhZGVPdXQodGFyZ2V0LCB0eXBlLCBjYWxsYmFja0hhbmRsZXIgPSBmdW5jdGlvbigpe30pIHtcbi8vICAgICAkKHRhcmdldCkuZmFkZU91dCh0eXBlLCBjYWxsYmFja0hhbmRsZXIpO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCh0YXJnZXQpIHtcbiAgICAkKHRhcmdldCkucmVtb3ZlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZSh0YXJnZXQsIHN0eWxlT2JqZWN0LCAuLi5yZXN0KSB7XG4gICAgcmV0dXJuICQodGFyZ2V0KS5jc3Moc3R5bGVPYmplY3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmFkZU91dCh0YXJnZXQsIHRpbWVyLCBjYWxsYmFjaykge1xuICAgICQodGFyZ2V0KS5mYWRlT3V0KHRpbWVyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gJCgnI2luaXRMb2FkZXInKS5yZW1vdmUoKTtcbiAgICAgICAgLy8gJCgnI21haW5XcmFwcGVyJykuY3NzKHtvcGFjaXR5OiAwLjAsIHZpc2liaWxpdHk6IFwidmlzaWJsZVwifSkuYW5pbWF0ZSh7b3BhY2l0eTogMX0sIDEwMDApO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVZpc2libGUodGFyZ2V0LCB0aW1lcikge1xuICAgICQodGFyZ2V0KS5jc3Moe29wYWNpdHk6IDAuMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgdGltZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmREcm9wRG93blRvKHRhcmdldCwgZHJvcGRvd25OYW1lLCBkcm9wZG93bklELCBhY3Rpb25zTGlzdCkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSEVSRVwiLCBkcm9wZG93bk5hbWUsIFwiIEhFUkUgXCIsIGRyb3Bkb3duSUQsIFwiIEhFUkUgXCIsIGFjdGlvbnNMaXN0KTtcbiAgICBsZXQgJHRhcmdldFJlZiA9ICQodGFyZ2V0KS5hcHBlbmQoYDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPSR7ZHJvcGRvd25JRH0+PC9kaXY+YCk7XG4gICAgbGV0ICRkcm9wZG93biA9ICQodGFyZ2V0KS5maW5kKGAjJHtkcm9wZG93bklEfWApO1xuICAgICRkcm9wZG93bi5hcHBlbmQoYDxidXR0b24gY2xhc3M9J2J0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZScgdHlwZT0nYnV0dG9uJyBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+YCArIGRyb3Bkb3duTmFtZSArIGA8L2J1dHRvbj5gKTtcbiAgICBsZXQgJGRyb3Bkb3duUmVmID0gJGRyb3Bkb3duLmFwcGVuZChgPGRpdiBjbGFzcz0nZHJvcGRvd24tbWVudScgPC9kaXY+YCk7XG4gICAgbGV0ICRsaXN0RGl2ID0gJGRyb3Bkb3duUmVmLmZpbmQoJy5kcm9wZG93bi1tZW51Jyk7XG5cbiAgICBhY3Rpb25zTGlzdC5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgJGxpc3REaXYuYXBwZW5kXG4gICAgICAgIChgXG4gICAgICAgICAgICA8YSBjbGFzcyA9J2Ryb3Bkb3duLWl0ZW0nIGlkPScke2FjdGlvbi5pZH0nIGhyZWY9JyMnPiAke2FjdGlvbi5uYW1lfSA8L2E+XG4gICAgICAgIGApXG4gICAgfSk7XG4gICAgJGRyb3Bkb3duLmFwcGVuZCgkbGlzdERpdik7XG4gICAgJCh0YXJnZXQpLmFwcGVuZCgkZHJvcGRvd24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kRHJvcERvd25Ub1BhbmVsKHRhcmdldCwgY29tcG9uZW50c0NsYXNzKSB7XG4gICAgY29uc29sZS5sb2coXCJjb21wb25lbnRzQ2xhc3MubGlzdDpcIiwgY29tcG9uZW50c0NsYXNzLmxpc3QpO1xuICAgIGFwcGVuZERyb3BEb3duVG8odGFyZ2V0LCBjb21wb25lbnRzQ2xhc3MubmFtZSwgY29tcG9uZW50c0NsYXNzLmlkLCBjb21wb25lbnRzQ2xhc3MubGlzdCk7XG59XG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgJC5nZXQodXJsLCAoZGF0YSwgc3RhdHVzKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzXCIpO1xuICAgICAgICAgICAgICAgIHJlcyhkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqKFwiQ291bGRuJ3QgZ2V0IHRoZSBmaWxlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59OyIsIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJlbmRzUGF0aCh3ZWlkKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL3RyZW5kcy8ke3dlaWR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlb1RyZW5kcyhsYXRMb25nU3RyaW5nKSB7XG4gICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2FwaS90d2l0dGVyL2dlb3RyZW5kcy8ke2xhdExvbmdTdHJpbmd9YDtcbn0iLCIvKipcbiAqXG4gKiBDb250cm9sIGNsYXNzIGZvciBoYW5kaW5nIGNvbnRyb2wgcGFuZWwgZXZlbnRzXG4gKlxuICovXG5cbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5lbENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIG5hbWUsIGFjdGlvbkhhbmRsZXIsIGRhdGE9W10pIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFjdGlvbkhhbmRsZXIgPSBhY3Rpb25IYW5kbGVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIGdldFNvdGVkRGF0YUJ5KGtleSwgYXNjZW5kaW5nPXRydWUpIHtcbiAgICAgICAgbGV0IHNvcnRlZERhdGE7XG4gICAgICAgIGNvbnN0IGRlc2NDb21wYXJhdG9yID0gUi5jb21wYXJhdG9yKChhLCBiKSA9PiBSLmd0KFIucHJvcChrZXksIGEpLCBSLnByb3Aoa2V5LCBiKSkpO1xuXG4gICAgICAgIHNvcnRlZERhdGEgPSBhc2NlbmRpbmcgPyBSLnNvcnRCeShSLnByb3Aoa2V5KSwgdGhpcy5kYXRhKSA6IFIuc29ydChkZXNjQ29tcGFyYXRvciwgdGhpcy5kYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZ2V0VG9wTihsaW1pdCwga2V5LCBhc2NlbmRpbmc9dHJ1ZSkge1xuICAgICAgICBsZXQgZm9ybWF0dGVkID0gZ2V0U29ydGVkRGF0YUJ5KGtleSwgYXNjZW5kaW5nKTtcbiAgICAgICAgcmV0dXJuIFIuc2xpY2UoMCwgbGltaXQgKyAxLCBmb3JtYXR0ZWQpO1xuICAgIH1cblxuICAgIGdldEFjdGlvbkhhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbkhhbmRsZXI7XG4gICAgfVxuXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9XG5cbiAgICBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgZ2V0TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgc2V0QWN0aW9uSGFuZGxlcihhY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlciA9IGFjdGlvbkhhbmRsZXI7XG4gICAgfVxuXG4gICAgc2V0QWN0aW9uSGFuZGxlcihmbikge1xuICAgICAgICB0aGlzLmFjdGlvbkhhbmRsZXIgPSBmbjtcbiAgICB9XG5cbiAgICBzZXREYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiaWRcIjogdGhpcy5pZCxcbiAgICAgICAgICAgIFwibmFtZVwiOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBcImFjdGlvbkhhbmRsZXJcIjogdGhpcy5hY3Rpb25IYW5kbGVyLFxuICAgICAgICAgICAgXCJkYXRhXCI6IHRoaXMuZGF0YVxuICAgICAgICB9O1xuICAgIH1cbiB9XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudHMge1xuICAgIGNvbnN0cnVjdG9yKGlkPVwiXCIsIG5hbWU9XCJcIiwgbGlzdD1bXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubGlzdCA9IGxpc3Q7XG4gICAgfVxuXG4gICAgYWRkKHBhbmVsQ29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMubGlzdC5wdXNoKHBhbmVsQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIGdldExpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3Q7XG4gICAgfVxuXG4gICAgc2V0KGlkLCBuYW1lLCBsaXN0KSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcbiAgICB9XG5cbiAgICBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzZXRJZChpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuXG4gICAgc2V0TGlzdChsaXN0KSB7XG4gICAgICAgIHRoaXMubGlzdCA9IGxpc3Q7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGxpc3Q6IHRoaXMubGlzdFxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgTWFwIGZyb20gJy4vbW9kdWxlcy9tYXAuanMnO1xuaW1wb3J0ICogYXMgdWkgZnJvbSAnLi9tb2R1bGVzL3VpLmpzJztcbmltcG9ydCAqIGFzIFJlcXVlc3QgZnJvbSAnLi9tb2R1bGVzL3JlcXVlc3QuanMnO1xuaW1wb3J0ICogYXMgUGF0aHMgZnJvbSAnLi9tb2R1bGVzL3BhdGhzLmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vbW9kdWxlcy91dGlscy5qcyc7XG5pbXBvcnQgU3RvcmFnZVN5c3RlbSBmcm9tICcuL2NsYXNzZXMvc3RvcmFnZXN5c3RlbS5qcyc7XG5pbXBvcnQgUGFuZWxDb21wb25lbnQgZnJvbSAnLi9jbGFzc2VzL3BhbmVsY29tcG9uZW50LmpzJztcbmltcG9ydCBDb21wb25lbnRzIGZyb20gJy4vY2xhc3Nlcy9jb21wb25lbnRzLmpzJztcblxuLy8gQWN0aW9uXG4kKHdpbmRvdykubG9hZCgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmFnZVN5c3RlbSA9IG5ldyBTdG9yYWdlU3lzdGVtKHdpbmRvdy5sb2NhbFN0b3JhZ2UpO1xuICAgIGxldCBzb2NrZXQgPSBpby5jb25uZWN0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvJyk7XG4gICAgbGV0IGNwT3BlbixcbiAgICAgICAgY3BSaWdodExpc3QgPVtdO1xuXG4gICAgbGV0IHJpZ2h0Q29tcG9uZW50cyA9IG5ldyBDb21wb25lbnRzKCk7XG5cbiAgICBjb25zb2xlLmxvZyhzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2ZpcnN0VmlzaXQnKSk7XG5cbiAgICAvKiBJTlRSTyBMT0FERVIgQ09ERSAqL1xuICAgICQoKCkgPT4ge1xuICAgICAgICBpZighc3RvcmFnZVN5c3RlbS5nZXRJdGVtKCdmaXJzdFZpc2l0JykpIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgMzAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVpLnJlbW92ZUVsZW1lbnQoJyNpbml0TG9hZGVyJyk7XG4gICAgICAgICAgICAgICAgdWkubWFrZVZpc2libGUoJyNtYWluV3JhcHBlcicsIDUwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVpLmZhZGVPdXQoJyNpbml0TG9hZGVyJywgNTUwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdWkucmVtb3ZlRWxlbWVudCgnI2luaXRMb2FkZXInKTtcbiAgICAgICAgICAgICAgICB1aS5tYWtlVmlzaWJsZSgnI21haW5XcmFwcGVyJywgNTAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlU3lzdGVtLnNldEl0ZW0oJ2ZpcnN0VmlzaXQnLCB0cnVlKTtcblxuICAgIGNwT3BlbiA9IHN0b3JhZ2VTeXN0ZW0uZ2V0SXRlbSgnY3BPcGVuJyk7XG4gICAgY29uc29sZS5sb2coJ2NwT3Blbjo6OicsIGNwT3Blbik7XG4gICAgaWYoY3BPcGVuID09ICdmYWxzZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaG91bGQgc2xpZGU6IGNwT3BlblwiLCBjcE9wZW4pO1xuICAgICAgICB1aS5zbGlkZVRvZ2dsZUNwKCdjb250cm9sUGFuZWxXcmFwcGVyJywgTWFwKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGdldFR3ZWV0cyhldmVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgUmVhZHk6ICR7ZXZlbnR9YCk7XG4gICAgICAgIHNvY2tldC5lbWl0KCd0b3BpYycsIFwidHJ1bXBcIik7XG4gICAgfTtcblxuICAgICQoYCN0b2dnbGVTbGlkZXJCdG5gKS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NMSUNLRUQnKTtcbiAgICAgICAgdWkuc2xpZGVUb2dnbGVDcCgnY29udHJvbFBhbmVsV3JhcHBlcicsIE1hcCk7XG4gICAgfSk7XG5cbiAgICAvLyBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFjLWlucHV0JylcbiAgICBuZXcgTC5Db250cm9sLkdQbGFjZUF1dG9jb21wbGV0ZSh7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIG9iamVjdCBvZiBnb29nbGUgcGxhY2UgaXMgZ2l2ZW5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2NhdGlvbiBnaXZlbjonLCBsb2NhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBsYXQgPSBsb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICAgIGNvbnN0IGxuZyA9IGxvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuICAgICAgICAgICAgTWFwLnNldFZpZXcoW2xhdCwgbG5nXSwgOCk7XG4gICAgICAgICAgICAvLyBNYXAucGFuVG8obG9jYXRpb24pO1xuXG4gICAgICAgIH1cbiAgICB9KS5hZGRUbyhNYXApO1xuXG4gICAgc29ja2V0Lm9uKCd0d2VldCcsICh0d2VldCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnVHdlZXQ6ICcsIHR3ZWV0KTtcbiAgICB9KTtcblxuXG4gICAgLy8gZ2VuZXJhdGlvblxuICAgIC8vIHVpLmdlbmVyYXRlQ3BSaWdodFBhbmVsKCcjcGFuZWxXcmFwcGVyJywge30pO1xuXG4gICAgLy8gVGVzdGluZyBhcmVhXG4gICAgbGV0IHRlc3RHZW8gPSAnLTI1LjI3NDQsLTEzMy43NzUxJzsgLy8gQXVzdHJhbGlhXG4gICAgLy8gY29uc29sZS5sb2coJ1BhdGg6JywgUGF0aHMuZ2V0R2VvVHJlbmRzKHRlc3RHZW8pKTtcbiAgICBjb25zb2xlLmxvZyhQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpO1xuICAgIFJlcXVlc3QuZ2V0UmVxdWVzdChQYXRocy5nZXRHZW9UcmVuZHModGVzdEdlbykpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZihkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGlzdE9mVHJlbmRzID0gZGF0YS5kYXRhLnRyZW5kcztcbiAgICAgICAgICAgICAgICBsZXQgZ2VvRGF0YSA9IGRhdGEuZ2VvO1xuXG4gICAgICAgICAgICAgICAgJChcIiNxdWVyeVNlYXJjaFwiKS5lYXN5QXV0b2NvbXBsZXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogbGlzdE9mVHJlbmRzLFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZTogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBsaXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNob3dMaXN0RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChzdG9yYWdlU3lzdGVtLmdldEl0ZW0oJ2NwT3BlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLmFkZENsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhdXRvY29tcGxldGUtdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZWFzeS1hdXRvY29tcGxldGUtY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2F1dG9jb21wbGV0ZS10b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0ZW1wbGF0ZToge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJjdXN0b21cIlxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gbWV0aG9kOiBmdW5jdGlvbih2YWx1ZSwgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIHJldHVybiBcIjxpbWcgc3JjPSdcIiArIGl0ZW0uaWNvbiArIFwiJyAvPiB8IFwiICsgaXRlbS50eXBlICsgXCIgfCBcIiArIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBkYXRhXCIsIGRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyAgICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgdWkuYWRkRWxlbWVudFRvUGFuZWxcbiAgICAgICAgICAgIC8vICAgICAvLyAgICAgKFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAgICAgJyNwYW5lbENvbXBSaWdodFdyYXBwZXInLFxuICAgICAgICAgICAgLy8gICAgIC8vICAgICAgICAge30sXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICBcIkJ1dHRvbiBcIiArIGksXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAkKCc8YT48L2E+JyksXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnbWVudSBidG4gYnRuLXNlY29uZGFyeScsXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICAgICAnY29sLWxnLTQnXG4gICAgICAgICAgICAvLyAgICAgLy8gICAgICk7XG4gICAgICAgICAgICAvLyAgICAgLy8gfVxuXG4gICAgICAgICAgICAvLyAgICAgLy8gdW5kZWZpbmVkIGJ5IGRlZmF1bHQgd2lsbCBwbGFjZSAnZGl2JyBlbGVtZW50XG5cbiAgICAgICAgICAgIC8vICAgICAvLyB1aS5hZGRFbGVtZW50VG8oJycpXG5cbiAgICAgICAgICAgIC8vIH0oKSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTaG91bGQgcmVhY2ggaGVyZS4uLicpO1xuICAgICAgICAgICAgLy8gbGV0IGRyb3Bkb3duID0gdWkuYWRkQ29udGFpbmVyVG9Db250YWluZXIoJyNwYW5lbENvbXBSaWdodFdyYXBwZXInLCAnZmF2b3JpdGVzJywgdW5kZWZpbmVkLCAnZHJvcGRvd24gc2hvdycpO1xuICAgICAgICAgICAgLy8gbGV0ICRhID0gdWkuYWRkQ29udGFpbmVyVG9Db250YWluZXIoZHJvcGRvd24uYXR0cignaWQnKSwgdW5kZWZpbmVkLCAkKCc8YT4nKSwgJ2J0biBidG4tc2Vjb25kYXJ5IGRyb3Bkb3duLXRvZ2dsZScpO1xuICAgICAgICAgICAgLy8gdWkuYWRkVGV4dFRvKCRhLCAkYS5hdHRyKCdpZCcpKTtcblxuICAgICAgICAgICAgLy90YXJnZXQsIGRyb3Bkb3duTmFtZSwgZHJvcGRvd25JRCwgZGF0YUxpc3RcblxuXG4gICAgICAgICAgICBsZXQgcGFuZWxDb21wMSA9IG5ldyBQYW5lbENvbXBvbmVudCgnI3RvcFRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUb3AgMTAgVHdlZXRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtjb25zb2xlLmxvZygnaGknKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJuYW1lXCI6XCJkYWxlclwifSwge1wibmFtZVwiOlwibWljaGFlbFwifV0pO1xuICAgICAgICAgICAgbGV0IHBhbmVsQ29tcDIgPSBuZXcgUGFuZWxDb21wb25lbnQoJyN0b3BUd2VudHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RvcCAxMCBSZXR3ZWV0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe2NvbnNvbGUubG9nKCdoaScpfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XCJsYXN0bmFtZVwiOlwiYXNyb3JvdlwifSwge1wibGFzdG5hbWVcIjpcImpvam9cIn1dKVxuICAgICAgICAgICAgcmlnaHRDb21wb25lbnRzLmFkZChwYW5lbENvbXAxKTtcbiAgICAgICAgICAgIHJpZ2h0Q29tcG9uZW50cy5hZGQocGFuZWxDb21wMik7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuc2V0TmFtZSgnU29jaWFsIE1lZGlhJyk7XG4gICAgICAgICAgICByaWdodENvbXBvbmVudHMuc2V0SWQoJ3NvY01lZGlhJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGFuZWxDb21wIG9iamVjdDpcIiwgcmlnaHRDb21wb25lbnRzKTtcbiAgICAgICAgICAgIHVpLmFwcGVuZERyb3BEb3duVG9QYW5lbCgnI3BhbmVsQ29tcFJpZ2h0V3JhcHBlcicsIHJpZ2h0Q29tcG9uZW50cylcblxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciByZXF1ZXN0XCIsIGVycik7XG4gICAgfSk7XG5cbiAgICAvLyBSZXF1ZXN0LmdldFJlcXVlc3QoVXRpbHMuZ2V0VHJlbmRzUGxhY2VzKGxhdCwgbG9uZykpXG4gICAgLy8gICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIlRyZW5kcyBEYXRhXCIpO1xuICAgIC8vICAgICB9KVxufSk7XG4iXSwibmFtZXMiOlsibWFwTGF5ZXIiLCJNUSIsIm1haW5NYXAiLCJMIiwibWFwIiwiY29udHJvbCIsImxheWVycyIsImh5YnJpZExheWVyIiwic2F0ZWxsaXRlTGF5ZXIiLCJkYXJrTGF5ZXIiLCJsaWdodExheWVyIiwiYWRkVG8iLCJTdG9yYWdlU3lzdGVtIiwibG9jYWxTdG9yYWdlIiwiX2xvY2FsU3RvcmFnZSIsImtleSIsImdldEl0ZW0iLCJ2YWx1ZSIsInNldEl0ZW0iLCJzbGlkZVRvZ2dsZUNwIiwidGFyZ2V0SUQiLCJoZWlnaHRTZXR0ZXJJRCIsImNwRGVmYXVsdEhlaWdodCIsImNwTmF2SGVpZ2h0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm9mZnNldEhlaWdodCIsInRvU3RyaW5nIiwiY3BXcmFwcGVySGVpZ2h0Iiwic2xpZGluZ1RpbWUiLCJkZWZhdWx0VG9wIiwiJHF1ZXJ5U2VhcmNoRm9ybSIsIiQiLCIkdGFyZ2V0IiwiJGJvZHkiLCIkc2xpZGVTd2l0Y2hJY29uIiwic3RvcmFnZVN5c3RlbSIsIndpbmRvdyIsImNzcyIsImFuaW1hdGUiLCJoZWlnaHQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaW52YWxpZGF0ZVNpemUiLCJyZW1vdmVFbGVtZW50IiwidGFyZ2V0IiwicmVtb3ZlIiwiZmFkZU91dCIsInRpbWVyIiwiY2FsbGJhY2siLCJtYWtlVmlzaWJsZSIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwiYXBwZW5kRHJvcERvd25UbyIsImRyb3Bkb3duTmFtZSIsImRyb3Bkb3duSUQiLCJhY3Rpb25zTGlzdCIsIiR0YXJnZXRSZWYiLCJhcHBlbmQiLCIkZHJvcGRvd24iLCJmaW5kIiwiJGRyb3Bkb3duUmVmIiwiJGxpc3REaXYiLCJhY3Rpb24iLCJpbmRleCIsImlkIiwibmFtZSIsImFwcGVuZERyb3BEb3duVG9QYW5lbCIsImNvbXBvbmVudHNDbGFzcyIsImxvZyIsImxpc3QiLCJnZXRSZXF1ZXN0IiwidXJsIiwiUHJvbWlzZSIsInJlcyIsInJlaiIsImdldCIsImRhdGEiLCJzdGF0dXMiLCJnZXRHZW9UcmVuZHMiLCJsYXRMb25nU3RyaW5nIiwibG9jYXRpb24iLCJvcmlnaW4iLCJQYW5lbENvbXBvbmVudCIsImFjdGlvbkhhbmRsZXIiLCJhc2NlbmRpbmciLCJzb3J0ZWREYXRhIiwiZGVzY0NvbXBhcmF0b3IiLCJSIiwiY29tcGFyYXRvciIsImEiLCJiIiwiZ3QiLCJwcm9wIiwic29ydEJ5Iiwic29ydCIsImxpbWl0IiwiZm9ybWF0dGVkIiwiZ2V0U29ydGVkRGF0YUJ5Iiwic2xpY2UiLCJmbiIsIkNvbXBvbmVudHMiLCJwYW5lbENvbXBvbmVudCIsInB1c2giLCJsb2FkIiwic29ja2V0IiwiaW8iLCJjb25uZWN0IiwiY3BPcGVuIiwiY3BSaWdodExpc3QiLCJyaWdodENvbXBvbmVudHMiLCJNYXAiLCJvbiIsImV2ZW50IiwiQ29udHJvbCIsIkdQbGFjZUF1dG9jb21wbGV0ZSIsImxhdCIsImdlb21ldHJ5IiwibG5nIiwic2V0VmlldyIsInR3ZWV0IiwidGVzdEdlbyIsIlBhdGhzIiwidGhlbiIsImxpc3RPZlRyZW5kcyIsInRyZW5kcyIsImdlb0RhdGEiLCJnZW8iLCJlYXN5QXV0b2NvbXBsZXRlIiwicGFuZWxDb21wMSIsInBhbmVsQ29tcDIiLCJhZGQiLCJzZXROYW1lIiwic2V0SWQiLCJjYXRjaCIsImVyciJdLCJtYXBwaW5ncyI6Ijs7O0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBSUEsV0FBV0MsR0FBR0QsUUFBSCxFQUFmO0lBQThCRSxnQkFBOUI7O0FBRUFBLFVBQVVDLEVBQUVDLEdBQUYsQ0FBTSxZQUFOLEVBQW9CO1VBQ2xCSixRQURrQjtVQUVsQixDQUFFLFNBQUYsRUFBYSxDQUFDLFNBQWQsQ0FGa0I7UUFHcEI7Q0FIQSxDQUFWOztBQU1BRyxFQUFFRSxPQUFGLENBQVVDLE1BQVYsQ0FBaUI7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
